{"priority": "minor", "kind": "bug", "repository": {"links": {"self": {"href": "data/repositories/osrf/sdformat.json"}, "html": {"href": "#!/osrf/sdformat"}, "avatar": {"href": "data/bytebucket.org/ravatar/{b6d52f9f-b070-41c0-807c-94af07ea375b}ts=1606789"}}, "type": "repository", "name": "sdformat", "full_name": "osrf/sdformat", "uuid": "{b6d52f9f-b070-41c0-807c-94af07ea375b}"}, "links": {"attachments": {"href": "data/repositories/osrf/sdformat/issues/168/attachments_page=1.json"}, "self": {"href": "data/repositories/osrf/sdformat/issues/168.json"}, "watch": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/sdformat/issues/168/watch"}, "comments": {"href": "data/repositories/osrf/sdformat/issues/168/comments_page=1.json"}, "html": {"href": "#!/osrf/sdformat/issues/168/sdformat-pushes-visual-plugin-comments"}, "vote": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/sdformat/issues/168/vote"}}, "reporter": {"display_name": "Piyush Khandelwal", "uuid": "{0aafe920-14b3-4b46-927d-421c6f4e90f2}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B0aafe920-14b3-4b46-927d-421c6f4e90f2%7D"}, "html": {"href": "https://bitbucket.org/%7B0aafe920-14b3-4b46-927d-421c6f4e90f2%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/4c0a1652789850a7953553e6d883eb06d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsPK-1.png"}}, "nickname": "piyushk", "type": "user", "account_id": "557058:f6cfe420-cf98-45d4-b1ff-8a554ca13fd0"}, "title": "sdformat pushes visual plugin comments inside `<sdf></sdf>` tags", "component": null, "votes": 0, "watches": 1, "content": {"raw": "I have a sdf file that contains a visual plugin. As per this thread (http://answers.gazebosim.org/question/13494/warning-and-fail-to-read-an-sdf-element-converting-a-deprecated-sdf-sourcedata-string/), sdformat pushes the contents of the visual plugin insided `<sdf></sdf>` tags.\r\n\r\nHere's an example:\r\n```\r\n<sdf version=\"1.6\">\r\n  <model>\r\n    <link>\r\n      <visual>\r\n        <plugin name='FieldGroundPlugin' filename='libFieldGroundPlugin.so'>  \r\n          <path>example</path>\r\n        </plugin>\r\n...\r\n```\r\ngets converted to:\r\n```\r\n<sdf version=\"1.6\">\r\n  <model>\r\n    <link>\r\n      <visual>\r\n        <plugin name='FieldGroundPlugin' filename='libFieldGroundPlugin.so'>\r\n          <sdf>\r\n            <path>example</path>\r\n          </sdf>\r\n        </plugin>\r\n...\r\n```\r\n\r\nIt then complains about the self-inserted sdf tag with a spurious warning:\r\n```\r\nWarning [parser.cc:437] Converting a deprecated SDF source[data-string].\r\n```\r\n\r\nI don't fully understand the justification for pushing the contents into an <sdf> tag, but in any case, the warning should be eliminated.", "markup": "markdown", "html": "<p>I have a sdf file that contains a visual plugin. As per this thread (<a href=\"http://answers.gazebosim.org/question/13494/warning-and-fail-to-read-an-sdf-element-converting-a-deprecated-sdf-sourcedata-string/\" rel=\"nofollow\" class=\"ap-connect-link\">http://answers.gazebosim.org/question/13494/warning-and-fail-to-read-an-sdf-element-converting-a-deprecated-sdf-sourcedata-string/</a>), sdformat pushes the contents of the visual plugin insided <code>&lt;sdf&gt;&lt;/sdf&gt;</code> tags.</p>\n<p>Here's an example:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"nt\">&lt;sdf</span> <span class=\"na\">version=</span><span class=\"s\">&quot;1.6&quot;</span><span class=\"nt\">&gt;</span>\n  <span class=\"nt\">&lt;model&gt;</span>\n    <span class=\"nt\">&lt;link&gt;</span>\n      <span class=\"nt\">&lt;visual&gt;</span>\n        <span class=\"nt\">&lt;plugin</span> <span class=\"na\">name=</span><span class=\"s\">&#39;FieldGroundPlugin&#39;</span> <span class=\"na\">filename=</span><span class=\"s\">&#39;libFieldGroundPlugin.so&#39;</span><span class=\"nt\">&gt;</span>  \n          <span class=\"nt\">&lt;path&gt;</span>example<span class=\"nt\">&lt;/path&gt;</span>\n        <span class=\"nt\">&lt;/plugin&gt;</span>\n...\n</pre></div>\n\n\n<p>gets converted to:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"nt\">&lt;sdf</span> <span class=\"na\">version=</span><span class=\"s\">&quot;1.6&quot;</span><span class=\"nt\">&gt;</span>\n  <span class=\"nt\">&lt;model&gt;</span>\n    <span class=\"nt\">&lt;link&gt;</span>\n      <span class=\"nt\">&lt;visual&gt;</span>\n        <span class=\"nt\">&lt;plugin</span> <span class=\"na\">name=</span><span class=\"s\">&#39;FieldGroundPlugin&#39;</span> <span class=\"na\">filename=</span><span class=\"s\">&#39;libFieldGroundPlugin.so&#39;</span><span class=\"nt\">&gt;</span>\n          <span class=\"nt\">&lt;sdf&gt;</span>\n            <span class=\"nt\">&lt;path&gt;</span>example<span class=\"nt\">&lt;/path&gt;</span>\n          <span class=\"nt\">&lt;/sdf&gt;</span>\n        <span class=\"nt\">&lt;/plugin&gt;</span>\n...\n</pre></div>\n\n\n<p>It then complains about the self-inserted sdf tag with a spurious warning:</p>\n<div class=\"codehilite\"><pre><span></span>Warning [parser.cc:437] Converting a deprecated SDF source[data-string].\n</pre></div>\n\n\n<p>I don't fully understand the justification for pushing the contents into an &lt;sdf&gt; tag, but in any case, the warning should be eliminated.</p>", "type": "rendered"}, "assignee": null, "state": "new", "version": null, "edited_on": null, "created_on": "2017-09-29T21:20:47.375486+00:00", "milestone": null, "updated_on": "2018-01-22T07:57:14.187424+00:00", "type": "issue", "id": 168}