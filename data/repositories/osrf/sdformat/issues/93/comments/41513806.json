{"links": {"self": {"href": "data/repositories/osrf/sdformat/issues/93/comments/41513806.json"}, "html": {"href": "#!/osrf/sdformat/issues/93#comment-41513806"}}, "issue": {"links": {"self": {"href": "data/repositories/osrf/sdformat/issues/93.json"}}, "type": "issue", "id": 93, "repository": {"links": {"self": {"href": "data/repositories/osrf/sdformat.json"}, "html": {"href": "#!/osrf/sdformat"}, "avatar": {"href": "data/bytebucket.org/ravatar/{b6d52f9f-b070-41c0-807c-94af07ea375b}ts=1606789"}}, "type": "repository", "name": "sdformat", "full_name": "osrf/sdformat", "uuid": "{b6d52f9f-b070-41c0-807c-94af07ea375b}"}, "title": "Change the SDF spec to make <plugin> less gazebo-specific"}, "content": {"raw": "I agree with @mxgrey's last paragraph and think the `type` attribute is necessary: it allows other projects to use their own plugin loader, and it allows ignition projects to only load plugins relevant to them ([related](https://bitbucket.org/ignitionrobotics/ign-sensors/pull-requests/2/a-bit-of-code-refactor/diff#comment-46735566)). If you recognize the type then use your plugin loader.\n\n```xml\n<plugin name=\"thrusters\" type=\"ignition::gui::Plugin\" filename=\"libgazebo_thrusters_gui.so\">\n  <max_thrust>200</max_thrust>\n  <min_thrust>-200</min_thrust>\n</plugin>\n```\n\nBackwards compatibility options:\n\n1. @chapulina's [idea](#!/osrf/sdformat/issues/93/change-the-sdf-spec-to-make-less-gazebo#comment-39929299): add `type` as an optional attribute. Gazebo will attempt to load plugins with no type, printing a warning that type should be more specific.\n\n1. Make `type` required and bump the `SDF` version. The conversion script from 1.6 will automatically add gazebo types to plugin blocks. Gazebo will only load plugins with its types.\n\n1. ???\n\nI mention bumping the `SDF` version because I think the `filename` attribute should be renamed to `location` if `type` is added. Another plugin loader may not use filenames. Maybe it expects a URI and will download the plugin?", "markup": "markdown", "html": "<p>I agree with @mxgrey's last paragraph and think the <code>type</code> attribute is necessary: it allows other projects to use their own plugin loader, and it allows ignition projects to only load plugins relevant to them (<a data-is-external-link=\"true\" href=\"https://bitbucket.org/ignitionrobotics/ign-sensors/pull-requests/2/a-bit-of-code-refactor/diff#comment-46735566\" rel=\"nofollow\">related</a>). If you recognize the type then use your plugin loader.</p>\n<div class=\"codehilite language-xml\"><pre><span></span><span class=\"nt\">&lt;plugin</span> <span class=\"na\">name=</span><span class=\"s\">&quot;thrusters&quot;</span> <span class=\"na\">type=</span><span class=\"s\">&quot;ignition::gui::Plugin&quot;</span> <span class=\"na\">filename=</span><span class=\"s\">&quot;libgazebo_thrusters_gui.so&quot;</span><span class=\"nt\">&gt;</span>\n  <span class=\"nt\">&lt;max_thrust&gt;</span>200<span class=\"nt\">&lt;/max_thrust&gt;</span>\n  <span class=\"nt\">&lt;min_thrust&gt;</span>-200<span class=\"nt\">&lt;/min_thrust&gt;</span>\n<span class=\"nt\">&lt;/plugin&gt;</span>\n</pre></div>\n\n\n<p>Backwards compatibility options:</p>\n<ol>\n<li>\n<p>@chapulina's <a data-is-external-link=\"true\" href=\"#!/osrf/sdformat/issues/93/change-the-sdf-spec-to-make-less-gazebo#comment-39929299\" rel=\"nofollow\">idea</a>: add <code>type</code> as an optional attribute. Gazebo will attempt to load plugins with no type, printing a warning that type should be more specific.</p>\n</li>\n<li>\n<p>Make <code>type</code> required and bump the <code>SDF</code> version. The conversion script from 1.6 will automatically add gazebo types to plugin blocks. Gazebo will only load plugins with its types.</p>\n</li>\n<li>\n<p>???</p>\n</li>\n</ol>\n<p>I mention bumping the <code>SDF</code> version because I think the <code>filename</code> attribute should be renamed to <code>location</code> if <code>type</code> is added. Another plugin loader may not use filenames. Maybe it expects a URI and will download the plugin?</p>", "type": "rendered"}, "created_on": "2017-11-29T17:21:49.291629+00:00", "user": {"display_name": "Shane Loretz", "uuid": "{656e3311-aad9-45a1-aaf7-b0ee0e84b287}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B656e3311-aad9-45a1-aaf7-b0ee0e84b287%7D"}, "html": {"href": "https://bitbucket.org/%7B656e3311-aad9-45a1-aaf7-b0ee0e84b287%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:684383ab-ac95-4859-a350-4a6f41a94a22/c7a1ebf5-cade-4115-9f26-9d3facb776db/128"}}, "nickname": "Shane Loretz", "type": "user", "account_id": "557058:684383ab-ac95-4859-a350-4a6f41a94a22"}, "updated_on": null, "type": "issue_comment", "id": 41513806}