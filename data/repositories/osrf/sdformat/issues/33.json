{"priority": "minor", "kind": "enhancement", "repository": {"links": {"self": {"href": "data/repositories/osrf/sdformat.json"}, "html": {"href": "#!/osrf/sdformat"}, "avatar": {"href": "data/bytebucket.org/ravatar/{b6d52f9f-b070-41c0-807c-94af07ea375b}ts=1606789"}}, "type": "repository", "name": "sdformat", "full_name": "osrf/sdformat", "uuid": "{b6d52f9f-b070-41c0-807c-94af07ea375b}"}, "links": {"attachments": {"href": "data/repositories/osrf/sdformat/issues/33/attachments_page=1.json"}, "self": {"href": "data/repositories/osrf/sdformat/issues/33.json"}, "watch": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/sdformat/issues/33/watch"}, "comments": {"href": "data/repositories/osrf/sdformat/issues/33/comments_page=1.json"}, "html": {"href": "#!/osrf/sdformat/issues/33/add-ability-to-specify-g_reducefixedjoints"}, "vote": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/sdformat/issues/33/vote"}}, "reporter": {"display_name": "Kenny Sharma", "uuid": "{d7b75212-e3b1-42c9-b7a8-50aa42951ce8}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bd7b75212-e3b1-42c9-b7a8-50aa42951ce8%7D"}, "html": {"href": "https://bitbucket.org/%7Bd7b75212-e3b1-42c9-b7a8-50aa42951ce8%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/bd81e1cc5390928db838b229570537a4d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsKS-1.png"}}, "nickname": "kennysharma", "type": "user", "account_id": "557058:79f075d9-d7fb-4230-b1ac-6d9a545a4bdd"}, "title": "Add Ability To Specify g_reduceFixedJoints in URDF2SDF", "component": null, "votes": 0, "watches": 3, "content": {"raw": "We ran into an issue where we require a one to one mapping between the source URDF and parsed SDF for a couple of places where we need to communicate joint names between a set of components that exclusively use the source URDF and another that must use with the parsed SDF. This issue only exists where joints are collapsed by the SDF parser.\r\n\r\nUnfortunately the default and only constructor for URDF2SDF does not allow us to specify the value of g_reduceFixedJoints, which is explicitly set to true. As a workaround we have created a copy of the parser_urdf.cc and hh source and added a new constructor that allows the caller to specify the desired values for g_enforceLimits and g_reduceFixedJoints e.g.:\r\n\r\nURDF2SDF::URDF2SDF(bool enforceLimits, bool reduceFixedJoints)\r\n\r\nEverything seems to parse correctly and work as expected, is there a technical reason that setting these parameters is disallowed?", "markup": "markdown", "html": "<p>We ran into an issue where we require a one to one mapping between the source URDF and parsed SDF for a couple of places where we need to communicate joint names between a set of components that exclusively use the source URDF and another that must use with the parsed SDF. This issue only exists where joints are collapsed by the SDF parser.</p>\n<p>Unfortunately the default and only constructor for URDF2SDF does not allow us to specify the value of g_reduceFixedJoints, which is explicitly set to true. As a workaround we have created a copy of the parser_urdf.cc and hh source and added a new constructor that allows the caller to specify the desired values for g_enforceLimits and g_reduceFixedJoints e.g.:</p>\n<p>URDF2SDF::URDF2SDF(bool enforceLimits, bool reduceFixedJoints)</p>\n<p>Everything seems to parse correctly and work as expected, is there a technical reason that setting these parameters is disallowed?</p>", "type": "rendered"}, "assignee": null, "state": "resolved", "version": null, "edited_on": null, "created_on": "2013-10-24T16:18:21.141814+00:00", "milestone": null, "updated_on": "2015-04-08T16:01:49.366677+00:00", "type": "issue", "id": 33}