{"pagelen": 100, "values": [{"changes": {"content": {"new": "When using nested models, I have the necessity of changing the parameters of a plugin directly from the parent model SDF without changing the SDF of the model that is included (e.g. if I want multiple instances of the same model but with different parameters).\r\n\r\nA possible solution is having a plugin that search for the configuration not only in the `plugin SDF`,  but also looking a the parent `model SDF` using [GetParent()](http://osrf-distributions.s3.amazonaws.com/sdformat/api/3.0/classsdf_1_1Element.html#a38fd0c101a51816d5ef5a9e179ae4525):  \r\ne.g.\r\n\r\n**original model**\r\n```xml\r\n<model name=\"myModel\">\r\n  <plugin name=\"myPlugin\" filename=\"myPlugin.so\">\r\n    <PluginConfiguration> ... </PluginConfiguration>\r\n  </plugin>\r\n  ...\r\n</model>\r\n```\r\n\r\n**overritten model**\r\n```xml\r\n<model name=\"overritenModel\">\r\n  <configurationOverride plugin_name='myPlugin'> ... </configurationOverride>\r\n  <include>\r\n    <uri>model://myModel</uri>\r\n  </include>\r\n</model>\r\n```\r\nHowever, this is not feasible since it is not possible to add a custom SDF <element> to a model. \r\nA custom SDF <element> can be add only in a <plugin> (thanks to special class defined in [plugin.sdf](#!/osrf/sdformat/src/d5372e7cf352d09586f6e08d60a624597f2bd4c0/sdf/1.6/plugin.sdf?at=sdf6&fileviewer=file-view-default#plugin.sdf-10)), so at the moment the solution works only using a dummy plugin that doesn't do anything:  \r\n**overritten model**\r\n```xml\r\n<model name=\"overritenModel\">\r\n  <plugin name='override_plugin' filename='dummy_plugin.so'>\r\n    <configurationOverride plugin_name='myPlugin'> ... </configurationOverride>\r\n  </plugin>\r\n  <include>\r\n    <uri>model://myModel</uri>\r\n  </include>\r\n</model>\r\n```\r\n\r\nIt would be great to have a clean way to pass parameters to a plugin in a nested model. A good way might be having those parameters as element of the <model>, and reading them from the plugin.\r\n\r\n(original discussion in gazebo-yarp-plugin at https://github.com/robotology/gazebo-yarp-plugins/issues/392)", "old": "When using nested models, I have the necessity of changing the parameters of a plugin directly from the parent model SDF without changing the SDF of the model that is included (e.g. if I want multiple instances of the same model but with different parameters).\r\n\r\nA possible solution is having a plugin that search for the configuration not only in the `plugin SDF`,  but also looking a the parent `model SDF` using [GetParent()](http://osrf-distributions.s3.amazonaws.com/sdformat/api/3.0/classsdf_1_1Element.html#a38fd0c101a51816d5ef5a9e179ae4525):  \r\ne.g.\r\n\r\n**original model**\r\n```xml\r\n<model name=\"myModel\">\r\n  <plugin name=\"myPlugin\" filename=\"myPlugin.so\">\r\n    <PluginConfiguration> ... </PluginConfiguration>\r\n  </plugin>\r\n  ...\r\n</model>\r\n```\r\n\r\n**overritten model**\r\n```xml\r\n<model name=\"overritenModel\">\r\n  <configurationOverride plugin_name='myPlugin'> ... </configurationOverride>\r\n  <include>\r\n    <uri>model://myModel</uri>\r\n  </include>\r\n</model>\r\n```\r\nHowever, this is not feasible since it is not possible to add a custom SDF <element> to a model. \r\nA custom SDF <element> can be add only in a <plugin> (thanks to special class defined in [plugin.sdf](#!/osrf/sdformat/src/d5372e7cf352d09586f6e08d60a624597f2bd4c0/sdf/1.6/plugin.sdf?at=sdf6&fileviewer=file-view-default#plugin.sdf-10)), so at the moment the solution works only using a dummy plugin that doesn't do anything:  \r\n**overritten model**\r\n```xml\r\n<model name=\"overritenModel\">\r\n  <plugin name='override_plugin' filename='dummy_plugin.so'>\r\n    <configurationOverride plugin_name='myPlugin'> ... </configurationOverride>\r\n  </plugin>\r\n  <include>\r\n    <uri>model://myModel</uri>\r\n  </include>\r\n</model>\r\n```\r\n\r\nIt would be great to have a clean way to pass parameters to a plugin in a nested model. A good way might be having those parameters as element of the <model>, and reading them from the plugin."}}, "links": {"self": {"href": "data/repositories/osrf/sdformat/issues/205/changes/48743651.json"}, "html": {"href": "#!/osrf/sdformat/issues/205#comment-48743651"}}, "issue": {"links": {"self": {"href": "data/repositories/osrf/sdformat/issues/205.json"}}, "type": "issue", "id": 205, "repository": {"links": {"self": {"href": "data/repositories/osrf/sdformat.json"}, "html": {"href": "#!/osrf/sdformat"}, "avatar": {"href": "data/bytebucket.org/ravatar/{b6d52f9f-b070-41c0-807c-94af07ea375b}ts=1606789"}}, "type": "repository", "name": "sdformat", "full_name": "osrf/sdformat", "uuid": "{b6d52f9f-b070-41c0-807c-94af07ea375b}"}, "title": "Pass parameter to plugin from parent model"}, "created_on": "2018-11-05T14:05:32.315334+00:00", "user": {"display_name": "Lorenzo Rapetti", "uuid": "{163ad6dd-2725-4cbb-9d5f-7078d8891005}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B163ad6dd-2725-4cbb-9d5f-7078d8891005%7D"}, "html": {"href": "https://bitbucket.org/%7B163ad6dd-2725-4cbb-9d5f-7078d8891005%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/5a42e8a6e30920121a4955f5/eb43c756-42e6-493a-a268-482525c964d7/128"}}, "nickname": "lorrapetti", "type": "user", "account_id": "5a42e8a6e30920121a4955f5"}, "message": {"raw": null, "markup": "markdown", "html": "", "type": "rendered"}, "type": "issue_change", "id": 48743651}], "page": 1, "size": 1}