{"priority": "critical", "kind": "bug", "repository": {"links": {"self": {"href": "data/repositories/osrf/sdformat.json"}, "html": {"href": "#!/osrf/sdformat"}, "avatar": {"href": "data/bytebucket.org/ravatar/{b6d52f9f-b070-41c0-807c-94af07ea375b}ts=1606789"}}, "type": "repository", "name": "sdformat", "full_name": "osrf/sdformat", "uuid": "{b6d52f9f-b070-41c0-807c-94af07ea375b}"}, "links": {"attachments": {"href": "data/repositories/osrf/sdformat/issues/29/attachments_page=1.json"}, "self": {"href": "data/repositories/osrf/sdformat/issues/29.json"}, "watch": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/sdformat/issues/29/watch"}, "comments": {"href": "data/repositories/osrf/sdformat/issues/29/comments_page=1.json"}, "html": {"href": "#!/osrf/sdformat/issues/29/incompatibility-between-sdformats-urdf-and"}, "vote": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/sdformat/issues/29/vote"}}, "reporter": {"display_name": "Paul Mathieu", "uuid": "{c5c34c75-e3ca-495f-a49a-623b1e159fca}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc5c34c75-e3ca-495f-a49a-623b1e159fca%7D"}, "html": {"href": "https://bitbucket.org/%7Bc5c34c75-e3ca-495f-a49a-623b1e159fca%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/4808dc3f5ee7a7a70e527f4b794fd18ad=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsPM-6.png"}}, "nickname": "po1", "type": "user", "account_id": "5a42f956b7c4b33a38a18aac"}, "title": "incompatibility between sdformat's URDF and github's URDF", "component": null, "votes": 0, "watches": 3, "content": {"raw": "There has been changes in some of the urdfdom_headers on github [1], and as a consequence, the urdf classes included in sdformat are not binary-compatible with those coming with ROS Hydro.\r\n\r\nI have been fighting (hard) with really strange bugs as you can imagine before I ended up here. In a nutshell, I was working with a robot controller that parses urdf models, and that was running inside of gazebo. My controller used the headers and linked against the version of urdf tht is shipped with ROS Hydro, but the dynamic linking at runtime was done against the sdformat.so library, resulting in segfaults, very strange behaviors, and loss of hair on my part.\r\n\r\nI can see two ways to solve this:\r\n\r\n* update your version of urdf to match the *official* one\r\n* stop using it altogether and declare it as an external dependency.\r\n\r\nI would strongly suggest that the second option be chosen, especially since these packages are not ROS packages anymore. \r\n\r\n[1]: https://github.com/ros/urdfdom_headers/commit/eaa820b84e69c39e43452318ed07e7928eb1b577", "markup": "markdown", "html": "<p>There has been changes in some of the urdfdom_headers on github <a href=\"https://github.com/ros/urdfdom_headers/commit/eaa820b84e69c39e43452318ed07e7928eb1b577\">1</a>, and as a consequence, the urdf classes included in sdformat are not binary-compatible with those coming with ROS Hydro.</p>\n<p>I have been fighting (hard) with really strange bugs as you can imagine before I ended up here. In a nutshell, I was working with a robot controller that parses urdf models, and that was running inside of gazebo. My controller used the headers and linked against the version of urdf tht is shipped with ROS Hydro, but the dynamic linking at runtime was done against the sdformat.so library, resulting in segfaults, very strange behaviors, and loss of hair on my part.</p>\n<p>I can see two ways to solve this:</p>\n<ul>\n<li>update your version of urdf to match the <em>official</em> one</li>\n<li>stop using it altogether and declare it as an external dependency.</li>\n</ul>\n<p>I would strongly suggest that the second option be chosen, especially since these packages are not ROS packages anymore. </p>", "type": "rendered"}, "assignee": {"display_name": "Jose Luis Rivero", "uuid": "{d12309b2-f745-42ee-b119-aec4fcdf81fe}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bd12309b2-f745-42ee-b119-aec4fcdf81fe%7D"}, "html": {"href": "https://bitbucket.org/%7Bd12309b2-f745-42ee-b119-aec4fcdf81fe%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/109284c8b83411dbc7492138f6167e9ed=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsJR-5.png"}}, "nickname": "Jose Luis Rivero", "type": "user", "account_id": "557058:155a32e2-420c-4d50-98e0-0e722f63f906"}, "state": "resolved", "version": null, "edited_on": null, "created_on": "2013-10-19T14:37:14.489079+00:00", "milestone": null, "updated_on": "2013-11-26T17:42:44.195675+00:00", "type": "issue", "id": 29}