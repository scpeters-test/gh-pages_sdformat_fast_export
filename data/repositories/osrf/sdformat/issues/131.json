{"priority": "major", "kind": "bug", "repository": {"links": {"self": {"href": "data/repositories/osrf/sdformat.json"}, "html": {"href": "#!/osrf/sdformat"}, "avatar": {"href": "data/bytebucket.org/ravatar/{b6d52f9f-b070-41c0-807c-94af07ea375b}ts=1606789"}}, "type": "repository", "name": "sdformat", "full_name": "osrf/sdformat", "uuid": "{b6d52f9f-b070-41c0-807c-94af07ea375b}"}, "links": {"attachments": {"href": "data/repositories/osrf/sdformat/issues/131/attachments_page=1.json"}, "self": {"href": "data/repositories/osrf/sdformat/issues/131.json"}, "watch": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/sdformat/issues/131/watch"}, "comments": {"href": "data/repositories/osrf/sdformat/issues/131/comments_page=1.json"}, "html": {"href": "#!/osrf/sdformat/issues/131/disabling-lumping-on-a-fixed-joint-in-a"}, "vote": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/sdformat/issues/131/vote"}}, "reporter": {"display_name": "Michael Beardsworth", "uuid": "{6d29b10b-98d1-40a8-9074-c9bbc5ad7a39}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B6d29b10b-98d1-40a8-9074-c9bbc5ad7a39%7D"}, "html": {"href": "https://bitbucket.org/%7B6d29b10b-98d1-40a8-9074-c9bbc5ad7a39%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/15c2fe64bea15ed9be13a4bdb5856938d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsMB-1.png"}}, "nickname": "mbeards", "type": "user", "account_id": "557058:c7b66d98-2604-4316-9362-ddbfe8280c39"}, "title": "Disabling lumping on a fixed joint in a URDF results in a revolute joint", "component": null, "votes": 0, "watches": 1, "content": {"raw": "Parsing a URDF like the one below, (with 2 links connected by a fixed joint, lumping disabled), produces a model with 2 links joined by a revolute joint.  This behavior seems surprising to me, but is clearly implemented intentionally (#!/osrf/sdformat/src/a3fa3d1163cc2fe991ac106e51695b99f8b119ca/src/parser_urdf.cc?at=default&fileviewer=file-view-default#parser_urdf.cc-3221).  Does anyone know the history of this behavior?  It's a bit problematic for my application.\r\n\r\n```\r\n#!xml\r\n\r\n<robot name=\"robot\">\r\n  <link name=\"base_link\">\r\n    <visual>\r\n      <origin rpy=\"1.570796326790 0 0\" xyz=\"0 0 .215\"/>\r\n      <geometry>\r\n        <box size=\"0.33 0.22 0.23\"/>\r\n      </geometry>\r\n    </visual>\r\n    <collision>\r\n      <origin rpy=\"0 0 0\" xyz=\"-0.05 0 0.1\"/>\r\n      <geometry>\r\n        <box size=\"0.33 0.22 0.23\"/>\r\n      </geometry>\r\n    </collision>\r\n    <inertial>\r\n      <origin rpy=\"1.570796326790 0 0\" xyz=\"0 0 .215\"/>\r\n      <inertia ixx=\"1\" ixy=\"0\" ixz=\"0\" iyy=\"1\" iyz=\"0\" izz=\"1\"/>\r\n      <mass value=\"1\"/>\r\n    </inertial>\r\n  </link>\r\n  <link name=\"second_link\">\r\n    <visual>\r\n      <origin rpy=\"1.570796326790 0 0\" xyz=\"0 0 0\"/>\r\n      <geometry>\r\n        <cylinder radius=\"0.16\" length=\"0.3\"/>\r\n      </geometry>\r\n    </visual>\r\n    <collision>\r\n      <origin rpy=\"0 0 0\" xyz=\"0.02 0 0.15\"/>\r\n      <geometry>\r\n        <cylinder radius=\"0.16\" length=\"0.3\"/>\r\n      </geometry>\r\n    </collision>\r\n    <inertial>\r\n      <origin rpy=\"1.570796326790 0 0\" xyz=\"0 0 0\"/>\r\n      <inertia ixx=\"1\" ixy=\"0\" ixz=\"0\" iyy=\"1\" iyz=\"0\" izz=\"1\"/>\r\n      <mass value=\"1\"/>\r\n    </inertial>\r\n  </link>\r\n  <joint name=\"joint_base_second\" type=\"fixed\">\r\n    <origin rpy=\"0 0 0\" xyz=\"0 0 .215\"/>\r\n    <parent link=\"base_link\"/>\r\n    <child link=\"second_link\"/>\r\n  </joint>\r\n  <gazebo reference=\"joint_base_second\">\r\n    <disableFixedJointLumping>true</disableFixedJointLumping>\r\n  </gazebo>\r\n</robot>\r\n```", "markup": "markdown", "html": "<p>Parsing a URDF like the one below, (with 2 links connected by a fixed joint, lumping disabled), produces a model with 2 links joined by a revolute joint.  This behavior seems surprising to me, but is clearly implemented intentionally (<a href=\"#!/osrf/sdformat/src/a3fa3d1163cc2fe991ac106e51695b99f8b119ca/src/parser_urdf.cc?at=default&amp;fileviewer=file-view-default#parser_urdf.cc-3221\" rel=\"nofollow\" class=\"ap-connect-link\">#!/osrf/sdformat/src/a3fa3d1163cc2fe991ac106e51695b99f8b119ca/src/parser_urdf.cc?at=default&amp;fileviewer=file-view-default#parser_urdf.cc-3221</a>).  Does anyone know the history of this behavior?  It's a bit problematic for my application.</p>\n<div class=\"codehilite language-xml\"><pre><span></span><span class=\"nt\">&lt;robot</span> <span class=\"na\">name=</span><span class=\"s\">&quot;robot&quot;</span><span class=\"nt\">&gt;</span>\n  <span class=\"nt\">&lt;link</span> <span class=\"na\">name=</span><span class=\"s\">&quot;base_link&quot;</span><span class=\"nt\">&gt;</span>\n    <span class=\"nt\">&lt;visual&gt;</span>\n      <span class=\"nt\">&lt;origin</span> <span class=\"na\">rpy=</span><span class=\"s\">&quot;1.570796326790 0 0&quot;</span> <span class=\"na\">xyz=</span><span class=\"s\">&quot;0 0 .215&quot;</span><span class=\"nt\">/&gt;</span>\n      <span class=\"nt\">&lt;geometry&gt;</span>\n        <span class=\"nt\">&lt;box</span> <span class=\"na\">size=</span><span class=\"s\">&quot;0.33 0.22 0.23&quot;</span><span class=\"nt\">/&gt;</span>\n      <span class=\"nt\">&lt;/geometry&gt;</span>\n    <span class=\"nt\">&lt;/visual&gt;</span>\n    <span class=\"nt\">&lt;collision&gt;</span>\n      <span class=\"nt\">&lt;origin</span> <span class=\"na\">rpy=</span><span class=\"s\">&quot;0 0 0&quot;</span> <span class=\"na\">xyz=</span><span class=\"s\">&quot;-0.05 0 0.1&quot;</span><span class=\"nt\">/&gt;</span>\n      <span class=\"nt\">&lt;geometry&gt;</span>\n        <span class=\"nt\">&lt;box</span> <span class=\"na\">size=</span><span class=\"s\">&quot;0.33 0.22 0.23&quot;</span><span class=\"nt\">/&gt;</span>\n      <span class=\"nt\">&lt;/geometry&gt;</span>\n    <span class=\"nt\">&lt;/collision&gt;</span>\n    <span class=\"nt\">&lt;inertial&gt;</span>\n      <span class=\"nt\">&lt;origin</span> <span class=\"na\">rpy=</span><span class=\"s\">&quot;1.570796326790 0 0&quot;</span> <span class=\"na\">xyz=</span><span class=\"s\">&quot;0 0 .215&quot;</span><span class=\"nt\">/&gt;</span>\n      <span class=\"nt\">&lt;inertia</span> <span class=\"na\">ixx=</span><span class=\"s\">&quot;1&quot;</span> <span class=\"na\">ixy=</span><span class=\"s\">&quot;0&quot;</span> <span class=\"na\">ixz=</span><span class=\"s\">&quot;0&quot;</span> <span class=\"na\">iyy=</span><span class=\"s\">&quot;1&quot;</span> <span class=\"na\">iyz=</span><span class=\"s\">&quot;0&quot;</span> <span class=\"na\">izz=</span><span class=\"s\">&quot;1&quot;</span><span class=\"nt\">/&gt;</span>\n      <span class=\"nt\">&lt;mass</span> <span class=\"na\">value=</span><span class=\"s\">&quot;1&quot;</span><span class=\"nt\">/&gt;</span>\n    <span class=\"nt\">&lt;/inertial&gt;</span>\n  <span class=\"nt\">&lt;/link&gt;</span>\n  <span class=\"nt\">&lt;link</span> <span class=\"na\">name=</span><span class=\"s\">&quot;second_link&quot;</span><span class=\"nt\">&gt;</span>\n    <span class=\"nt\">&lt;visual&gt;</span>\n      <span class=\"nt\">&lt;origin</span> <span class=\"na\">rpy=</span><span class=\"s\">&quot;1.570796326790 0 0&quot;</span> <span class=\"na\">xyz=</span><span class=\"s\">&quot;0 0 0&quot;</span><span class=\"nt\">/&gt;</span>\n      <span class=\"nt\">&lt;geometry&gt;</span>\n        <span class=\"nt\">&lt;cylinder</span> <span class=\"na\">radius=</span><span class=\"s\">&quot;0.16&quot;</span> <span class=\"na\">length=</span><span class=\"s\">&quot;0.3&quot;</span><span class=\"nt\">/&gt;</span>\n      <span class=\"nt\">&lt;/geometry&gt;</span>\n    <span class=\"nt\">&lt;/visual&gt;</span>\n    <span class=\"nt\">&lt;collision&gt;</span>\n      <span class=\"nt\">&lt;origin</span> <span class=\"na\">rpy=</span><span class=\"s\">&quot;0 0 0&quot;</span> <span class=\"na\">xyz=</span><span class=\"s\">&quot;0.02 0 0.15&quot;</span><span class=\"nt\">/&gt;</span>\n      <span class=\"nt\">&lt;geometry&gt;</span>\n        <span class=\"nt\">&lt;cylinder</span> <span class=\"na\">radius=</span><span class=\"s\">&quot;0.16&quot;</span> <span class=\"na\">length=</span><span class=\"s\">&quot;0.3&quot;</span><span class=\"nt\">/&gt;</span>\n      <span class=\"nt\">&lt;/geometry&gt;</span>\n    <span class=\"nt\">&lt;/collision&gt;</span>\n    <span class=\"nt\">&lt;inertial&gt;</span>\n      <span class=\"nt\">&lt;origin</span> <span class=\"na\">rpy=</span><span class=\"s\">&quot;1.570796326790 0 0&quot;</span> <span class=\"na\">xyz=</span><span class=\"s\">&quot;0 0 0&quot;</span><span class=\"nt\">/&gt;</span>\n      <span class=\"nt\">&lt;inertia</span> <span class=\"na\">ixx=</span><span class=\"s\">&quot;1&quot;</span> <span class=\"na\">ixy=</span><span class=\"s\">&quot;0&quot;</span> <span class=\"na\">ixz=</span><span class=\"s\">&quot;0&quot;</span> <span class=\"na\">iyy=</span><span class=\"s\">&quot;1&quot;</span> <span class=\"na\">iyz=</span><span class=\"s\">&quot;0&quot;</span> <span class=\"na\">izz=</span><span class=\"s\">&quot;1&quot;</span><span class=\"nt\">/&gt;</span>\n      <span class=\"nt\">&lt;mass</span> <span class=\"na\">value=</span><span class=\"s\">&quot;1&quot;</span><span class=\"nt\">/&gt;</span>\n    <span class=\"nt\">&lt;/inertial&gt;</span>\n  <span class=\"nt\">&lt;/link&gt;</span>\n  <span class=\"nt\">&lt;joint</span> <span class=\"na\">name=</span><span class=\"s\">&quot;joint_base_second&quot;</span> <span class=\"na\">type=</span><span class=\"s\">&quot;fixed&quot;</span><span class=\"nt\">&gt;</span>\n    <span class=\"nt\">&lt;origin</span> <span class=\"na\">rpy=</span><span class=\"s\">&quot;0 0 0&quot;</span> <span class=\"na\">xyz=</span><span class=\"s\">&quot;0 0 .215&quot;</span><span class=\"nt\">/&gt;</span>\n    <span class=\"nt\">&lt;parent</span> <span class=\"na\">link=</span><span class=\"s\">&quot;base_link&quot;</span><span class=\"nt\">/&gt;</span>\n    <span class=\"nt\">&lt;child</span> <span class=\"na\">link=</span><span class=\"s\">&quot;second_link&quot;</span><span class=\"nt\">/&gt;</span>\n  <span class=\"nt\">&lt;/joint&gt;</span>\n  <span class=\"nt\">&lt;gazebo</span> <span class=\"na\">reference=</span><span class=\"s\">&quot;joint_base_second&quot;</span><span class=\"nt\">&gt;</span>\n    <span class=\"nt\">&lt;disableFixedJointLumping&gt;</span>true<span class=\"nt\">&lt;/disableFixedJointLumping&gt;</span>\n  <span class=\"nt\">&lt;/gazebo&gt;</span>\n<span class=\"nt\">&lt;/robot&gt;</span>\n</pre></div>", "type": "rendered"}, "assignee": null, "state": "resolved", "version": null, "edited_on": null, "created_on": "2016-12-12T23:39:16.210022+00:00", "milestone": null, "updated_on": "2018-02-01T17:11:57.961163+00:00", "type": "issue", "id": 131}