{"priority": "major", "kind": "bug", "repository": {"links": {"self": {"href": "data/repositories/osrf/sdformat.json"}, "html": {"href": "#!/osrf/sdformat"}, "avatar": {"href": "data/bytebucket.org/ravatar/{b6d52f9f-b070-41c0-807c-94af07ea375b}ts=1606789"}}, "type": "repository", "name": "sdformat", "full_name": "osrf/sdformat", "uuid": "{b6d52f9f-b070-41c0-807c-94af07ea375b}"}, "links": {"attachments": {"href": "data/repositories/osrf/sdformat/issues/64/attachments_page=1.json"}, "self": {"href": "data/repositories/osrf/sdformat/issues/64.json"}, "watch": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/sdformat/issues/64/watch"}, "comments": {"href": "data/repositories/osrf/sdformat/issues/64/comments_page=1.json"}, "html": {"href": "#!/osrf/sdformat/issues/64/ignores-collision-tags-name-attribute-when"}, "vote": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/sdformat/issues/64/vote"}}, "reporter": {"display_name": "adhenning", "uuid": "{aa99a57e-7bf1-4a88-ad27-a3cdd36e629c}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Baa99a57e-7bf1-4a88-ad27-a3cdd36e629c%7D"}, "html": {"href": "https://bitbucket.org/%7Baa99a57e-7bf1-4a88-ad27-a3cdd36e629c%7D/"}, "avatar": {"href": "https://bitbucket.org/account/adhenning/avatar/"}}, "nickname": "adhenning", "type": "user", "account_id": null}, "title": "Ignores collision tags name attribute when converting URDF files", "component": null, "votes": 0, "watches": 1, "content": {"raw": "Converting from URDF to SDF ignores the name attribute of a link's collision tag and sets the name to <link_name>_collision. This causes problems when parts of the URDF such as the contact sensor reference the collision tag by name. In the attached file, it converts leftFingerCollision to leftFinger_collision.\r\n\r\nConversion output:\r\n\r\n```\r\n#!xml\r\n\r\n$ gzsdf print simple-robot.urdf \r\n<sdf version='1.4'>\r\n  <model name='GearsBot'>\r\n    <link name='leftFinger'>\r\n      <pose>0 0 0 0 -0 0</pose>\r\n      <inertial>\r\n        <pose>0.013123 -1.7347e-18 0.03315 0 -0 0</pose>\r\n        <mass>0.049208</mass>\r\n        <inertia>\r\n          <ixx>5.2203e-05</ixx>\r\n          <ixy>-4.2027e-22</ixy>\r\n          <ixz>1.0345e-05</ixz>\r\n          <iyy>6.106e-05</iyy>\r\n          <iyz>-2.2949e-21</iyz>\r\n          <izz>1.018e-05</izz>\r\n        </inertia>\r\n      </inertial>\r\n      <collision name='leftFinger_collision'>\r\n        <pose>0 0 0 0 -0 0</pose>\r\n        <geometry>\r\n          <mesh>\r\n            <scale>1 1 1</scale>\r\n            <uri>model://GearsBot/meshes/collision/leftFinger.STL</uri>\r\n          </mesh>\r\n        </geometry>\r\n        <surface>\r\n          <contact>\r\n            <ode/>\r\n          </contact>\r\n          <friction>\r\n            <ode/>\r\n          </friction>\r\n        </surface>\r\n      </collision>\r\n      <visual name='leftFinger_visual'>\r\n        <pose>0 0 0 0 -0 0</pose>\r\n        <geometry>\r\n          <mesh>\r\n            <scale>1 1 1</scale>\r\n            <uri>model://GearsBot/meshes/collision/leftFinger.STL</uri>\r\n          </mesh>\r\n        </geometry>\r\n      </visual>\r\n      <gravity>1</gravity>\r\n      <velocity_decay>\r\n        <linear>0</linear>\r\n        <angular>0</angular>\r\n      </velocity_decay>\r\n      <self_collide>0</self_collide>\r\n      <sensor name='leftFingerContact' type='contact'>\r\n        <always_on>1</always_on>\r\n        <update_rate>100</update_rate>\r\n        <contact>\r\n          <collision>leftFingerCollision</collision>\r\n          <topic>__default_topic__</topic>\r\n        </contact>\r\n      </sensor>\r\n    </link>\r\n  </model>\r\n</sdf>\r\n```\r\n", "markup": "markdown", "html": "<p>Converting from URDF to SDF ignores the name attribute of a link's collision tag and sets the name to &lt;link_name&gt;_collision. This causes problems when parts of the URDF such as the contact sensor reference the collision tag by name. In the attached file, it converts leftFingerCollision to leftFinger_collision.</p>\n<p>Conversion output:</p>\n<div class=\"codehilite language-xml\"><pre><span></span>$ gzsdf print simple-robot.urdf \n<span class=\"nt\">&lt;sdf</span> <span class=\"na\">version=</span><span class=\"s\">&#39;1.4&#39;</span><span class=\"nt\">&gt;</span>\n  <span class=\"nt\">&lt;model</span> <span class=\"na\">name=</span><span class=\"s\">&#39;GearsBot&#39;</span><span class=\"nt\">&gt;</span>\n    <span class=\"nt\">&lt;link</span> <span class=\"na\">name=</span><span class=\"s\">&#39;leftFinger&#39;</span><span class=\"nt\">&gt;</span>\n      <span class=\"nt\">&lt;pose&gt;</span>0 0 0 0 -0 0<span class=\"nt\">&lt;/pose&gt;</span>\n      <span class=\"nt\">&lt;inertial&gt;</span>\n        <span class=\"nt\">&lt;pose&gt;</span>0.013123 -1.7347e-18 0.03315 0 -0 0<span class=\"nt\">&lt;/pose&gt;</span>\n        <span class=\"nt\">&lt;mass&gt;</span>0.049208<span class=\"nt\">&lt;/mass&gt;</span>\n        <span class=\"nt\">&lt;inertia&gt;</span>\n          <span class=\"nt\">&lt;ixx&gt;</span>5.2203e-05<span class=\"nt\">&lt;/ixx&gt;</span>\n          <span class=\"nt\">&lt;ixy&gt;</span>-4.2027e-22<span class=\"nt\">&lt;/ixy&gt;</span>\n          <span class=\"nt\">&lt;ixz&gt;</span>1.0345e-05<span class=\"nt\">&lt;/ixz&gt;</span>\n          <span class=\"nt\">&lt;iyy&gt;</span>6.106e-05<span class=\"nt\">&lt;/iyy&gt;</span>\n          <span class=\"nt\">&lt;iyz&gt;</span>-2.2949e-21<span class=\"nt\">&lt;/iyz&gt;</span>\n          <span class=\"nt\">&lt;izz&gt;</span>1.018e-05<span class=\"nt\">&lt;/izz&gt;</span>\n        <span class=\"nt\">&lt;/inertia&gt;</span>\n      <span class=\"nt\">&lt;/inertial&gt;</span>\n      <span class=\"nt\">&lt;collision</span> <span class=\"na\">name=</span><span class=\"s\">&#39;leftFinger_collision&#39;</span><span class=\"nt\">&gt;</span>\n        <span class=\"nt\">&lt;pose&gt;</span>0 0 0 0 -0 0<span class=\"nt\">&lt;/pose&gt;</span>\n        <span class=\"nt\">&lt;geometry&gt;</span>\n          <span class=\"nt\">&lt;mesh&gt;</span>\n            <span class=\"nt\">&lt;scale&gt;</span>1 1 1<span class=\"nt\">&lt;/scale&gt;</span>\n            <span class=\"nt\">&lt;uri&gt;</span>model://GearsBot/meshes/collision/leftFinger.STL<span class=\"nt\">&lt;/uri&gt;</span>\n          <span class=\"nt\">&lt;/mesh&gt;</span>\n        <span class=\"nt\">&lt;/geometry&gt;</span>\n        <span class=\"nt\">&lt;surface&gt;</span>\n          <span class=\"nt\">&lt;contact&gt;</span>\n            <span class=\"nt\">&lt;ode/&gt;</span>\n          <span class=\"nt\">&lt;/contact&gt;</span>\n          <span class=\"nt\">&lt;friction&gt;</span>\n            <span class=\"nt\">&lt;ode/&gt;</span>\n          <span class=\"nt\">&lt;/friction&gt;</span>\n        <span class=\"nt\">&lt;/surface&gt;</span>\n      <span class=\"nt\">&lt;/collision&gt;</span>\n      <span class=\"nt\">&lt;visual</span> <span class=\"na\">name=</span><span class=\"s\">&#39;leftFinger_visual&#39;</span><span class=\"nt\">&gt;</span>\n        <span class=\"nt\">&lt;pose&gt;</span>0 0 0 0 -0 0<span class=\"nt\">&lt;/pose&gt;</span>\n        <span class=\"nt\">&lt;geometry&gt;</span>\n          <span class=\"nt\">&lt;mesh&gt;</span>\n            <span class=\"nt\">&lt;scale&gt;</span>1 1 1<span class=\"nt\">&lt;/scale&gt;</span>\n            <span class=\"nt\">&lt;uri&gt;</span>model://GearsBot/meshes/collision/leftFinger.STL<span class=\"nt\">&lt;/uri&gt;</span>\n          <span class=\"nt\">&lt;/mesh&gt;</span>\n        <span class=\"nt\">&lt;/geometry&gt;</span>\n      <span class=\"nt\">&lt;/visual&gt;</span>\n      <span class=\"nt\">&lt;gravity&gt;</span>1<span class=\"nt\">&lt;/gravity&gt;</span>\n      <span class=\"nt\">&lt;velocity_decay&gt;</span>\n        <span class=\"nt\">&lt;linear&gt;</span>0<span class=\"nt\">&lt;/linear&gt;</span>\n        <span class=\"nt\">&lt;angular&gt;</span>0<span class=\"nt\">&lt;/angular&gt;</span>\n      <span class=\"nt\">&lt;/velocity_decay&gt;</span>\n      <span class=\"nt\">&lt;self_collide&gt;</span>0<span class=\"nt\">&lt;/self_collide&gt;</span>\n      <span class=\"nt\">&lt;sensor</span> <span class=\"na\">name=</span><span class=\"s\">&#39;leftFingerContact&#39;</span> <span class=\"na\">type=</span><span class=\"s\">&#39;contact&#39;</span><span class=\"nt\">&gt;</span>\n        <span class=\"nt\">&lt;always_on&gt;</span>1<span class=\"nt\">&lt;/always_on&gt;</span>\n        <span class=\"nt\">&lt;update_rate&gt;</span>100<span class=\"nt\">&lt;/update_rate&gt;</span>\n        <span class=\"nt\">&lt;contact&gt;</span>\n          <span class=\"nt\">&lt;collision&gt;</span>leftFingerCollision<span class=\"nt\">&lt;/collision&gt;</span>\n          <span class=\"nt\">&lt;topic&gt;</span>__default_topic__<span class=\"nt\">&lt;/topic&gt;</span>\n        <span class=\"nt\">&lt;/contact&gt;</span>\n      <span class=\"nt\">&lt;/sensor&gt;</span>\n    <span class=\"nt\">&lt;/link&gt;</span>\n  <span class=\"nt\">&lt;/model&gt;</span>\n<span class=\"nt\">&lt;/sdf&gt;</span>\n</pre></div>", "type": "rendered"}, "assignee": null, "state": "new", "version": null, "edited_on": null, "created_on": "2014-06-10T20:15:42.300810+00:00", "milestone": null, "updated_on": "2014-06-10T20:16:47.792005+00:00", "type": "issue", "id": 64}