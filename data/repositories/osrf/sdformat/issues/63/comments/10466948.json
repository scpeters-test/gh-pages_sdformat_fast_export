{"links": {"self": {"href": "data/repositories/osrf/sdformat/issues/63/comments/10466948.json"}, "html": {"href": "#!/osrf/sdformat/issues/63#comment-10466948"}}, "issue": {"links": {"self": {"href": "data/repositories/osrf/sdformat/issues/63.json"}}, "type": "issue", "id": 63, "repository": {"links": {"self": {"href": "data/repositories/osrf/sdformat.json"}, "html": {"href": "#!/osrf/sdformat"}, "avatar": {"href": "data/bytebucket.org/ravatar/{b6d52f9f-b070-41c0-807c-94af07ea375b}ts=1606789"}}, "type": "repository", "name": "sdformat", "full_name": "osrf/sdformat", "uuid": "{b6d52f9f-b070-41c0-807c-94af07ea375b}"}, "title": "gzsdf segfaults in trusty"}, "content": {"raw": "I tested `gzsdf print urdf` with `ros-indigo-gazebo` on saucy and works. I tested on trusty, and it fails. If I build from source, then it works on trusty.\n\nI noticed that the trusty libsdformat.so.1.4.11 links against liburdfdom_model on trusty, while it did not do this on saucy. I'm guessing that this is the source of the error. @\\_jrivero_ what do you think?\n~~~\n$ ldd /usr/lib/x86_64-linux-gnu/libsdformat.so.1.4.11 | sort\n\t/lib64/ld-linux-x86-64.so.2 (0x00007ff728890000)\n\tlibboost_filesystem.so.1.54.0 => /usr/lib/x86_64-linux-gnu/libboost_filesystem.so.1.54.0 (0x00007ff727f78000)\n\tlibboost_regex.so.1.54.0 => /usr/lib/x86_64-linux-gnu/libboost_regex.so.1.54.0 (0x00007ff727c70000)\n\tlibboost_system.so.1.54.0 => /usr/lib/x86_64-linux-gnu/libboost_system.so.1.54.0 (0x00007ff728190000)\n\tlibconsole_bridge.so.0.2 => /usr/lib/x86_64-linux-gnu/libconsole_bridge.so.0.2 (0x00007ff726298000)\n\tlibc.so.6 => /lib/x86_64-linux-gnu/libc.so.6 (0x00007ff726e50000)\n\tlibdl.so.2 => /lib/x86_64-linux-gnu/libdl.so.2 (0x00007ff724820000)\n\tlibgcc_s.so.1 => /lib/x86_64-linux-gnu/libgcc_s.so.1 (0x00007ff727218000)\n\tlibicudata.so.52 => /usr/lib/x86_64-linux-gnu/libicudata.so.52 (0x00007ff724a28000)\n\tlibicui18n.so.52 => /usr/lib/x86_64-linux-gnu/libicui18n.so.52 (0x00007ff7264a8000)\n\tlibicuuc.so.52 => /usr/lib/x86_64-linux-gnu/libicuuc.so.52 (0x00007ff7268b0000)\n\tlibm.so.6 => /lib/x86_64-linux-gnu/libm.so.6 (0x00007ff727430000)\n\tlibpthread.so.0 => /lib/x86_64-linux-gnu/libpthread.so.0 (0x00007ff726c30000)\n\tlibstdc++.so.6 => /usr/lib/x86_64-linux-gnu/libstdc++.so.6 (0x00007ff727738000)\n\tlibtinyxml.so.2.6.2 => /usr/lib/x86_64-linux-gnu/libtinyxml.so.2.6.2 (0x00007ff728398000)\n\tliburdfdom_model.so.0.2 => /usr/lib/x86_64-linux-gnu/liburdfdom_model.so.0.2 (0x00007ff727a40000)\n\tlinux-vdso.so.1 =>  (0x00007fff76200000)\n~~~\n~~~\n\tliburdfdom_model.so.0.2 => /usr/lib/x86_64-linux-gnu/liburdfdom_model.so.0.2 (0x00007ff727a40000)\n~~~", "markup": "markdown", "html": "<p>I tested <code>gzsdf print urdf</code> with <code>ros-indigo-gazebo</code> on saucy and works. I tested on trusty, and it fails. If I build from source, then it works on trusty.</p>\n<p>I noticed that the trusty libsdformat.so.1.4.11 links against liburdfdom_model on trusty, while it did not do this on saucy. I'm guessing that this is the source of the error. @_jrivero_ what do you think?</p>\n<div class=\"codehilite\"><pre><span></span>$ ldd /usr/lib/x86_64-linux-gnu/libsdformat.so.1.4.11 <span class=\"p\">|</span> sort\n    /lib64/ld-linux-x86-64.so.2 <span class=\"o\">(</span>0x00007ff728890000<span class=\"o\">)</span>\n    libboost_filesystem.so.1.54.0 <span class=\"o\">=</span>&gt; /usr/lib/x86_64-linux-gnu/libboost_filesystem.so.1.54.0 <span class=\"o\">(</span>0x00007ff727f78000<span class=\"o\">)</span>\n    libboost_regex.so.1.54.0 <span class=\"o\">=</span>&gt; /usr/lib/x86_64-linux-gnu/libboost_regex.so.1.54.0 <span class=\"o\">(</span>0x00007ff727c70000<span class=\"o\">)</span>\n    libboost_system.so.1.54.0 <span class=\"o\">=</span>&gt; /usr/lib/x86_64-linux-gnu/libboost_system.so.1.54.0 <span class=\"o\">(</span>0x00007ff728190000<span class=\"o\">)</span>\n    libconsole_bridge.so.0.2 <span class=\"o\">=</span>&gt; /usr/lib/x86_64-linux-gnu/libconsole_bridge.so.0.2 <span class=\"o\">(</span>0x00007ff726298000<span class=\"o\">)</span>\n    libc.so.6 <span class=\"o\">=</span>&gt; /lib/x86_64-linux-gnu/libc.so.6 <span class=\"o\">(</span>0x00007ff726e50000<span class=\"o\">)</span>\n    libdl.so.2 <span class=\"o\">=</span>&gt; /lib/x86_64-linux-gnu/libdl.so.2 <span class=\"o\">(</span>0x00007ff724820000<span class=\"o\">)</span>\n    libgcc_s.so.1 <span class=\"o\">=</span>&gt; /lib/x86_64-linux-gnu/libgcc_s.so.1 <span class=\"o\">(</span>0x00007ff727218000<span class=\"o\">)</span>\n    libicudata.so.52 <span class=\"o\">=</span>&gt; /usr/lib/x86_64-linux-gnu/libicudata.so.52 <span class=\"o\">(</span>0x00007ff724a28000<span class=\"o\">)</span>\n    libicui18n.so.52 <span class=\"o\">=</span>&gt; /usr/lib/x86_64-linux-gnu/libicui18n.so.52 <span class=\"o\">(</span>0x00007ff7264a8000<span class=\"o\">)</span>\n    libicuuc.so.52 <span class=\"o\">=</span>&gt; /usr/lib/x86_64-linux-gnu/libicuuc.so.52 <span class=\"o\">(</span>0x00007ff7268b0000<span class=\"o\">)</span>\n    libm.so.6 <span class=\"o\">=</span>&gt; /lib/x86_64-linux-gnu/libm.so.6 <span class=\"o\">(</span>0x00007ff727430000<span class=\"o\">)</span>\n    libpthread.so.0 <span class=\"o\">=</span>&gt; /lib/x86_64-linux-gnu/libpthread.so.0 <span class=\"o\">(</span>0x00007ff726c30000<span class=\"o\">)</span>\n    libstdc++.so.6 <span class=\"o\">=</span>&gt; /usr/lib/x86_64-linux-gnu/libstdc++.so.6 <span class=\"o\">(</span>0x00007ff727738000<span class=\"o\">)</span>\n    libtinyxml.so.2.6.2 <span class=\"o\">=</span>&gt; /usr/lib/x86_64-linux-gnu/libtinyxml.so.2.6.2 <span class=\"o\">(</span>0x00007ff728398000<span class=\"o\">)</span>\n    liburdfdom_model.so.0.2 <span class=\"o\">=</span>&gt; /usr/lib/x86_64-linux-gnu/liburdfdom_model.so.0.2 <span class=\"o\">(</span>0x00007ff727a40000<span class=\"o\">)</span>\n    linux-vdso.so.1 <span class=\"o\">=</span>&gt;  <span class=\"o\">(</span>0x00007fff76200000<span class=\"o\">)</span>\n</pre></div>\n\n\n<div class=\"codehilite\"><pre><span></span>    liburdfdom_model.so.0.2 =&gt; /usr/lib/x86_64-linux-gnu/liburdfdom_model.so.0.2 (0x00007ff727a40000)\n</pre></div>", "type": "rendered"}, "created_on": "2014-05-31T00:34:43.345174+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "updated_on": "2014-05-31T00:34:53.140322+00:00", "type": "issue_comment", "id": 10466948}