{"pagelen": 100, "values": [{"links": {"self": {"href": "data/repositories/osrf/sdformat/issues/63/comments/10448930.json"}, "html": {"href": "#!/osrf/sdformat/issues/63#comment-10448930"}}, "issue": {"links": {"self": {"href": "data/repositories/osrf/sdformat/issues/63.json"}}, "type": "issue", "id": 63, "repository": {"links": {"self": {"href": "data/repositories/osrf/sdformat.json"}, "html": {"href": "#!/osrf/sdformat"}, "avatar": {"href": "data/bytebucket.org/ravatar/{b6d52f9f-b070-41c0-807c-94af07ea375b}ts=1606789"}}, "type": "repository", "name": "sdformat", "full_name": "osrf/sdformat", "uuid": "{b6d52f9f-b070-41c0-807c-94af07ea375b}"}, "title": "gzsdf segfaults in trusty"}, "content": {"raw": "This happens when using the gzsdf tool, and it also happens when launching gazebo and trying to spawn a urdf model using spawn_model.\n\nTo be clear, this happens when using the versions of gazebo/sdformat from the ROS repos, so:\nii  gazebo2                                               2.2.2-4~trusty\nii  libsdformat-dev:amd64                                 1.4.11-1\nii  libsdformat1:amd64                                    1.4.11-1", "markup": "markdown", "html": "<p>This happens when using the gzsdf tool, and it also happens when launching gazebo and trying to spawn a urdf model using spawn_model.</p>\n<p>To be clear, this happens when using the versions of gazebo/sdformat from the ROS repos, so:\nii  gazebo2                                               2.2.2-4~trusty\nii  libsdformat-dev:amd64                                 1.4.11-1\nii  libsdformat1:amd64                                    1.4.11-1</p>", "type": "rendered"}, "created_on": "2014-05-29T23:58:05.657806+00:00", "user": {"display_name": "Jonathan Binney", "uuid": "{1ab20f4e-2d01-413d-b41c-0d05784131a9}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B1ab20f4e-2d01-413d-b41c-0d05784131a9%7D"}, "html": {"href": "https://bitbucket.org/%7B1ab20f4e-2d01-413d-b41c-0d05784131a9%7D/"}, "avatar": {"href": "https://bitbucket.org/account/jbinney/avatar/"}}, "nickname": "jbinney", "type": "user", "account_id": null}, "updated_on": null, "type": "issue_comment", "id": 10448930}, {"links": {"self": {"href": "data/repositories/osrf/sdformat/issues/63/comments/10465451.json"}, "html": {"href": "#!/osrf/sdformat/issues/63#comment-10465451"}}, "issue": {"links": {"self": {"href": "data/repositories/osrf/sdformat/issues/63.json"}}, "type": "issue", "id": 63, "repository": {"links": {"self": {"href": "data/repositories/osrf/sdformat.json"}, "html": {"href": "#!/osrf/sdformat"}, "avatar": {"href": "data/bytebucket.org/ravatar/{b6d52f9f-b070-41c0-807c-94af07ea375b}ts=1606789"}}, "type": "repository", "name": "sdformat", "full_name": "osrf/sdformat", "uuid": "{b6d52f9f-b070-41c0-807c-94af07ea375b}"}, "title": "gzsdf segfaults in trusty"}, "content": {"raw": "After trying this with a couple different urdfs, I think that this segfault completely blocks using gazebo+ros+urdf in ROS indigo. @hsu or @davetcoleman have either of you successfully spawned a urdf-based robot in gazebo 2.2 (the version that gets shipped with ros-indigo)?", "markup": "markdown", "html": "<p>After trying this with a couple different urdfs, I think that this segfault completely blocks using gazebo+ros+urdf in ROS indigo. @hsu or @davetcoleman have either of you successfully spawned a urdf-based robot in gazebo 2.2 (the version that gets shipped with ros-indigo)?</p>", "type": "rendered"}, "created_on": "2014-05-30T21:11:21.609186+00:00", "user": {"display_name": "Jonathan Binney", "uuid": "{1ab20f4e-2d01-413d-b41c-0d05784131a9}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B1ab20f4e-2d01-413d-b41c-0d05784131a9%7D"}, "html": {"href": "https://bitbucket.org/%7B1ab20f4e-2d01-413d-b41c-0d05784131a9%7D/"}, "avatar": {"href": "https://bitbucket.org/account/jbinney/avatar/"}}, "nickname": "jbinney", "type": "user", "account_id": null}, "updated_on": null, "type": "issue_comment", "id": 10465451}, {"links": {"self": {"href": "data/repositories/osrf/sdformat/issues/63/comments/10466568.json"}, "html": {"href": "#!/osrf/sdformat/issues/63#comment-10466568"}}, "issue": {"links": {"self": {"href": "data/repositories/osrf/sdformat/issues/63.json"}}, "type": "issue", "id": 63, "repository": {"links": {"self": {"href": "data/repositories/osrf/sdformat.json"}, "html": {"href": "#!/osrf/sdformat"}, "avatar": {"href": "data/bytebucket.org/ravatar/{b6d52f9f-b070-41c0-807c-94af07ea375b}ts=1606789"}}, "type": "repository", "name": "sdformat", "full_name": "osrf/sdformat", "uuid": "{b6d52f9f-b070-41c0-807c-94af07ea375b}"}, "title": "gzsdf segfaults in trusty"}, "content": {"raw": "My desktop is on saucy, but I just found a trusty machine to test with. I'm looking into it.", "markup": "markdown", "html": "<p>My desktop is on saucy, but I just found a trusty machine to test with. I'm looking into it.</p>", "type": "rendered"}, "created_on": "2014-05-30T23:14:51.226875+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "updated_on": null, "type": "issue_comment", "id": 10466568}, {"links": {"self": {"href": "data/repositories/osrf/sdformat/issues/63/comments/10466725.json"}, "html": {"href": "#!/osrf/sdformat/issues/63#comment-10466725"}}, "issue": {"links": {"self": {"href": "data/repositories/osrf/sdformat/issues/63.json"}}, "type": "issue", "id": 63, "repository": {"links": {"self": {"href": "data/repositories/osrf/sdformat.json"}, "html": {"href": "#!/osrf/sdformat"}, "avatar": {"href": "data/bytebucket.org/ravatar/{b6d52f9f-b070-41c0-807c-94af07ea375b}ts=1606789"}}, "type": "repository", "name": "sdformat", "full_name": "osrf/sdformat", "uuid": "{b6d52f9f-b070-41c0-807c-94af07ea375b}"}, "title": "gzsdf segfaults in trusty"}, "content": {"raw": "I'm also upgrading my desktop to trusty, so I will do more testing with that release.", "markup": "markdown", "html": "<p>I'm also upgrading my desktop to trusty, so I will do more testing with that release.</p>", "type": "rendered"}, "created_on": "2014-05-30T23:43:54.538637+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "updated_on": null, "type": "issue_comment", "id": 10466725}, {"links": {"self": {"href": "data/repositories/osrf/sdformat/issues/63/comments/10466948.json"}, "html": {"href": "#!/osrf/sdformat/issues/63#comment-10466948"}}, "issue": {"links": {"self": {"href": "data/repositories/osrf/sdformat/issues/63.json"}}, "type": "issue", "id": 63, "repository": {"links": {"self": {"href": "data/repositories/osrf/sdformat.json"}, "html": {"href": "#!/osrf/sdformat"}, "avatar": {"href": "data/bytebucket.org/ravatar/{b6d52f9f-b070-41c0-807c-94af07ea375b}ts=1606789"}}, "type": "repository", "name": "sdformat", "full_name": "osrf/sdformat", "uuid": "{b6d52f9f-b070-41c0-807c-94af07ea375b}"}, "title": "gzsdf segfaults in trusty"}, "content": {"raw": "I tested `gzsdf print urdf` with `ros-indigo-gazebo` on saucy and works. I tested on trusty, and it fails. If I build from source, then it works on trusty.\n\nI noticed that the trusty libsdformat.so.1.4.11 links against liburdfdom_model on trusty, while it did not do this on saucy. I'm guessing that this is the source of the error. @\\_jrivero_ what do you think?\n~~~\n$ ldd /usr/lib/x86_64-linux-gnu/libsdformat.so.1.4.11 | sort\n\t/lib64/ld-linux-x86-64.so.2 (0x00007ff728890000)\n\tlibboost_filesystem.so.1.54.0 => /usr/lib/x86_64-linux-gnu/libboost_filesystem.so.1.54.0 (0x00007ff727f78000)\n\tlibboost_regex.so.1.54.0 => /usr/lib/x86_64-linux-gnu/libboost_regex.so.1.54.0 (0x00007ff727c70000)\n\tlibboost_system.so.1.54.0 => /usr/lib/x86_64-linux-gnu/libboost_system.so.1.54.0 (0x00007ff728190000)\n\tlibconsole_bridge.so.0.2 => /usr/lib/x86_64-linux-gnu/libconsole_bridge.so.0.2 (0x00007ff726298000)\n\tlibc.so.6 => /lib/x86_64-linux-gnu/libc.so.6 (0x00007ff726e50000)\n\tlibdl.so.2 => /lib/x86_64-linux-gnu/libdl.so.2 (0x00007ff724820000)\n\tlibgcc_s.so.1 => /lib/x86_64-linux-gnu/libgcc_s.so.1 (0x00007ff727218000)\n\tlibicudata.so.52 => /usr/lib/x86_64-linux-gnu/libicudata.so.52 (0x00007ff724a28000)\n\tlibicui18n.so.52 => /usr/lib/x86_64-linux-gnu/libicui18n.so.52 (0x00007ff7264a8000)\n\tlibicuuc.so.52 => /usr/lib/x86_64-linux-gnu/libicuuc.so.52 (0x00007ff7268b0000)\n\tlibm.so.6 => /lib/x86_64-linux-gnu/libm.so.6 (0x00007ff727430000)\n\tlibpthread.so.0 => /lib/x86_64-linux-gnu/libpthread.so.0 (0x00007ff726c30000)\n\tlibstdc++.so.6 => /usr/lib/x86_64-linux-gnu/libstdc++.so.6 (0x00007ff727738000)\n\tlibtinyxml.so.2.6.2 => /usr/lib/x86_64-linux-gnu/libtinyxml.so.2.6.2 (0x00007ff728398000)\n\tliburdfdom_model.so.0.2 => /usr/lib/x86_64-linux-gnu/liburdfdom_model.so.0.2 (0x00007ff727a40000)\n\tlinux-vdso.so.1 =>  (0x00007fff76200000)\n~~~\n~~~\n\tliburdfdom_model.so.0.2 => /usr/lib/x86_64-linux-gnu/liburdfdom_model.so.0.2 (0x00007ff727a40000)\n~~~", "markup": "markdown", "html": "<p>I tested <code>gzsdf print urdf</code> with <code>ros-indigo-gazebo</code> on saucy and works. I tested on trusty, and it fails. If I build from source, then it works on trusty.</p>\n<p>I noticed that the trusty libsdformat.so.1.4.11 links against liburdfdom_model on trusty, while it did not do this on saucy. I'm guessing that this is the source of the error. @_jrivero_ what do you think?</p>\n<div class=\"codehilite\"><pre><span></span>$ ldd /usr/lib/x86_64-linux-gnu/libsdformat.so.1.4.11 <span class=\"p\">|</span> sort\n    /lib64/ld-linux-x86-64.so.2 <span class=\"o\">(</span>0x00007ff728890000<span class=\"o\">)</span>\n    libboost_filesystem.so.1.54.0 <span class=\"o\">=</span>&gt; /usr/lib/x86_64-linux-gnu/libboost_filesystem.so.1.54.0 <span class=\"o\">(</span>0x00007ff727f78000<span class=\"o\">)</span>\n    libboost_regex.so.1.54.0 <span class=\"o\">=</span>&gt; /usr/lib/x86_64-linux-gnu/libboost_regex.so.1.54.0 <span class=\"o\">(</span>0x00007ff727c70000<span class=\"o\">)</span>\n    libboost_system.so.1.54.0 <span class=\"o\">=</span>&gt; /usr/lib/x86_64-linux-gnu/libboost_system.so.1.54.0 <span class=\"o\">(</span>0x00007ff728190000<span class=\"o\">)</span>\n    libconsole_bridge.so.0.2 <span class=\"o\">=</span>&gt; /usr/lib/x86_64-linux-gnu/libconsole_bridge.so.0.2 <span class=\"o\">(</span>0x00007ff726298000<span class=\"o\">)</span>\n    libc.so.6 <span class=\"o\">=</span>&gt; /lib/x86_64-linux-gnu/libc.so.6 <span class=\"o\">(</span>0x00007ff726e50000<span class=\"o\">)</span>\n    libdl.so.2 <span class=\"o\">=</span>&gt; /lib/x86_64-linux-gnu/libdl.so.2 <span class=\"o\">(</span>0x00007ff724820000<span class=\"o\">)</span>\n    libgcc_s.so.1 <span class=\"o\">=</span>&gt; /lib/x86_64-linux-gnu/libgcc_s.so.1 <span class=\"o\">(</span>0x00007ff727218000<span class=\"o\">)</span>\n    libicudata.so.52 <span class=\"o\">=</span>&gt; /usr/lib/x86_64-linux-gnu/libicudata.so.52 <span class=\"o\">(</span>0x00007ff724a28000<span class=\"o\">)</span>\n    libicui18n.so.52 <span class=\"o\">=</span>&gt; /usr/lib/x86_64-linux-gnu/libicui18n.so.52 <span class=\"o\">(</span>0x00007ff7264a8000<span class=\"o\">)</span>\n    libicuuc.so.52 <span class=\"o\">=</span>&gt; /usr/lib/x86_64-linux-gnu/libicuuc.so.52 <span class=\"o\">(</span>0x00007ff7268b0000<span class=\"o\">)</span>\n    libm.so.6 <span class=\"o\">=</span>&gt; /lib/x86_64-linux-gnu/libm.so.6 <span class=\"o\">(</span>0x00007ff727430000<span class=\"o\">)</span>\n    libpthread.so.0 <span class=\"o\">=</span>&gt; /lib/x86_64-linux-gnu/libpthread.so.0 <span class=\"o\">(</span>0x00007ff726c30000<span class=\"o\">)</span>\n    libstdc++.so.6 <span class=\"o\">=</span>&gt; /usr/lib/x86_64-linux-gnu/libstdc++.so.6 <span class=\"o\">(</span>0x00007ff727738000<span class=\"o\">)</span>\n    libtinyxml.so.2.6.2 <span class=\"o\">=</span>&gt; /usr/lib/x86_64-linux-gnu/libtinyxml.so.2.6.2 <span class=\"o\">(</span>0x00007ff728398000<span class=\"o\">)</span>\n    liburdfdom_model.so.0.2 <span class=\"o\">=</span>&gt; /usr/lib/x86_64-linux-gnu/liburdfdom_model.so.0.2 <span class=\"o\">(</span>0x00007ff727a40000<span class=\"o\">)</span>\n    linux-vdso.so.1 <span class=\"o\">=</span>&gt;  <span class=\"o\">(</span>0x00007fff76200000<span class=\"o\">)</span>\n</pre></div>\n\n\n<div class=\"codehilite\"><pre><span></span>    liburdfdom_model.so.0.2 =&gt; /usr/lib/x86_64-linux-gnu/liburdfdom_model.so.0.2 (0x00007ff727a40000)\n</pre></div>", "type": "rendered"}, "created_on": "2014-05-31T00:34:43.345174+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "updated_on": "2014-05-31T00:34:53.140322+00:00", "type": "issue_comment", "id": 10466948}, {"links": {"self": {"href": "data/repositories/osrf/sdformat/issues/63/comments/10495684.json"}, "html": {"href": "#!/osrf/sdformat/issues/63#comment-10495684"}}, "issue": {"links": {"self": {"href": "data/repositories/osrf/sdformat/issues/63.json"}}, "type": "issue", "id": 63, "repository": {"links": {"self": {"href": "data/repositories/osrf/sdformat.json"}, "html": {"href": "#!/osrf/sdformat"}, "avatar": {"href": "data/bytebucket.org/ravatar/{b6d52f9f-b070-41c0-807c-94af07ea375b}ts=1606789"}}, "type": "repository", "name": "sdformat", "full_name": "osrf/sdformat", "uuid": "{b6d52f9f-b070-41c0-807c-94af07ea375b}"}, "title": "gzsdf segfaults in trusty"}, "content": {"raw": "libsdformat1 for Trusty is provided directly by Ubuntu, where we are not using the urdf embedded library that is being used in the OSRF repository (saucy). So yes, this could be a potential cause of differences and bugs.\n\nTo mimic the ubuntu/debian compilation you can provide the following flags to cmake:\n```\n             cmake .. \\\n            -DUSE_EXTERNAL_URDF:BOOL=True \\\n            -DUSE_UPSTREAM_CFLAGS:BOOL=False \\\n            -DCMAKE_BUILD_TYPE:STRING=RelWithDebInfo\n```", "markup": "markdown", "html": "<p>libsdformat1 for Trusty is provided directly by Ubuntu, where we are not using the urdf embedded library that is being used in the OSRF repository (saucy). So yes, this could be a potential cause of differences and bugs.</p>\n<p>To mimic the ubuntu/debian compilation you can provide the following flags to cmake:</p>\n<div class=\"codehilite\"><pre><span></span>             cmake .. \\\n            -DUSE_EXTERNAL_URDF:BOOL=True \\\n            -DUSE_UPSTREAM_CFLAGS:BOOL=False \\\n            -DCMAKE_BUILD_TYPE:STRING=RelWithDebInfo\n</pre></div>", "type": "rendered"}, "created_on": "2014-06-02T14:09:09.909234+00:00", "user": {"display_name": "Jose Luis Rivero", "uuid": "{d12309b2-f745-42ee-b119-aec4fcdf81fe}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bd12309b2-f745-42ee-b119-aec4fcdf81fe%7D"}, "html": {"href": "https://bitbucket.org/%7Bd12309b2-f745-42ee-b119-aec4fcdf81fe%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/109284c8b83411dbc7492138f6167e9ed=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsJR-5.png"}}, "nickname": "Jose Luis Rivero", "type": "user", "account_id": "557058:155a32e2-420c-4d50-98e0-0e722f63f906"}, "updated_on": "2014-06-02T14:16:29.486836+00:00", "type": "issue_comment", "id": 10495684}, {"links": {"self": {"href": "data/repositories/osrf/sdformat/issues/63/comments/10507196.json"}, "html": {"href": "#!/osrf/sdformat/issues/63#comment-10507196"}}, "issue": {"links": {"self": {"href": "data/repositories/osrf/sdformat/issues/63.json"}}, "type": "issue", "id": 63, "repository": {"links": {"self": {"href": "data/repositories/osrf/sdformat.json"}, "html": {"href": "#!/osrf/sdformat"}, "avatar": {"href": "data/bytebucket.org/ravatar/{b6d52f9f-b070-41c0-807c-94af07ea375b}ts=1606789"}}, "type": "repository", "name": "sdformat", "full_name": "osrf/sdformat", "uuid": "{b6d52f9f-b070-41c0-807c-94af07ea375b}"}, "title": "gzsdf segfaults in trusty"}, "content": {"raw": "At first moment, I was not able to reproduce the error with the example attached here but Steve pointed me to use the nao description and I end up discovering that a basic example with a fixed joint is enough to trigger the segfault:\n\n```\n<robot name=\"test_robot\">\n  <link name=\"link1\" />\n  <link name=\"link2\" />\n\n  <joint name=\"joint1\" type=\"fixed\">\n    <parent link=\"link1\"/>\n    <child link=\"link2\"/>\n  </joint>\n</robot>\n```\n\nAfter build sdformat packages using Debug cmake build type some more interesting details appeared:\n\n```\nProgram received signal SIGSEGV, Segmentation fault.\nReduceFixedJoints (_root=_root@entry=0x7724c0, _link=...) at /tmp/sdformat-1.4.11/src/parser_urdf.cc:389\n389\t    if (_link->child_links[i]->parent_joint->type == urdf::Joint::FIXED)\n(gdb) bt\n#0  ReduceFixedJoints (_root=_root@entry=0x7724c0, _link=...) at /tmp/sdformat-1.4.11/src/parser_urdf.cc:389\n#1  0x00007ffff76c6fa2 in sdf::URDF2SDF::InitModelString (this=this@entry=0x7fffffffdc7d, _urdfStr=..., _enforceLimits=_enforceLimits@entry=true)\n    at /tmp/sdformat-1.4.11/src/parser_urdf.cc:2667\n#2  0x00007ffff76c75a4 in sdf::URDF2SDF::InitModelDoc (this=this@entry=0x7fffffffdc7d, _xmlDoc=_xmlDoc@entry=0x7fffffffdbb0) at /tmp/sdformat-1.4.11/src/parser_urdf.cc:2706\n#3  0x00007ffff76c7708 in sdf::URDF2SDF::InitModelFile (this=this@entry=0x7fffffffdc7d, _filename=...) at /tmp/sdformat-1.4.11/src/parser_urdf.cc:2715\n#4  0x00007ffff76a1aa3 in sdf::readFile (_filename=..., _sdf=...) at /tmp/sdformat-1.4.11/src/parser.cc:265\n#5  0x0000000000403e60 in main ()\n```\nThe value of ```child_links.size()``` when the segfault occurs is garbage. If we built sdformat packages using embedded copy of the urdfdom, the problem is not present so it should be something in the code of urdfdom packages.\n\nAfter my time debugging, if I try to run the same non segfaulting example attached here, now it segfaults, in the same place.", "markup": "markdown", "html": "<p>At first moment, I was not able to reproduce the error with the example attached here but Steve pointed me to use the nao description and I end up discovering that a basic example with a fixed joint is enough to trigger the segfault:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"nt\">&lt;robot</span> <span class=\"na\">name=</span><span class=\"s\">&quot;test_robot&quot;</span><span class=\"nt\">&gt;</span>\n  <span class=\"nt\">&lt;link</span> <span class=\"na\">name=</span><span class=\"s\">&quot;link1&quot;</span> <span class=\"nt\">/&gt;</span>\n  <span class=\"nt\">&lt;link</span> <span class=\"na\">name=</span><span class=\"s\">&quot;link2&quot;</span> <span class=\"nt\">/&gt;</span>\n\n  <span class=\"nt\">&lt;joint</span> <span class=\"na\">name=</span><span class=\"s\">&quot;joint1&quot;</span> <span class=\"na\">type=</span><span class=\"s\">&quot;fixed&quot;</span><span class=\"nt\">&gt;</span>\n    <span class=\"nt\">&lt;parent</span> <span class=\"na\">link=</span><span class=\"s\">&quot;link1&quot;</span><span class=\"nt\">/&gt;</span>\n    <span class=\"nt\">&lt;child</span> <span class=\"na\">link=</span><span class=\"s\">&quot;link2&quot;</span><span class=\"nt\">/&gt;</span>\n  <span class=\"nt\">&lt;/joint&gt;</span>\n<span class=\"nt\">&lt;/robot&gt;</span>\n</pre></div>\n\n\n<p>After build sdformat packages using Debug cmake build type some more interesting details appeared:</p>\n<div class=\"codehilite\"><pre><span></span>Program received signal SIGSEGV, Segmentation fault.\nReduceFixedJoints (_root=_root@entry=0x7724c0, _link=...) at /tmp/sdformat-1.4.11/src/parser_urdf.cc:389\n389     if (_link-&gt;child_links[i]-&gt;parent_joint-&gt;type == urdf::Joint::FIXED)\n(gdb) bt\n#0  ReduceFixedJoints (_root=_root@entry=0x7724c0, _link=...) at /tmp/sdformat-1.4.11/src/parser_urdf.cc:389\n#1  0x00007ffff76c6fa2 in sdf::URDF2SDF::InitModelString (this=this@entry=0x7fffffffdc7d, _urdfStr=..., _enforceLimits=_enforceLimits@entry=true)\n    at /tmp/sdformat-1.4.11/src/parser_urdf.cc:2667\n#2  0x00007ffff76c75a4 in sdf::URDF2SDF::InitModelDoc (this=this@entry=0x7fffffffdc7d, _xmlDoc=_xmlDoc@entry=0x7fffffffdbb0) at /tmp/sdformat-1.4.11/src/parser_urdf.cc:2706\n#3  0x00007ffff76c7708 in sdf::URDF2SDF::InitModelFile (this=this@entry=0x7fffffffdc7d, _filename=...) at /tmp/sdformat-1.4.11/src/parser_urdf.cc:2715\n#4  0x00007ffff76a1aa3 in sdf::readFile (_filename=..., _sdf=...) at /tmp/sdformat-1.4.11/src/parser.cc:265\n#5  0x0000000000403e60 in main ()\n</pre></div>\n\n\n<p>The value of <code>child_links.size()</code> when the segfault occurs is garbage. If we built sdformat packages using embedded copy of the urdfdom, the problem is not present so it should be something in the code of urdfdom packages.</p>\n<p>After my time debugging, if I try to run the same non segfaulting example attached here, now it segfaults, in the same place.</p>", "type": "rendered"}, "created_on": "2014-06-03T01:45:31.329155+00:00", "user": {"display_name": "Jose Luis Rivero", "uuid": "{d12309b2-f745-42ee-b119-aec4fcdf81fe}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bd12309b2-f745-42ee-b119-aec4fcdf81fe%7D"}, "html": {"href": "https://bitbucket.org/%7Bd12309b2-f745-42ee-b119-aec4fcdf81fe%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/109284c8b83411dbc7492138f6167e9ed=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsJR-5.png"}}, "nickname": "Jose Luis Rivero", "type": "user", "account_id": "557058:155a32e2-420c-4d50-98e0-0e722f63f906"}, "updated_on": null, "type": "issue_comment", "id": 10507196}, {"links": {"self": {"href": "data/repositories/osrf/sdformat/issues/63/comments/10548806.json"}, "html": {"href": "#!/osrf/sdformat/issues/63#comment-10548806"}}, "issue": {"links": {"self": {"href": "data/repositories/osrf/sdformat/issues/63.json"}}, "type": "issue", "id": 63, "repository": {"links": {"self": {"href": "data/repositories/osrf/sdformat.json"}, "html": {"href": "#!/osrf/sdformat"}, "avatar": {"href": "data/bytebucket.org/ravatar/{b6d52f9f-b070-41c0-807c-94af07ea375b}ts=1606789"}}, "type": "repository", "name": "sdformat", "full_name": "osrf/sdformat", "uuid": "{b6d52f9f-b070-41c0-807c-94af07ea375b}"}, "title": "gzsdf segfaults in trusty"}, "content": {"raw": "After some fights ... \n\n```\n(trusty)jrivero@nium ~ $ gzsdf print tutorial2.urdf \n<sdf version='1.4'>\n  <model name='test_robot'>\n    <link name='__default__'>\n      <velocity_decay>\n        <linear>0</linear>\n        <angular>0</angular>\n      </velocity_decay>\n    </link>\n  </model>\n</sdf>\n(trusty)jrivero@nium ~ $ . /opt/ros/indigo/setup.bash \n(trusty)jrivero@nium ~ $ gzsdf print tutorial2.urdf \nSegmentation fault (core dumped)\n```\nsymbol collision probably.\n\n**UPDATE:**\n```\n(trusty)jrivero@nium ~ $ ldd /usr/bin/gzsdf | grep urdf\n\tliburdfdom_model.so.0.2 => /usr/lib/x86_64-linux-gnu/liburdfdom_model.so.0.2 (0x00007fedf0916000)\n(trusty)jrivero@nium ~ $ . /opt/ros/indigo/setup.bash \n(trusty)jrivero@nium ~ $ ldd /usr/bin/gzsdf | grep urdf\n\tliburdfdom_model.so.0.2 => /opt/ros/indigo/lib/liburdfdom_model.so.0.2 (0x00007ff88faae000)\n```\n**Workarounds:**\nModify the LD_LIBRARY_PATH, something like:\n\n``` LD_LIBRARY_PATH=/usr/lib/x86_64-linux-gnu/:/opt/ros/indigo/lib:/opt/ros/indigo/lib/x86_64-linux-gnu gzsdf print tutorial2.urdf ```\n \n", "markup": "markdown", "html": "<p>After some fights ... </p>\n<div class=\"codehilite\"><pre><span></span>(trusty)jrivero@nium ~ $ gzsdf print tutorial2.urdf \n<span class=\"nt\">&lt;sdf</span> <span class=\"na\">version=</span><span class=\"s\">&#39;1.4&#39;</span><span class=\"nt\">&gt;</span>\n  <span class=\"nt\">&lt;model</span> <span class=\"na\">name=</span><span class=\"s\">&#39;test_robot&#39;</span><span class=\"nt\">&gt;</span>\n    <span class=\"nt\">&lt;link</span> <span class=\"na\">name=</span><span class=\"s\">&#39;__default__&#39;</span><span class=\"nt\">&gt;</span>\n      <span class=\"nt\">&lt;velocity_decay&gt;</span>\n        <span class=\"nt\">&lt;linear&gt;</span>0<span class=\"nt\">&lt;/linear&gt;</span>\n        <span class=\"nt\">&lt;angular&gt;</span>0<span class=\"nt\">&lt;/angular&gt;</span>\n      <span class=\"nt\">&lt;/velocity_decay&gt;</span>\n    <span class=\"nt\">&lt;/link&gt;</span>\n  <span class=\"nt\">&lt;/model&gt;</span>\n<span class=\"nt\">&lt;/sdf&gt;</span>\n(trusty)jrivero@nium ~ $ . /opt/ros/indigo/setup.bash \n(trusty)jrivero@nium ~ $ gzsdf print tutorial2.urdf \nSegmentation fault (core dumped)\n</pre></div>\n\n\n<p>symbol collision probably.</p>\n<p><strong>UPDATE:</strong></p>\n<div class=\"codehilite\"><pre><span></span>(trusty)jrivero@nium ~ $ ldd /usr/bin/gzsdf | grep urdf\n    liburdfdom_model.so.0.2 =&gt; /usr/lib/x86_64-linux-gnu/liburdfdom_model.so.0.2 (0x00007fedf0916000)\n(trusty)jrivero@nium ~ $ . /opt/ros/indigo/setup.bash \n(trusty)jrivero@nium ~ $ ldd /usr/bin/gzsdf | grep urdf\n    liburdfdom_model.so.0.2 =&gt; /opt/ros/indigo/lib/liburdfdom_model.so.0.2 (0x00007ff88faae000)\n</pre></div>\n\n\n<p><strong>Workarounds:</strong>\nModify the LD_LIBRARY_PATH, something like:</p>\n<p><code>LD_LIBRARY_PATH=/usr/lib/x86_64-linux-gnu/:/opt/ros/indigo/lib:/opt/ros/indigo/lib/x86_64-linux-gnu gzsdf print tutorial2.urdf</code></p>", "type": "rendered"}, "created_on": "2014-06-04T22:06:59.227429+00:00", "user": {"display_name": "Jose Luis Rivero", "uuid": "{d12309b2-f745-42ee-b119-aec4fcdf81fe}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bd12309b2-f745-42ee-b119-aec4fcdf81fe%7D"}, "html": {"href": "https://bitbucket.org/%7Bd12309b2-f745-42ee-b119-aec4fcdf81fe%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/109284c8b83411dbc7492138f6167e9ed=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsJR-5.png"}}, "nickname": "Jose Luis Rivero", "type": "user", "account_id": "557058:155a32e2-420c-4d50-98e0-0e722f63f906"}, "updated_on": "2014-06-04T22:54:45.929595+00:00", "type": "issue_comment", "id": 10548806}, {"links": {"self": {"href": "data/repositories/osrf/sdformat/issues/63/comments/10550618.json"}, "html": {"href": "#!/osrf/sdformat/issues/63#comment-10550618"}}, "issue": {"links": {"self": {"href": "data/repositories/osrf/sdformat/issues/63.json"}}, "type": "issue", "id": 63, "repository": {"links": {"self": {"href": "data/repositories/osrf/sdformat.json"}, "html": {"href": "#!/osrf/sdformat"}, "avatar": {"href": "data/bytebucket.org/ravatar/{b6d52f9f-b070-41c0-807c-94af07ea375b}ts=1606789"}}, "type": "repository", "name": "sdformat", "full_name": "osrf/sdformat", "uuid": "{b6d52f9f-b070-41c0-807c-94af07ea375b}"}, "title": "gzsdf segfaults in trusty"}, "content": {"raw": "Working with ROS people on fixing the problem:\nhttps://github.com/ros/rosdistro/issues/4633", "markup": "markdown", "html": "<p>Working with ROS people on fixing the problem:\n<a href=\"https://github.com/ros/rosdistro/issues/4633\" rel=\"nofollow\" class=\"ap-connect-link\">https://github.com/ros/rosdistro/issues/4633</a></p>", "type": "rendered"}, "created_on": "2014-06-05T00:40:49.576583+00:00", "user": {"display_name": "Jose Luis Rivero", "uuid": "{d12309b2-f745-42ee-b119-aec4fcdf81fe}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bd12309b2-f745-42ee-b119-aec4fcdf81fe%7D"}, "html": {"href": "https://bitbucket.org/%7Bd12309b2-f745-42ee-b119-aec4fcdf81fe%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/109284c8b83411dbc7492138f6167e9ed=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsJR-5.png"}}, "nickname": "Jose Luis Rivero", "type": "user", "account_id": "557058:155a32e2-420c-4d50-98e0-0e722f63f906"}, "updated_on": null, "type": "issue_comment", "id": 10550618}, {"links": {"self": {"href": "data/repositories/osrf/sdformat/issues/63/comments/10630939.json"}, "html": {"href": "#!/osrf/sdformat/issues/63#comment-10630939"}}, "issue": {"links": {"self": {"href": "data/repositories/osrf/sdformat/issues/63.json"}}, "type": "issue", "id": 63, "repository": {"links": {"self": {"href": "data/repositories/osrf/sdformat.json"}, "html": {"href": "#!/osrf/sdformat"}, "avatar": {"href": "data/bytebucket.org/ravatar/{b6d52f9f-b070-41c0-807c-94af07ea375b}ts=1606789"}}, "type": "repository", "name": "sdformat", "full_name": "osrf/sdformat", "uuid": "{b6d52f9f-b070-41c0-807c-94af07ea375b}"}, "title": "gzsdf segfaults in trusty"}, "content": {"raw": "I have not been using Gazebo lately, so no experience with this bug.", "markup": "markdown", "html": "<p>I have not been using Gazebo lately, so no experience with this bug.</p>", "type": "rendered"}, "created_on": "2014-06-10T03:21:00.544899+00:00", "user": {"display_name": "Dave Coleman", "uuid": "{58f784f8-4b19-4221-b333-670219684927}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B58f784f8-4b19-4221-b333-670219684927%7D"}, "html": {"href": "https://bitbucket.org/%7B58f784f8-4b19-4221-b333-670219684927%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/0a0abfbe6bae9a1d65fe4af19493f423d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsDC-3.png"}}, "nickname": "Dave Coleman", "type": "user", "account_id": "557058:113fde7a-8d84-43e3-91d8-20354f36ec42"}, "updated_on": null, "type": "issue_comment", "id": 10630939}, {"links": {"self": {"href": "data/repositories/osrf/sdformat/issues/63/comments/10680194.json"}, "html": {"href": "#!/osrf/sdformat/issues/63#comment-10680194"}}, "issue": {"links": {"self": {"href": "data/repositories/osrf/sdformat/issues/63.json"}}, "type": "issue", "id": 63, "repository": {"links": {"self": {"href": "data/repositories/osrf/sdformat.json"}, "html": {"href": "#!/osrf/sdformat"}, "avatar": {"href": "data/bytebucket.org/ravatar/{b6d52f9f-b070-41c0-807c-94af07ea375b}ts=1606789"}}, "type": "repository", "name": "sdformat", "full_name": "osrf/sdformat", "uuid": "{b6d52f9f-b070-41c0-807c-94af07ea375b}"}, "title": "gzsdf segfaults in trusty"}, "content": {"raw": "I can confirm this SegFault!\nLooking forward to seeing this fixed in order to get started with Indigo on Trusty...\nThanks guys!", "markup": "markdown", "html": "<p>I can confirm this SegFault!\nLooking forward to seeing this fixed in order to get started with Indigo on Trusty...\nThanks guys!</p>", "type": "rendered"}, "created_on": "2014-06-12T09:19:44.188842+00:00", "user": {"display_name": "Felix Messmer", "uuid": "{fbee2d72-6fe3-4e1d-b3b1-d279153101e7}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bfbee2d72-6fe3-4e1d-b3b1-d279153101e7%7D"}, "html": {"href": "https://bitbucket.org/%7Bfbee2d72-6fe3-4e1d-b3b1-d279153101e7%7D/"}, "avatar": {"href": "https://bitbucket.org/account/ipa_fxm/avatar/"}}, "nickname": "ipa_fxm", "type": "user", "account_id": null}, "updated_on": null, "type": "issue_comment", "id": 10680194}, {"links": {"self": {"href": "data/repositories/osrf/sdformat/issues/63/comments/10680265.json"}, "html": {"href": "#!/osrf/sdformat/issues/63#comment-10680265"}}, "issue": {"links": {"self": {"href": "data/repositories/osrf/sdformat/issues/63.json"}}, "type": "issue", "id": 63, "repository": {"links": {"self": {"href": "data/repositories/osrf/sdformat.json"}, "html": {"href": "#!/osrf/sdformat"}, "avatar": {"href": "data/bytebucket.org/ravatar/{b6d52f9f-b070-41c0-807c-94af07ea375b}ts=1606789"}}, "type": "repository", "name": "sdformat", "full_name": "osrf/sdformat", "uuid": "{b6d52f9f-b070-41c0-807c-94af07ea375b}"}, "title": "gzsdf segfaults in trusty"}, "content": {"raw": "@ipa_fxm you can use gazebo now in indigo on 14.04 if you build it from source. just make sure that you apt-get remove liburdfdom*, libsdformat*, and gazebo2 before you build it.", "markup": "markdown", "html": "<p>@ipa_fxm you can use gazebo now in indigo on 14.04 if you build it from source. just make sure that you apt-get remove liburdfdom<em>, libsdformat</em>, and gazebo2 before you build it.</p>", "type": "rendered"}, "created_on": "2014-06-12T09:23:18.281573+00:00", "user": {"display_name": "Jonathan Binney", "uuid": "{1ab20f4e-2d01-413d-b41c-0d05784131a9}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B1ab20f4e-2d01-413d-b41c-0d05784131a9%7D"}, "html": {"href": "https://bitbucket.org/%7B1ab20f4e-2d01-413d-b41c-0d05784131a9%7D/"}, "avatar": {"href": "https://bitbucket.org/account/jbinney/avatar/"}}, "nickname": "jbinney", "type": "user", "account_id": null}, "updated_on": null, "type": "issue_comment", "id": 10680265}, {"links": {"self": {"href": "data/repositories/osrf/sdformat/issues/63/comments/10762652.json"}, "html": {"href": "#!/osrf/sdformat/issues/63#comment-10762652"}}, "issue": {"links": {"self": {"href": "data/repositories/osrf/sdformat/issues/63.json"}}, "type": "issue", "id": 63, "repository": {"links": {"self": {"href": "data/repositories/osrf/sdformat.json"}, "html": {"href": "#!/osrf/sdformat"}, "avatar": {"href": "data/bytebucket.org/ravatar/{b6d52f9f-b070-41c0-807c-94af07ea375b}ts=1606789"}}, "type": "repository", "name": "sdformat", "full_name": "osrf/sdformat", "uuid": "{b6d52f9f-b070-41c0-807c-94af07ea375b}"}, "title": "gzsdf segfaults in trusty"}, "content": {"raw": "@ipa_fxm you don't have to rebuild gazebo from source. @_jrivero_ 's workaround is fine. Just prepend \n```\n#!bash\n\nLD_LIBRARY_PATH=\"/usr/lib/x86_64-linux-gnu/:$LD_LIBRARY_PATH\"\n```\nbefore all gazebo commands you run and you're okay.\n\nE.g.\n\n\n```\n#!bash\n\nLD_LIBRARY_PATH=\"/usr/lib/x86_64-linux-gnu/:$LD_LIBRARY_PATH\" rosrun gazebo_ros gzserver\n```\n\nYou may also want to set the environment variable in your .bashrc until the bug gets fixed.", "markup": "markdown", "html": "<p>@ipa_fxm you don't have to rebuild gazebo from source. @<em>jrivero</em> 's workaround is fine. Just prepend </p>\n<div class=\"codehilite language-bash\"><pre><span></span><span class=\"nv\">LD_LIBRARY_PATH</span><span class=\"o\">=</span><span class=\"s2\">&quot;/usr/lib/x86_64-linux-gnu/:</span><span class=\"nv\">$LD_LIBRARY_PATH</span><span class=\"s2\">&quot;</span>\n</pre></div>\n\n\n<p>before all gazebo commands you run and you're okay.</p>\n<p>E.g.</p>\n<div class=\"codehilite language-bash\"><pre><span></span><span class=\"nv\">LD_LIBRARY_PATH</span><span class=\"o\">=</span><span class=\"s2\">&quot;/usr/lib/x86_64-linux-gnu/:</span><span class=\"nv\">$LD_LIBRARY_PATH</span><span class=\"s2\">&quot;</span> rosrun gazebo_ros gzserver\n</pre></div>\n\n\n<p>You may also want to set the environment variable in your .bashrc until the bug gets fixed.</p>", "type": "rendered"}, "created_on": "2014-06-17T10:52:36.434789+00:00", "user": {"display_name": "Martin Pecka", "uuid": "{41691c43-4ae0-49ba-ba45-3c36439f5af2}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B41691c43-4ae0-49ba-ba45-3c36439f5af2%7D"}, "html": {"href": "https://bitbucket.org/%7B41691c43-4ae0-49ba-ba45-3c36439f5af2%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/d1ad32a09564f856909994613fdbc37cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsMP-1.png"}}, "nickname": "peci1", "type": "user", "account_id": "557058:434ecab2-e510-4ede-8f9a-1c2a5a4032e1"}, "updated_on": null, "type": "issue_comment", "id": 10762652}, {"links": {"self": {"href": "data/repositories/osrf/sdformat/issues/63/comments/11016112.json"}, "html": {"href": "#!/osrf/sdformat/issues/63#comment-11016112"}}, "issue": {"links": {"self": {"href": "data/repositories/osrf/sdformat/issues/63.json"}}, "type": "issue", "id": 63, "repository": {"links": {"self": {"href": "data/repositories/osrf/sdformat.json"}, "html": {"href": "#!/osrf/sdformat"}, "avatar": {"href": "data/bytebucket.org/ravatar/{b6d52f9f-b070-41c0-807c-94af07ea375b}ts=1606789"}}, "type": "repository", "name": "sdformat", "full_name": "osrf/sdformat", "uuid": "{b6d52f9f-b070-41c0-807c-94af07ea375b}"}, "title": "gzsdf segfaults in trusty"}, "content": {"raw": "**Problem description: **\n\nAfter fixing the problem with ROS urdfdom package, there is still a different error found by  @jbinney:\n\n```\njbinney@h-> gzsdf print nao.urdf \n*** Error in `gzsdf': free(): invalid pointer: 0x0000000001ea4b70 ***\nAborted (core dumped)\n\njbinney@h-> which gzsdf\n/usr/bin/gzsdf\n\njbinney@h-> ldd /usr/bin/gzsdf | grep urdf                                                                                                \n        liburdfdom_model.so.0.2 => /usr/lib/x86_64-linux-gnu/liburdfdom_model.so.0.2 (0x00007f1cb8542000)\n\njbinney@h-> dpkg -S /usr/lib/x86_64-linux-gnu/liburdfdom_model.so.0.2\nliburdfdom-model0.2:amd64: /usr/lib/x86_64-linux-gnu/liburdfdom_model.so.0.2\n```\n\nI run gdb against it and looks like the same issue that we [were fixing before](#!/osrf/sdformat/pull-request/77/support-to-use-external-urdf/diff#comment-917387).\n```\n(gdb) run print nao.urdf\nStarting program: /usr/bin/gzsdf print nao.urdf\n[Thread debugging using libthread_db enabled]\nUsing host libthread_db library \"/lib/x86_64-linux-gnu/libthread_db.so.1\".\n[New Thread 0x7fffe8338700 (LWP 4525)]\n*** Error in `/usr/bin/gzsdf': free(): invalid pointer: 0x00000000008ad5f0 ***\n\nProgram received signal SIGABRT, Aborted.\n0x00007ffff6db6f79 in __GI_raise (sig=sig@entry=6) at ../nptl/sysdeps/unix/sysv/linux/raise.c:56\n56\t../nptl/sysdeps/unix/sysv/linux/raise.c: No such file or directory.\n(gdb) bt\n#0  0x00007ffff6db6f79 in __GI_raise (sig=sig@entry=6) at ../nptl/sysdeps/unix/sysv/linux/raise.c:56\n#1  0x00007ffff6dba388 in __GI_abort () at abort.c:89\n#2  0x00007ffff6df41d4 in __libc_message (do_abort=do_abort@entry=1, fmt=fmt@entry=0x7ffff6f02a10 \"*** Error in `%s': %s: 0x%s ***\\n\") at ../sysdeps/posix/libc_fatal.c:175\n#3  0x00007ffff6e004ae in malloc_printerr (ptr=<optimized out>, str=0x7ffff6efeb03 \"free(): invalid pointer\", action=1) at malloc.c:4996\n#4  _int_free (av=<optimized out>, p=<optimized out>, have_lock=0) at malloc.c:3840\n#5  0x00007ffff768549e in boost::detail::sp_counted_base::release (this=0x8b8df0) at /usr/include/boost/smart_ptr/detail/sp_counted_base_gcc_x86.hpp:146\n#6  0x00007ffff76bb53d in ~shared_count (this=<synthetic pointer>, __in_chrg=<optimized out>) at /usr/include/boost/smart_ptr/detail/shared_count.hpp:371\n#7  ~shared_ptr (this=<synthetic pointer>, __in_chrg=<optimized out>) at /usr/include/boost/smart_ptr/shared_ptr.hpp:328\n#8  ReduceVisualToParent (_link=..., _groupName=..., _visual=...) at /build/buildd/sdformat-1.4.11/src/parser_urdf.cc:378\n#9  0x00007ffff76bbba4 in ReduceVisualsToParent (_link=...) at /build/buildd/sdformat-1.4.11/src/parser_urdf.cc:887\n#10 0x00007ffff76c671f in ReduceFixedJoints (_root=_root@entry=0x870a30, _link=...) at /build/buildd/sdformat-1.4.11/src/parser_urdf.cc:405\n#11 0x00007ffff76c6467 in ReduceFixedJoints (_root=_root@entry=0x870a30, _link=...) at /build/buildd/sdformat-1.4.11/src/parser_urdf.cc:390\n#12 0x00007ffff76c6f12 in sdf::URDF2SDF::InitModelString (this=this@entry=0x7fffffffde6d, _urdfStr=..., _enforceLimits=_enforceLimits@entry=true) at /build/buildd/sdformat-1.4.11/src/parser_urdf.cc:2667\n#13 0x00007ffff76c7514 in sdf::URDF2SDF::InitModelDoc (this=this@entry=0x7fffffffde6d, _xmlDoc=_xmlDoc@entry=0x7fffffffdda0) at /build/buildd/sdformat-1.4.11/src/parser_urdf.cc:2706\n#14 0x00007ffff76c7678 in sdf::URDF2SDF::InitModelFile (this=this@entry=0x7fffffffde6d, _filename=...) at /build/buildd/sdformat-1.4.11/src/parser_urdf.cc:2715\n#15 0x00007ffff76a1aa3 in sdf::readFile (_filename=..., _sdf=...) at /build/buildd/sdformat-1.4.11/src/parser.cc:265\n#16 0x0000000000403e60 in main ()\n```\n\n**Problem explanation:**\n\nSome details of the problem:\n\n * Ubuntu 1.4.11 sdformat was built on 2013-11-07\n * Ubuntu 1.4.11 includes the patch in the [PR 77](#!/osrf/sdformat/pull-request/77/support-to-use-external-urdf) which was merged 2013-12-17\n * OSRF/ROS deb packages 1.4.11 does not have PR77 \n\nSo due to patching, packages are not exactly the same in OSRF/ROS repo and Ubuntu. Ubuntu ones includes PR 77.\n\nMy hypothesis is that we made PR77 considering urdfdom-0.3.0. Looks like the [there was a change](https://github.com/ros/urdfdom_headers/compare/0.2.3...0.3.0 ) in the way of handling visual and collision arrays: \n\n```\n-  /// if more than one collision element is specified, all collision elements are placed in this array (the collision member will be NULL)\n+  /// if more than one collision element is specified, all collision elements are placed in this array (the collision member points to the first element of the array)\n   std::vector<boost::shared_ptr<Collision> > collision_array;\n\n... same for visual array\n```\n\nSo we are creating the bug when using urdfdom-0.2.3 and activate the USE_EXTERNAL_URDF flag\n\n**Workaround:**\n\nI did a quick test and generate an [sdformat-1.4.11-1osrf1 package](http://www.gazebosim.org/assets/distributions/libsdformat1_1.4.11-1osrf1_amd64.deb) removing the code in PR77. It can work just doing:\n\n```\napt-get install gazebo2\ndpkg -i libsdformat1_1.4.11-1osrf1_amd64.deb\n```\n\n**Proper fix:**\n\nI need to start a bug in ubuntu to get rid of the patch in the 1.4.11 package so we get the fix from official repositories as soon as possible. Also, generate a gazebo2 version which depends on this patched version and above.", "markup": "markdown", "html": "<p><strong>Problem description: </strong></p>\n<p>After fixing the problem with ROS urdfdom package, there is still a different error found by  @jbinney:</p>\n<div class=\"codehilite\"><pre><span></span>jbinney@h-&gt; gzsdf print nao.urdf \n*** Error in `gzsdf&#39;: free(): invalid pointer: 0x0000000001ea4b70 ***\nAborted (core dumped)\n\njbinney@h-&gt; which gzsdf\n/usr/bin/gzsdf\n\njbinney@h-&gt; ldd /usr/bin/gzsdf | grep urdf                                                                                                \n        liburdfdom_model.so.0.2 =&gt; /usr/lib/x86_64-linux-gnu/liburdfdom_model.so.0.2 (0x00007f1cb8542000)\n\njbinney@h-&gt; dpkg -S /usr/lib/x86_64-linux-gnu/liburdfdom_model.so.0.2\nliburdfdom-model0.2:amd64: /usr/lib/x86_64-linux-gnu/liburdfdom_model.so.0.2\n</pre></div>\n\n\n<p>I run gdb against it and looks like the same issue that we <a data-is-external-link=\"true\" href=\"#!/osrf/sdformat/pull-request/77/support-to-use-external-urdf/diff#comment-917387\" rel=\"nofollow\">were fixing before</a>.</p>\n<div class=\"codehilite\"><pre><span></span>(gdb) run print nao.urdf\nStarting program: /usr/bin/gzsdf print nao.urdf\n[Thread debugging using libthread_db enabled]\nUsing host libthread_db library &quot;/lib/x86_64-linux-gnu/libthread_db.so.1&quot;.\n[New Thread 0x7fffe8338700 (LWP 4525)]\n*** Error in `/usr/bin/gzsdf&#39;: free(): invalid pointer: 0x00000000008ad5f0 ***\n\nProgram received signal SIGABRT, Aborted.\n0x00007ffff6db6f79 in __GI_raise (sig=sig@entry=6) at ../nptl/sysdeps/unix/sysv/linux/raise.c:56\n56  ../nptl/sysdeps/unix/sysv/linux/raise.c: No such file or directory.\n(gdb) bt\n#0  0x00007ffff6db6f79 in __GI_raise (sig=sig@entry=6) at ../nptl/sysdeps/unix/sysv/linux/raise.c:56\n#1  0x00007ffff6dba388 in __GI_abort () at abort.c:89\n#2  0x00007ffff6df41d4 in __libc_message (do_abort=do_abort@entry=1, fmt=fmt@entry=0x7ffff6f02a10 &quot;*** Error in `%s&#39;: %s: 0x%s ***\\n&quot;) at ../sysdeps/posix/libc_fatal.c:175\n#3  0x00007ffff6e004ae in malloc_printerr (ptr=&lt;optimized out&gt;, str=0x7ffff6efeb03 &quot;free(): invalid pointer&quot;, action=1) at malloc.c:4996\n#4  _int_free (av=&lt;optimized out&gt;, p=&lt;optimized out&gt;, have_lock=0) at malloc.c:3840\n#5  0x00007ffff768549e in boost::detail::sp_counted_base::release (this=0x8b8df0) at /usr/include/boost/smart_ptr/detail/sp_counted_base_gcc_x86.hpp:146\n#6  0x00007ffff76bb53d in ~shared_count (this=&lt;synthetic pointer&gt;, __in_chrg=&lt;optimized out&gt;) at /usr/include/boost/smart_ptr/detail/shared_count.hpp:371\n#7  ~shared_ptr (this=&lt;synthetic pointer&gt;, __in_chrg=&lt;optimized out&gt;) at /usr/include/boost/smart_ptr/shared_ptr.hpp:328\n#8  ReduceVisualToParent (_link=..., _groupName=..., _visual=...) at /build/buildd/sdformat-1.4.11/src/parser_urdf.cc:378\n#9  0x00007ffff76bbba4 in ReduceVisualsToParent (_link=...) at /build/buildd/sdformat-1.4.11/src/parser_urdf.cc:887\n#10 0x00007ffff76c671f in ReduceFixedJoints (_root=_root@entry=0x870a30, _link=...) at /build/buildd/sdformat-1.4.11/src/parser_urdf.cc:405\n#11 0x00007ffff76c6467 in ReduceFixedJoints (_root=_root@entry=0x870a30, _link=...) at /build/buildd/sdformat-1.4.11/src/parser_urdf.cc:390\n#12 0x00007ffff76c6f12 in sdf::URDF2SDF::InitModelString (this=this@entry=0x7fffffffde6d, _urdfStr=..., _enforceLimits=_enforceLimits@entry=true) at /build/buildd/sdformat-1.4.11/src/parser_urdf.cc:2667\n#13 0x00007ffff76c7514 in sdf::URDF2SDF::InitModelDoc (this=this@entry=0x7fffffffde6d, _xmlDoc=_xmlDoc@entry=0x7fffffffdda0) at /build/buildd/sdformat-1.4.11/src/parser_urdf.cc:2706\n#14 0x00007ffff76c7678 in sdf::URDF2SDF::InitModelFile (this=this@entry=0x7fffffffde6d, _filename=...) at /build/buildd/sdformat-1.4.11/src/parser_urdf.cc:2715\n#15 0x00007ffff76a1aa3 in sdf::readFile (_filename=..., _sdf=...) at /build/buildd/sdformat-1.4.11/src/parser.cc:265\n#16 0x0000000000403e60 in main ()\n</pre></div>\n\n\n<p><strong>Problem explanation:</strong></p>\n<p>Some details of the problem:</p>\n<ul>\n<li>Ubuntu 1.4.11 sdformat was built on 2013-11-07</li>\n<li>Ubuntu 1.4.11 includes the patch in the <a data-is-external-link=\"true\" href=\"#!/osrf/sdformat/pull-request/77/support-to-use-external-urdf\" rel=\"nofollow\">PR 77</a> which was merged 2013-12-17</li>\n<li>OSRF/ROS deb packages 1.4.11 does not have PR77 </li>\n</ul>\n<p>So due to patching, packages are not exactly the same in OSRF/ROS repo and Ubuntu. Ubuntu ones includes PR 77.</p>\n<p>My hypothesis is that we made PR77 considering urdfdom-0.3.0. Looks like the <a data-is-external-link=\"true\" href=\"https://github.com/ros/urdfdom_headers/compare/0.2.3...0.3.0\" rel=\"nofollow\">there was a change</a> in the way of handling visual and collision arrays: </p>\n<div class=\"codehilite\"><pre><span></span><span class=\"nt\">-</span>  <span class=\"o\">///</span> <span class=\"nt\">if</span> <span class=\"nt\">more</span> <span class=\"nt\">than</span> <span class=\"nt\">one</span> <span class=\"nt\">collision</span> <span class=\"nt\">element</span> <span class=\"nt\">is</span> <span class=\"nt\">specified</span><span class=\"o\">,</span> <span class=\"nt\">all</span> <span class=\"nt\">collision</span> <span class=\"nt\">elements</span> <span class=\"nt\">are</span> <span class=\"nt\">placed</span> <span class=\"nt\">in</span> <span class=\"nt\">this</span> <span class=\"nt\">array</span> <span class=\"o\">(</span><span class=\"nt\">the</span> <span class=\"nt\">collision</span> <span class=\"nt\">member</span> <span class=\"nt\">will</span> <span class=\"nt\">be</span> <span class=\"nt\">NULL</span><span class=\"o\">)</span>\n<span class=\"o\">+</span>  <span class=\"o\">///</span> <span class=\"nt\">if</span> <span class=\"nt\">more</span> <span class=\"nt\">than</span> <span class=\"nt\">one</span> <span class=\"nt\">collision</span> <span class=\"nt\">element</span> <span class=\"nt\">is</span> <span class=\"nt\">specified</span><span class=\"o\">,</span> <span class=\"nt\">all</span> <span class=\"nt\">collision</span> <span class=\"nt\">elements</span> <span class=\"nt\">are</span> <span class=\"nt\">placed</span> <span class=\"nt\">in</span> <span class=\"nt\">this</span> <span class=\"nt\">array</span> <span class=\"o\">(</span><span class=\"nt\">the</span> <span class=\"nt\">collision</span> <span class=\"nt\">member</span> <span class=\"nt\">points</span> <span class=\"nt\">to</span> <span class=\"nt\">the</span> <span class=\"nt\">first</span> <span class=\"nt\">element</span> <span class=\"nt\">of</span> <span class=\"nt\">the</span> <span class=\"nt\">array</span><span class=\"o\">)</span>\n   <span class=\"nt\">std</span><span class=\"p\">::</span><span class=\"nd\">vector</span><span class=\"o\">&lt;</span><span class=\"nt\">boost</span><span class=\"p\">::</span><span class=\"nd\">shared_ptr</span><span class=\"o\">&lt;</span><span class=\"nt\">Collision</span><span class=\"o\">&gt;</span> <span class=\"o\">&gt;</span> <span class=\"nt\">collision_array</span><span class=\"o\">;</span>\n\n<span class=\"o\">...</span> <span class=\"nt\">same</span> <span class=\"nt\">for</span> <span class=\"nt\">visual</span> <span class=\"nt\">array</span>\n</pre></div>\n\n\n<p>So we are creating the bug when using urdfdom-0.2.3 and activate the USE_EXTERNAL_URDF flag</p>\n<p><strong>Workaround:</strong></p>\n<p>I did a quick test and generate an <a data-is-external-link=\"true\" href=\"http://www.gazebosim.org/assets/distributions/libsdformat1_1.4.11-1osrf1_amd64.deb\" rel=\"nofollow\">sdformat-1.4.11-1osrf1 package</a> removing the code in PR77. It can work just doing:</p>\n<div class=\"codehilite\"><pre><span></span>apt-get install gazebo2\ndpkg -i libsdformat1_1.4.11-1osrf1_amd64.deb\n</pre></div>\n\n\n<p><strong>Proper fix:</strong></p>\n<p>I need to start a bug in ubuntu to get rid of the patch in the 1.4.11 package so we get the fix from official repositories as soon as possible. Also, generate a gazebo2 version which depends on this patched version and above.</p>", "type": "rendered"}, "created_on": "2014-07-02T00:06:13.940175+00:00", "user": {"display_name": "Jose Luis Rivero", "uuid": "{d12309b2-f745-42ee-b119-aec4fcdf81fe}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bd12309b2-f745-42ee-b119-aec4fcdf81fe%7D"}, "html": {"href": "https://bitbucket.org/%7Bd12309b2-f745-42ee-b119-aec4fcdf81fe%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/109284c8b83411dbc7492138f6167e9ed=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsJR-5.png"}}, "nickname": "Jose Luis Rivero", "type": "user", "account_id": "557058:155a32e2-420c-4d50-98e0-0e722f63f906"}, "updated_on": null, "type": "issue_comment", "id": 11016112}, {"links": {"self": {"href": "data/repositories/osrf/sdformat/issues/63/comments/11016284.json"}, "html": {"href": "#!/osrf/sdformat/issues/63#comment-11016284"}}, "issue": {"links": {"self": {"href": "data/repositories/osrf/sdformat/issues/63.json"}}, "type": "issue", "id": 63, "repository": {"links": {"self": {"href": "data/repositories/osrf/sdformat.json"}, "html": {"href": "#!/osrf/sdformat"}, "avatar": {"href": "data/bytebucket.org/ravatar/{b6d52f9f-b070-41c0-807c-94af07ea375b}ts=1606789"}}, "type": "repository", "name": "sdformat", "full_name": "osrf/sdformat", "uuid": "{b6d52f9f-b070-41c0-807c-94af07ea375b}"}, "title": "gzsdf segfaults in trusty"}, "content": {"raw": "I just added a new test to capture these failures in b825fee0002d. We had a test for urdf with fixed joints and visuals, but the parent link of the fixed joint had a visual. The seg-faults seem to occur when the parent link is empty. So, I added a [test/integration/fixed_joint_reduction_visual.urdf](#!/osrf/sdformat/src/b825fee0002d0167b0d8e55c65a964ab5e0e099b/test/integration/fixed_joint_reduction_visual.urdf), which is a slight variant of [test/integration/fixed_joint_reduction.urdf](#!/osrf/sdformat/src/b825fee0002d0167b0d8e55c65a964ab5e0e099b/test/integration/fixed_joint_reduction.urdf) without the parent link visuals.\n\nThis test currently fails for me on trusty with the following packages:\n~~~\nii  liburdfdom-model0.2:amd64                             0.2.10+dfsg-1                                       amd64        URDF DOM - model library\nii  liburdfdom-headers-dev                                0.2.3+dfsg-1                                        all          URDF DOM - header files\n~~~\n", "markup": "markdown", "html": "<p>I just added a new test to capture these failures in <a href=\"#!/osrf/sdformat/commits/b825fee0002d\" rel=\"nofollow\" class=\"ap-connect-link\">b825fee0002d</a>. We had a test for urdf with fixed joints and visuals, but the parent link of the fixed joint had a visual. The seg-faults seem to occur when the parent link is empty. So, I added a <a data-is-external-link=\"true\" href=\"#!/osrf/sdformat/src/b825fee0002d0167b0d8e55c65a964ab5e0e099b/test/integration/fixed_joint_reduction_visual.urdf\" rel=\"nofollow\">test/integration/fixed_joint_reduction_visual.urdf</a>, which is a slight variant of <a data-is-external-link=\"true\" href=\"#!/osrf/sdformat/src/b825fee0002d0167b0d8e55c65a964ab5e0e099b/test/integration/fixed_joint_reduction.urdf\" rel=\"nofollow\">test/integration/fixed_joint_reduction.urdf</a> without the parent link visuals.</p>\n<p>This test currently fails for me on trusty with the following packages:</p>\n<div class=\"codehilite\"><pre><span></span>ii  liburdfdom-model0.2:amd64                             0.2.10+dfsg-1                                       amd64        URDF DOM - model library\nii  liburdfdom-headers-dev                                0.2.3+dfsg-1                                        all          URDF DOM - header files\n</pre></div>", "type": "rendered"}, "created_on": "2014-07-02T00:30:17.906632+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "updated_on": null, "type": "issue_comment", "id": 11016284}, {"links": {"self": {"href": "data/repositories/osrf/sdformat/issues/63/comments/11016513.json"}, "html": {"href": "#!/osrf/sdformat/issues/63#comment-11016513"}}, "issue": {"links": {"self": {"href": "data/repositories/osrf/sdformat/issues/63.json"}}, "type": "issue", "id": 63, "repository": {"links": {"self": {"href": "data/repositories/osrf/sdformat.json"}, "html": {"href": "#!/osrf/sdformat"}, "avatar": {"href": "data/bytebucket.org/ravatar/{b6d52f9f-b070-41c0-807c-94af07ea375b}ts=1606789"}}, "type": "repository", "name": "sdformat", "full_name": "osrf/sdformat", "uuid": "{b6d52f9f-b070-41c0-807c-94af07ea375b}"}, "title": "gzsdf segfaults in trusty"}, "content": {"raw": "We need to fix this in the sdf_2.0 branch as well as in ubuntu.", "markup": "markdown", "html": "<p>We need to fix this in the sdf_2.0 branch as well as in ubuntu.</p>", "type": "rendered"}, "created_on": "2014-07-02T01:00:31.542805+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "updated_on": null, "type": "issue_comment", "id": 11016513}, {"links": {"self": {"href": "data/repositories/osrf/sdformat/issues/63/comments/11016625.json"}, "html": {"href": "#!/osrf/sdformat/issues/63#comment-11016625"}}, "issue": {"links": {"self": {"href": "data/repositories/osrf/sdformat/issues/63.json"}}, "type": "issue", "id": 63, "repository": {"links": {"self": {"href": "data/repositories/osrf/sdformat.json"}, "html": {"href": "#!/osrf/sdformat"}, "avatar": {"href": "data/bytebucket.org/ravatar/{b6d52f9f-b070-41c0-807c-94af07ea375b}ts=1606789"}}, "type": "repository", "name": "sdformat", "full_name": "osrf/sdformat", "uuid": "{b6d52f9f-b070-41c0-807c-94af07ea375b}"}, "title": "gzsdf segfaults in trusty"}, "content": {"raw": "Current debian Sid and Ubuntu Utopic are using [urdfdom 0.3.0](https://launchpad.net/ubuntu/utopic/+source/urdfdom/0.3.0-1) and sdformat 2.x so I believe that patching is not needed there.", "markup": "markdown", "html": "<p>Current debian Sid and Ubuntu Utopic are using <a data-is-external-link=\"true\" href=\"https://launchpad.net/ubuntu/utopic/+source/urdfdom/0.3.0-1\" rel=\"nofollow\">urdfdom 0.3.0</a> and sdformat 2.x so I believe that patching is not needed there.</p>", "type": "rendered"}, "created_on": "2014-07-02T01:17:31.631457+00:00", "user": {"display_name": "Jose Luis Rivero", "uuid": "{d12309b2-f745-42ee-b119-aec4fcdf81fe}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bd12309b2-f745-42ee-b119-aec4fcdf81fe%7D"}, "html": {"href": "https://bitbucket.org/%7Bd12309b2-f745-42ee-b119-aec4fcdf81fe%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/109284c8b83411dbc7492138f6167e9ed=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsJR-5.png"}}, "nickname": "Jose Luis Rivero", "type": "user", "account_id": "557058:155a32e2-420c-4d50-98e0-0e722f63f906"}, "updated_on": null, "type": "issue_comment", "id": 11016625}, {"links": {"self": {"href": "data/repositories/osrf/sdformat/issues/63/comments/11016933.json"}, "html": {"href": "#!/osrf/sdformat/issues/63#comment-11016933"}}, "issue": {"links": {"self": {"href": "data/repositories/osrf/sdformat/issues/63.json"}}, "type": "issue", "id": 63, "repository": {"links": {"self": {"href": "data/repositories/osrf/sdformat.json"}, "html": {"href": "#!/osrf/sdformat"}, "avatar": {"href": "data/bytebucket.org/ravatar/{b6d52f9f-b070-41c0-807c-94af07ea375b}ts=1606789"}}, "type": "repository", "name": "sdformat", "full_name": "osrf/sdformat", "uuid": "{b6d52f9f-b070-41c0-807c-94af07ea375b}"}, "title": "gzsdf segfaults in trusty"}, "content": {"raw": "Thanks for figuring this out! Based on the above comments, I've added collision and visual geometries to all links which are fixed-joint parents of other links that have collision or visual geometries, and now i can use gzsdf/gazebo with our robot again.", "markup": "markdown", "html": "<p>Thanks for figuring this out! Based on the above comments, I've added collision and visual geometries to all links which are fixed-joint parents of other links that have collision or visual geometries, and now i can use gzsdf/gazebo with our robot again.</p>", "type": "rendered"}, "created_on": "2014-07-02T01:56:46.825045+00:00", "user": {"display_name": "Jonathan Binney", "uuid": "{1ab20f4e-2d01-413d-b41c-0d05784131a9}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B1ab20f4e-2d01-413d-b41c-0d05784131a9%7D"}, "html": {"href": "https://bitbucket.org/%7B1ab20f4e-2d01-413d-b41c-0d05784131a9%7D/"}, "avatar": {"href": "https://bitbucket.org/account/jbinney/avatar/"}}, "nickname": "jbinney", "type": "user", "account_id": null}, "updated_on": null, "type": "issue_comment", "id": 11016933}, {"links": {"self": {"href": "data/repositories/osrf/sdformat/issues/63/comments/11017195.json"}, "html": {"href": "#!/osrf/sdformat/issues/63#comment-11017195"}}, "issue": {"links": {"self": {"href": "data/repositories/osrf/sdformat/issues/63.json"}}, "type": "issue", "id": 63, "repository": {"links": {"self": {"href": "data/repositories/osrf/sdformat.json"}, "html": {"href": "#!/osrf/sdformat"}, "avatar": {"href": "data/bytebucket.org/ravatar/{b6d52f9f-b070-41c0-807c-94af07ea375b}ts=1606789"}}, "type": "repository", "name": "sdformat", "full_name": "osrf/sdformat", "uuid": "{b6d52f9f-b070-41c0-807c-94af07ea375b}"}, "title": "gzsdf segfaults in trusty"}, "content": {"raw": "attempt to fix issue 63\n\n\u2192 <<cset c2d769400171>>", "markup": "markdown", "html": "<p>attempt to fix issue 63</p>\n<p>\u2192 &lt;&lt;cset <a href=\"#!/osrf/sdformat/commits/c2d769400171\" rel=\"nofollow\" class=\"ap-connect-link\">c2d769400171</a>&gt;&gt;</p>", "type": "rendered"}, "created_on": "2014-07-02T02:27:52.948791+00:00", "user": {"display_name": "John Hsu", "uuid": "{0a186eae-abf0-4514-a951-23db5eccc286}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B0a186eae-abf0-4514-a951-23db5eccc286%7D"}, "html": {"href": "https://bitbucket.org/%7B0a186eae-abf0-4514-a951-23db5eccc286%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:f3968cd3-4910-4384-8349-482a6c7889ec/5445ce6e-6273-47f0-84eb-621c86ca11cb/128"}}, "nickname": "hsu", "type": "user", "account_id": "557058:f3968cd3-4910-4384-8349-482a6c7889ec"}, "updated_on": null, "type": "issue_comment", "id": 11017195}, {"links": {"self": {"href": "data/repositories/osrf/sdformat/issues/63/comments/11017220.json"}, "html": {"href": "#!/osrf/sdformat/issues/63#comment-11017220"}}, "issue": {"links": {"self": {"href": "data/repositories/osrf/sdformat/issues/63.json"}}, "type": "issue", "id": 63, "repository": {"links": {"self": {"href": "data/repositories/osrf/sdformat.json"}, "html": {"href": "#!/osrf/sdformat"}, "avatar": {"href": "data/bytebucket.org/ravatar/{b6d52f9f-b070-41c0-807c-94af07ea375b}ts=1606789"}}, "type": "repository", "name": "sdformat", "full_name": "osrf/sdformat", "uuid": "{b6d52f9f-b070-41c0-807c-94af07ea375b}"}, "title": "gzsdf segfaults in trusty"}, "content": {"raw": "can someone try pull request #107? thanks.", "markup": "markdown", "html": "<p>can someone try <a href=\"#!/osrf/sdformat/pull-requests/107/attempt-to-fix-issue-63\" rel=\"nofollow\" class=\"ap-connect-link\">pull request #107</a>? thanks.</p>", "type": "rendered"}, "created_on": "2014-07-02T02:30:54.810522+00:00", "user": {"display_name": "John Hsu", "uuid": "{0a186eae-abf0-4514-a951-23db5eccc286}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B0a186eae-abf0-4514-a951-23db5eccc286%7D"}, "html": {"href": "https://bitbucket.org/%7B0a186eae-abf0-4514-a951-23db5eccc286%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:f3968cd3-4910-4384-8349-482a6c7889ec/5445ce6e-6273-47f0-84eb-621c86ca11cb/128"}}, "nickname": "hsu", "type": "user", "account_id": "557058:f3968cd3-4910-4384-8349-482a6c7889ec"}, "updated_on": null, "type": "issue_comment", "id": 11017220}, {"links": {"self": {"href": "data/repositories/osrf/sdformat/issues/63/comments/11031419.json"}, "html": {"href": "#!/osrf/sdformat/issues/63#comment-11031419"}}, "issue": {"links": {"self": {"href": "data/repositories/osrf/sdformat/issues/63.json"}}, "type": "issue", "id": 63, "repository": {"links": {"self": {"href": "data/repositories/osrf/sdformat.json"}, "html": {"href": "#!/osrf/sdformat"}, "avatar": {"href": "data/bytebucket.org/ravatar/{b6d52f9f-b070-41c0-807c-94af07ea375b}ts=1606789"}}, "type": "repository", "name": "sdformat", "full_name": "osrf/sdformat", "uuid": "{b6d52f9f-b070-41c0-807c-94af07ea375b}"}, "title": "gzsdf segfaults in trusty"}, "content": {"raw": "it's not fixed yet", "markup": "markdown", "html": "<p>it's not fixed yet</p>", "type": "rendered"}, "created_on": "2014-07-02T17:07:30.810254+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "updated_on": null, "type": "issue_comment", "id": 11031419}, {"links": {"self": {"href": "data/repositories/osrf/sdformat/issues/63/comments/11097861.json"}, "html": {"href": "#!/osrf/sdformat/issues/63#comment-11097861"}}, "issue": {"links": {"self": {"href": "data/repositories/osrf/sdformat/issues/63.json"}}, "type": "issue", "id": 63, "repository": {"links": {"self": {"href": "data/repositories/osrf/sdformat.json"}, "html": {"href": "#!/osrf/sdformat"}, "avatar": {"href": "data/bytebucket.org/ravatar/{b6d52f9f-b070-41c0-807c-94af07ea375b}ts=1606789"}}, "type": "repository", "name": "sdformat", "full_name": "osrf/sdformat", "uuid": "{b6d52f9f-b070-41c0-807c-94af07ea375b}"}, "title": "gzsdf segfaults in trusty"}, "content": {"raw": "Thanks John, Steve for the pr 107, looks the proper way to get things fixed, tested and be sure not to repeat the problem again. Let's continue with it. However, it was critical for ROS to have the new package ready, so I just went ahead with a minimal patch on Trusty sdformat version. \n\nI've released in packages.osrfoundation.org repository the sdformat version ```1.4.11-1osrf1``` that should automatically upgrade current ```1.4.11-1``` but lower than the an hypothetic ```1.4.11-1ubuntu0.1```. \n\nI'm now building gazebo2 (2.2.2-5) depending on sdformat => 1.4.11-1osrf1 to be sure that we are using a safe version. It will make a new comment when ready.\n\nI will start tomorrow the process of patching the problem in Ubuntu.", "markup": "markdown", "html": "<p>Thanks John, Steve for the pr 107, looks the proper way to get things fixed, tested and be sure not to repeat the problem again. Let's continue with it. However, it was critical for ROS to have the new package ready, so I just went ahead with a minimal patch on Trusty sdformat version. </p>\n<p>I've released in packages.osrfoundation.org repository the sdformat version <code>1.4.11-1osrf1</code> that should automatically upgrade current <code>1.4.11-1</code> but lower than the an hypothetic <code>1.4.11-1ubuntu0.1</code>. </p>\n<p>I'm now building gazebo2 (2.2.2-5) depending on sdformat =&gt; 1.4.11-1osrf1 to be sure that we are using a safe version. It will make a new comment when ready.</p>\n<p>I will start tomorrow the process of patching the problem in Ubuntu.</p>", "type": "rendered"}, "created_on": "2014-07-07T01:07:29.565469+00:00", "user": {"display_name": "Jose Luis Rivero", "uuid": "{d12309b2-f745-42ee-b119-aec4fcdf81fe}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bd12309b2-f745-42ee-b119-aec4fcdf81fe%7D"}, "html": {"href": "https://bitbucket.org/%7Bd12309b2-f745-42ee-b119-aec4fcdf81fe%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/109284c8b83411dbc7492138f6167e9ed=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsJR-5.png"}}, "nickname": "Jose Luis Rivero", "type": "user", "account_id": "557058:155a32e2-420c-4d50-98e0-0e722f63f906"}, "updated_on": null, "type": "issue_comment", "id": 11097861}, {"links": {"self": {"href": "data/repositories/osrf/sdformat/issues/63/comments/11118552.json"}, "html": {"href": "#!/osrf/sdformat/issues/63#comment-11118552"}}, "issue": {"links": {"self": {"href": "data/repositories/osrf/sdformat/issues/63.json"}}, "type": "issue", "id": 63, "repository": {"links": {"self": {"href": "data/repositories/osrf/sdformat.json"}, "html": {"href": "#!/osrf/sdformat"}, "avatar": {"href": "data/bytebucket.org/ravatar/{b6d52f9f-b070-41c0-807c-94af07ea375b}ts=1606789"}}, "type": "repository", "name": "sdformat", "full_name": "osrf/sdformat", "uuid": "{b6d52f9f-b070-41c0-807c-94af07ea375b}"}, "title": "gzsdf segfaults in trusty"}, "content": {"raw": "I've started the [SRU bug in ubuntu](https://bugs.launchpad.net/ubuntu/+source/sdformat/+bug/1338845) to get this fixed in Trusty.", "markup": "markdown", "html": "<p>I've started the <a data-is-external-link=\"true\" href=\"https://bugs.launchpad.net/ubuntu/+source/sdformat/+bug/1338845\" rel=\"nofollow\">SRU bug in ubuntu</a> to get this fixed in Trusty.</p>", "type": "rendered"}, "created_on": "2014-07-08T00:55:44.595367+00:00", "user": {"display_name": "Jose Luis Rivero", "uuid": "{d12309b2-f745-42ee-b119-aec4fcdf81fe}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bd12309b2-f745-42ee-b119-aec4fcdf81fe%7D"}, "html": {"href": "https://bitbucket.org/%7Bd12309b2-f745-42ee-b119-aec4fcdf81fe%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/109284c8b83411dbc7492138f6167e9ed=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsJR-5.png"}}, "nickname": "Jose Luis Rivero", "type": "user", "account_id": "557058:155a32e2-420c-4d50-98e0-0e722f63f906"}, "updated_on": null, "type": "issue_comment", "id": 11118552}, {"links": {"self": {"href": "data/repositories/osrf/sdformat/issues/63/comments/11177612.json"}, "html": {"href": "#!/osrf/sdformat/issues/63#comment-11177612"}}, "issue": {"links": {"self": {"href": "data/repositories/osrf/sdformat/issues/63.json"}}, "type": "issue", "id": 63, "repository": {"links": {"self": {"href": "data/repositories/osrf/sdformat.json"}, "html": {"href": "#!/osrf/sdformat"}, "avatar": {"href": "data/bytebucket.org/ravatar/{b6d52f9f-b070-41c0-807c-94af07ea375b}ts=1606789"}}, "type": "repository", "name": "sdformat", "full_name": "osrf/sdformat", "uuid": "{b6d52f9f-b070-41c0-807c-94af07ea375b}"}, "title": "gzsdf segfaults in trusty"}, "content": {"raw": "Merged in issue_63_john (pull request #107)\n\nattempt to fix issue #63\n\n\u2192 <<cset 121570416b99>>", "markup": "markdown", "html": "<p>Merged in issue_63_john (<a href=\"#!/osrf/sdformat/pull-requests/107/attempt-to-fix-issue-63\" rel=\"nofollow\" class=\"ap-connect-link\">pull request #107</a>)</p>\n<p>attempt to fix issue <a href=\"#!/osrf/sdformat/issues/63/gzsdf-segfaults-in-trusty\" rel=\"nofollow\" title=\"gzsdf segfaults in trusty\" class=\"ap-connect-link\"><s>#63</s></a></p>\n<p>\u2192 &lt;&lt;cset <a href=\"#!/osrf/sdformat/commits/121570416b99\" rel=\"nofollow\" class=\"ap-connect-link\">121570416b99</a>&gt;&gt;</p>", "type": "rendered"}, "created_on": "2014-07-10T18:44:56.317974+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "updated_on": null, "type": "issue_comment", "id": 11177612}, {"links": {"self": {"href": "data/repositories/osrf/sdformat/issues/63/comments/11177866.json"}, "html": {"href": "#!/osrf/sdformat/issues/63#comment-11177866"}}, "issue": {"links": {"self": {"href": "data/repositories/osrf/sdformat/issues/63.json"}}, "type": "issue", "id": 63, "repository": {"links": {"self": {"href": "data/repositories/osrf/sdformat.json"}, "html": {"href": "#!/osrf/sdformat"}, "avatar": {"href": "data/bytebucket.org/ravatar/{b6d52f9f-b070-41c0-807c-94af07ea375b}ts=1606789"}}, "type": "repository", "name": "sdformat", "full_name": "osrf/sdformat", "uuid": "{b6d52f9f-b070-41c0-807c-94af07ea375b}"}, "title": "gzsdf segfaults in trusty"}, "content": {"raw": "I merged it forward to sdf_2.0 (ebfba264d26f) and default (44fcfc16ed9a) branches.", "markup": "markdown", "html": "<p>I merged it forward to sdf_2.0 (<a href=\"#!/osrf/sdformat/commits/ebfba264d26f\" rel=\"nofollow\" class=\"ap-connect-link\">ebfba264d26f</a>) and default (<a href=\"#!/osrf/sdformat/commits/44fcfc16ed9a\" rel=\"nofollow\" class=\"ap-connect-link\">44fcfc16ed9a</a>) branches.</p>", "type": "rendered"}, "created_on": "2014-07-10T19:03:06.474225+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "updated_on": null, "type": "issue_comment", "id": 11177866}, {"links": {"self": {"href": "data/repositories/osrf/sdformat/issues/63/comments/11319280.json"}, "html": {"href": "#!/osrf/sdformat/issues/63#comment-11319280"}}, "issue": {"links": {"self": {"href": "data/repositories/osrf/sdformat/issues/63.json"}}, "type": "issue", "id": 63, "repository": {"links": {"self": {"href": "data/repositories/osrf/sdformat.json"}, "html": {"href": "#!/osrf/sdformat"}, "avatar": {"href": "data/bytebucket.org/ravatar/{b6d52f9f-b070-41c0-807c-94af07ea375b}ts=1606789"}}, "type": "repository", "name": "sdformat", "full_name": "osrf/sdformat", "uuid": "{b6d52f9f-b070-41c0-807c-94af07ea375b}"}, "title": "gzsdf segfaults in trusty"}, "content": {"raw": "New packages have been released in Ubuntu trusty.", "markup": "markdown", "html": "<p>New packages have been released in Ubuntu trusty.</p>", "type": "rendered"}, "created_on": "2014-07-18T18:07:35.454578+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "updated_on": null, "type": "issue_comment", "id": 11319280}], "page": 1, "size": 26}