{"links": {"self": {"href": "data/repositories/osrf/sdformat/pullrequests/112/comments/2573772.json"}, "html": {"href": "#!/osrf/sdformat/pull-requests/112/_/diff#comment-2573772"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 112, "links": {"self": {"href": "data/repositories/osrf/sdformat/pullrequests/112.json"}, "html": {"href": "#!/osrf/sdformat/pull-requests/112"}}, "title": "New <Population> element"}, "content": {"raw": "Some of these parameters seem separated to me. Using [population.world](https://bitbucket.org/osrf/gazebo/src/env_population/worlds/population.world) from the [gazebo pull request](https://bitbucket.org/osrf/gazebo/pull-request/1157) as an example,\n\ncan_population1 has a `random` distribution in a `cuboid` region with `min` and `max` tags.\n~~~\n    <population name=\"can_population1\">\n...\n      <region>\n        <cuboid>\n          <min>3 3 0</min>\n          <max>4 4 0.1</max>\n        </cuboid>\n      </region>\n...\n      <distribution>random</distribution>\n    </population>\n~~~\n\ncan_population2 has a `grid` distribution in a `cuboid` region with the `min` tag, but instead of `max`, it has `rows`, `cols`, and `step` tags.\n~~~\n    <population name=\"can_population2\">\n...\n      <region>\n        <cuboid>\n          <min>-0.25 -0.5 0</min>\n          <rows>2</rows>\n          <cols>3</cols>\n          <step>0.25 0.25 0</step>\n        </cuboid>\n      </region>\n...\n      <distribution>grid</distribution>\n    </population>\n~~~\n\nThe `rows`, `cols`, and `step` seem unique to the `grid` distribution, so I would prefer to specify them elsewhere. For example:\n~~~\n    <population name=\"can_population2\">\n...\n      <region>\n        <cuboid>\n          <min>-0.25 -0.5 0</min>\n          <max>1 1 0.1</max>\n        </cuboid>\n      </region>\n...\n      <distribution>\n        <type>grid</type>\n        <rows>2</rows>\n        <cols>3</cols>\n        <step>0.25 0.25 0</step>\n      </distribution>\n    </population>\n~~~\nThen the region and distribution definitions are decoupled.", "markup": "markdown", "html": "<p>Some of these parameters seem separated to me. Using <a data-is-external-link=\"true\" href=\"https://bitbucket.org/osrf/gazebo/src/env_population/worlds/population.world\" rel=\"nofollow\">population.world</a> from the <a data-is-external-link=\"true\" href=\"https://bitbucket.org/osrf/gazebo/pull-request/1157\" rel=\"nofollow\">gazebo pull request</a> as an example,</p>\n<p>can_population1 has a <code>random</code> distribution in a <code>cuboid</code> region with <code>min</code> and <code>max</code> tags.</p>\n<div class=\"codehilite\"><pre><span></span>    <span class=\"nt\">&lt;population</span> <span class=\"na\">name=</span><span class=\"s\">&quot;can_population1&quot;</span><span class=\"nt\">&gt;</span>\n...\n      <span class=\"nt\">&lt;region&gt;</span>\n        <span class=\"nt\">&lt;cuboid&gt;</span>\n          <span class=\"nt\">&lt;min&gt;</span>3 3 0<span class=\"nt\">&lt;/min&gt;</span>\n          <span class=\"nt\">&lt;max&gt;</span>4 4 0.1<span class=\"nt\">&lt;/max&gt;</span>\n        <span class=\"nt\">&lt;/cuboid&gt;</span>\n      <span class=\"nt\">&lt;/region&gt;</span>\n...\n      <span class=\"nt\">&lt;distribution&gt;</span>random<span class=\"nt\">&lt;/distribution&gt;</span>\n    <span class=\"nt\">&lt;/population&gt;</span>\n</pre></div>\n\n\n<p>can_population2 has a <code>grid</code> distribution in a <code>cuboid</code> region with the <code>min</code> tag, but instead of <code>max</code>, it has <code>rows</code>, <code>cols</code>, and <code>step</code> tags.</p>\n<div class=\"codehilite\"><pre><span></span>    <span class=\"nt\">&lt;population</span> <span class=\"na\">name=</span><span class=\"s\">&quot;can_population2&quot;</span><span class=\"nt\">&gt;</span>\n...\n      <span class=\"nt\">&lt;region&gt;</span>\n        <span class=\"nt\">&lt;cuboid&gt;</span>\n          <span class=\"nt\">&lt;min&gt;</span>-0.25 -0.5 0<span class=\"nt\">&lt;/min&gt;</span>\n          <span class=\"nt\">&lt;rows&gt;</span>2<span class=\"nt\">&lt;/rows&gt;</span>\n          <span class=\"nt\">&lt;cols&gt;</span>3<span class=\"nt\">&lt;/cols&gt;</span>\n          <span class=\"nt\">&lt;step&gt;</span>0.25 0.25 0<span class=\"nt\">&lt;/step&gt;</span>\n        <span class=\"nt\">&lt;/cuboid&gt;</span>\n      <span class=\"nt\">&lt;/region&gt;</span>\n...\n      <span class=\"nt\">&lt;distribution&gt;</span>grid<span class=\"nt\">&lt;/distribution&gt;</span>\n    <span class=\"nt\">&lt;/population&gt;</span>\n</pre></div>\n\n\n<p>The <code>rows</code>, <code>cols</code>, and <code>step</code> seem unique to the <code>grid</code> distribution, so I would prefer to specify them elsewhere. For example:</p>\n<div class=\"codehilite\"><pre><span></span>    <span class=\"nt\">&lt;population</span> <span class=\"na\">name=</span><span class=\"s\">&quot;can_population2&quot;</span><span class=\"nt\">&gt;</span>\n...\n      <span class=\"nt\">&lt;region&gt;</span>\n        <span class=\"nt\">&lt;cuboid&gt;</span>\n          <span class=\"nt\">&lt;min&gt;</span>-0.25 -0.5 0<span class=\"nt\">&lt;/min&gt;</span>\n          <span class=\"nt\">&lt;max&gt;</span>1 1 0.1<span class=\"nt\">&lt;/max&gt;</span>\n        <span class=\"nt\">&lt;/cuboid&gt;</span>\n      <span class=\"nt\">&lt;/region&gt;</span>\n...\n      <span class=\"nt\">&lt;distribution&gt;</span>\n        <span class=\"nt\">&lt;type&gt;</span>grid<span class=\"nt\">&lt;/type&gt;</span>\n        <span class=\"nt\">&lt;rows&gt;</span>2<span class=\"nt\">&lt;/rows&gt;</span>\n        <span class=\"nt\">&lt;cols&gt;</span>3<span class=\"nt\">&lt;/cols&gt;</span>\n        <span class=\"nt\">&lt;step&gt;</span>0.25 0.25 0<span class=\"nt\">&lt;/step&gt;</span>\n      <span class=\"nt\">&lt;/distribution&gt;</span>\n    <span class=\"nt\">&lt;/population&gt;</span>\n</pre></div>\n\n\n<p>Then the region and distribution definitions are decoupled.</p>", "type": "rendered"}, "created_on": "2014-07-30T23:00:41.192084+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "updated_on": "2014-07-30T23:00:41.202460+00:00", "type": "pullrequest_comment", "id": 2573772}