{"links": {"self": {"href": "data/repositories/osrf/sdformat/pullrequests/640/comments/131273088.json"}, "code": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/sdformat/diff/osrf/sdformat:4f406e70a662..02e06ee164b7?path=src%2Fparser.cc"}, "html": {"href": "#!/osrf/sdformat/pull-requests/640/_/diff#comment-131273088"}}, "parent": {"id": 131271359, "links": {"self": {"href": "data/repositories/osrf/sdformat/pullrequests/640/comments/131271359.json"}, "html": {"href": "#!/osrf/sdformat/pull-requests/640/_/diff#comment-131271359"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 640, "links": {"self": {"href": "data/repositories/osrf/sdformat/pullrequests/640.json"}, "html": {"href": "#!/osrf/sdformat/pull-requests/640"}}, "title": "Access the original parsed version of an SDF document with `Element::OriginalVersion`"}, "content": {"raw": "The `convertFile` and `convertString` functions let you specify which version to convert to (`_version`); the `readFile` and `readString` functions both convert only to the latest version. Without this code block in the `convert*` functions that calls `SDF::SetOriginalVersion` and `recursiveElementSetOriginalVersion`, the original version will be set to `_version`, even though that's really the version after conversion.\n\nI'm not sure which function could take a flag that would fix this.", "markup": "markdown", "html": "<p>The <code>convertFile</code> and <code>convertString</code> functions let you specify which version to convert to (<code>_version</code>); the <code>readFile</code> and <code>readString</code> functions both convert only to the latest version. Without this code block in the <code>convert*</code> functions that calls <code>SDF::SetOriginalVersion</code> and <code>recursiveElementSetOriginalVersion</code>, the original version will be set to <code>_version</code>, even though that's really the version after conversion.</p>\n<p>I'm not sure which function could take a flag that would fix this.</p>", "type": "rendered"}, "created_on": "2020-01-10T23:16:09.525935+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "inline": {"to": 1226, "from": null, "outdated": true, "path": "src/parser.cc"}, "updated_on": "2020-01-10T23:16:09.534691+00:00", "type": "pullrequest_comment", "id": 131273088}