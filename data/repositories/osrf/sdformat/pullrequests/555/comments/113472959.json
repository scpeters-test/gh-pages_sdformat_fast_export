{"links": {"self": {"href": "data/repositories/osrf/sdformat/pullrequests/555/comments/113472959.json"}, "html": {"href": "#!/osrf/sdformat/pull-requests/555/_/diff#comment-113472959"}}, "parent": {"id": 113464518, "links": {"self": {"href": "data/repositories/osrf/sdformat/pullrequests/555/comments/113464518.json"}, "html": {"href": "#!/osrf/sdformat/pull-requests/555/_/diff#comment-113464518"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 555, "links": {"self": {"href": "data/repositories/osrf/sdformat/pullrequests/555.json"}, "html": {"href": "#!/osrf/sdformat/pull-requests/555"}}, "title": "Add must_be_end_link element to link sdf"}, "content": {"raw": "> Is there a better way to do this?\n\nYup, you can add any arbitrary parameters inside the `<plugin>` tag for example:\n\n```\n<model ...\n  <plugin ...\n    <end_effector>link_6</end_effector>\n  </plugin>\n</model>\n```\n\nThen inside your plugin's `Load` function, you do\n\n```\nvoid Load(physics::ModelPtr _model, sdf::ElementPtr _sdf)\n{\n  auto linkName = _sdf->Get<std::string>(\"end_effector\");\n  auto link = _model->GetLink(linkName);\n}\n```", "markup": "markdown", "html": "<blockquote>\n<p>Is there a better way to do this?</p>\n</blockquote>\n<p>Yup, you can add any arbitrary parameters inside the <code>&lt;plugin&gt;</code> tag for example:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"nt\">&lt;model</span> <span class=\"err\">...</span>\n  <span class=\"err\">&lt;plugin</span> <span class=\"err\">...</span>\n    <span class=\"err\">&lt;end_effector</span><span class=\"nt\">&gt;</span>link_6<span class=\"nt\">&lt;/end_effector&gt;</span>\n  <span class=\"nt\">&lt;/plugin&gt;</span>\n<span class=\"nt\">&lt;/model&gt;</span>\n</pre></div>\n\n\n<p>Then inside your plugin's <code>Load</code> function, you do</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"nt\">void</span> <span class=\"nt\">Load</span><span class=\"o\">(</span><span class=\"nt\">physics</span><span class=\"p\">::</span><span class=\"nd\">ModelPtr</span> <span class=\"nt\">_model</span><span class=\"o\">,</span> <span class=\"nt\">sdf</span><span class=\"p\">::</span><span class=\"nd\">ElementPtr</span> <span class=\"nt\">_sdf</span><span class=\"o\">)</span>\n<span class=\"p\">{</span>\n  <span class=\"err\">auto</span> <span class=\"err\">linkName</span> <span class=\"err\">=</span> <span class=\"err\">_sdf-&gt;Get&lt;</span><span class=\"n\">std</span><span class=\"p\">:</span><span class=\"o\">:</span><span class=\"n\">string</span><span class=\"o\">&gt;</span><span class=\"p\">(</span><span class=\"s2\">&quot;end_effector&quot;</span><span class=\"p\">);</span>\n  <span class=\"err\">auto</span> <span class=\"err\">link</span> <span class=\"err\">=</span> <span class=\"err\">_model-&gt;GetLink(linkName)</span><span class=\"p\">;</span>\n<span class=\"p\">}</span>\n</pre></div>", "type": "rendered"}, "created_on": "2019-08-18T18:13:38.404838+00:00", "user": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "updated_on": "2019-08-18T18:13:38.414980+00:00", "type": "pullrequest_comment", "id": 113472959}