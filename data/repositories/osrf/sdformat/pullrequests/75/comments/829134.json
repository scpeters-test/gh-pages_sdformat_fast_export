{"links": {"self": {"href": "data/repositories/osrf/sdformat/pullrequests/75/comments/829134.json"}, "html": {"href": "#!/osrf/sdformat/pull-requests/75/_/diff#comment-829134"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 75, "links": {"self": {"href": "data/repositories/osrf/sdformat/pullrequests/75.json"}, "html": {"href": "#!/osrf/sdformat/pull-requests/75"}}, "title": "Do not export urdf symbols in sdformat 1.4 (-> sdf_1.4)"}, "content": {"raw": "I just took a look at the commit and this should be the other way around: everything which is not set should be hidden.\nI.e. the public symbols should be tagged with visible and you should change the default visibility to hidden in the CMakeLists.txt.\n\nThere is two reason to do so:\n1. What you are doing here won't work on Windows and other linkers which makes the assumption symbols are hidden by default.\n2. It is better to tag what is in the ABI whereas we just don't care too much about the rest. For instance if you make it the other way you will be able to grep and count the number of visible symbols. You can then compare with the output of nm to see if this seems coherent!", "markup": "markdown", "html": "<p>I just took a look at the commit and this should be the other way around: everything which is not set should be hidden.\nI.e. the public symbols should be tagged with visible and you should change the default visibility to hidden in the CMakeLists.txt.</p>\n<p>There is two reason to do so:\n1. What you are doing here won't work on Windows and other linkers which makes the assumption symbols are hidden by default.\n2. It is better to tag what is in the ABI whereas we just don't care too much about the rest. For instance if you make it the other way you will be able to grep and count the number of visible symbols. You can then compare with the output of nm to see if this seems coherent!</p>", "type": "rendered"}, "created_on": "2013-11-18T08:33:22.482054+00:00", "user": {"display_name": "Thomas Moulard", "uuid": "{e1f47898-cedc-4c14-a637-d0c43400e843}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Be1f47898-cedc-4c14-a637-d0c43400e843%7D"}, "html": {"href": "https://bitbucket.org/%7Be1f47898-cedc-4c14-a637-d0c43400e843%7D/"}, "avatar": {"href": "https://bitbucket.org/account/thomas_moulard/avatar/"}}, "nickname": "thomas_moulard", "type": "user", "account_id": null}, "updated_on": "2013-11-18T08:33:22.622237+00:00", "type": "pullrequest_comment", "id": 829134}