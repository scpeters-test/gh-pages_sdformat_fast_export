{"pagelen": 100, "values": [{"links": {"self": {"href": "data/repositories/osrf/sdformat/pullrequests/660/comments/135279367.json"}, "html": {"href": "#!/osrf/sdformat/pull-requests/660/_/diff#comment-135279367"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 660, "links": {"self": {"href": "data/repositories/osrf/sdformat/pullrequests/660.json"}, "html": {"href": "#!/osrf/sdformat/pull-requests/660"}}, "title": "[WIP] Adding surface DOM"}, "content": {"raw": "> `const *Contact Cont() const`\n\nI think the `const` return type was meant to make these DOM objects readonly. I found that as we do more integration with ign-gazebo, there\u2019s need to populate these objects manually instead of reading everything from an sdf element. So I think it\u2019s ok to make it non-const, e.g. I didn\u2019t make the return type const [here](#!/osrf/sdformat/src/aab66b9e2f56d50ff345c50dfb4cff0e062fe7bf/include/sdf/Material.hh#lines-187). ", "markup": "markdown", "html": "<blockquote>\n<p><code>const *Contact Cont() const</code></p>\n</blockquote>\n<p>I think the <code>const</code> return type was meant to make these DOM objects readonly. I found that as we do more integration with ign-gazebo, there\u2019s need to populate these objects manually instead of reading everything from an sdf element. So I think it\u2019s ok to make it non-const, e.g. I didn\u2019t make the return type const <a data-is-external-link=\"true\" href=\"#!/osrf/sdformat/src/aab66b9e2f56d50ff345c50dfb4cff0e062fe7bf/include/sdf/Material.hh#lines-187\" rel=\"nofollow\">here</a>. </p>", "type": "rendered"}, "created_on": "2020-02-10T23:06:53.356137+00:00", "user": {"display_name": "Ian Chen", "uuid": "{eaa6fca5-6deb-43f6-907f-971c144735dd}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D"}, "html": {"href": "https://bitbucket.org/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5/1e4adcdf-1946-4280-9aea-eb5f15a7f912/128"}}, "nickname": "Ian Chen", "type": "user", "account_id": "557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5"}, "updated_on": "2020-02-10T23:06:53.362664+00:00", "type": "pullrequest_comment", "id": 135279367}, {"links": {"self": {"href": "data/repositories/osrf/sdformat/pullrequests/660/comments/135279470.json"}, "html": {"href": "#!/osrf/sdformat/pull-requests/660/_/diff#comment-135279470"}}, "parent": {"id": 135279367, "links": {"self": {"href": "data/repositories/osrf/sdformat/pullrequests/660/comments/135279367.json"}, "html": {"href": "#!/osrf/sdformat/pull-requests/660/_/diff#comment-135279367"}}, "depth": 1}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 660, "links": {"self": {"href": "data/repositories/osrf/sdformat/pullrequests/660.json"}, "html": {"href": "#!/osrf/sdformat/pull-requests/660"}}, "title": "[WIP] Adding surface DOM"}, "content": {"raw": "As for the function name `Cont`, it would be nice to use the full name. To avoid function name and class name collision you can do:\n\n```\npublic: const sdf::Contact *Contact() const;\n```\n\n\u200c", "markup": "markdown", "html": "<p>As for the function name <code>Cont</code>, it would be nice to use the full name. To avoid function name and class name collision you can do:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"kd\">public</span><span class=\"o\">:</span> <span class=\"kd\">const</span> <span class=\"n\">sdf</span><span class=\"o\">::</span><span class=\"n\">Contact</span> <span class=\"o\">*</span><span class=\"n\">Contact</span><span class=\"o\">()</span> <span class=\"kd\">const</span><span class=\"o\">;</span>\n</pre></div>\n\n\n<p>\u200c</p>", "type": "rendered"}, "created_on": "2020-02-10T23:08:15.691392+00:00", "user": {"display_name": "Ian Chen", "uuid": "{eaa6fca5-6deb-43f6-907f-971c144735dd}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D"}, "html": {"href": "https://bitbucket.org/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5/1e4adcdf-1946-4280-9aea-eb5f15a7f912/128"}}, "nickname": "Ian Chen", "type": "user", "account_id": "557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5"}, "updated_on": "2020-02-10T23:08:15.702503+00:00", "type": "pullrequest_comment", "id": 135279470}, {"links": {"self": {"href": "data/repositories/osrf/sdformat/pullrequests/660/comments/135292816.json"}, "html": {"href": "#!/osrf/sdformat/pull-requests/660/_/diff#comment-135292816"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 660, "links": {"self": {"href": "data/repositories/osrf/sdformat/pullrequests/660.json"}, "html": {"href": "#!/osrf/sdformat/pull-requests/660"}}, "title": "[WIP] Adding surface DOM"}, "content": {"raw": "Ok will rename \\(also the Surface getter then\\).\n\nAnother question about the pimpl practice in sdformat, I have found some resources on how to implement the pimpl idiom using smart pointers \\(unique\\_ptr for the dataPtr\\), which would save us a few lines of code and sources of potential bugs \\(at the very least we can get a default destructor\\).  \nWould that be something worth looking into or do you prefer to keep consistency to the rest of the library and just keep using raw pointers?", "markup": "markdown", "html": "<p>Ok will rename (also the Surface getter then).</p>\n<p>Another question about the pimpl practice in sdformat, I have found some resources on how to implement the pimpl idiom using smart pointers (unique_ptr for the dataPtr), which would save us a few lines of code and sources of potential bugs (at the very least we can get a default destructor).<br />\nWould that be something worth looking into or do you prefer to keep consistency to the rest of the library and just keep using raw pointers?</p>", "type": "rendered"}, "created_on": "2020-02-11T02:49:31.483089+00:00", "user": {"display_name": "Luca Della Vedova", "uuid": "{dff01cd5-37c0-4865-84bc-7e6bc480a09c}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bdff01cd5-37c0-4865-84bc-7e6bc480a09c%7D"}, "html": {"href": "https://bitbucket.org/%7Bdff01cd5-37c0-4865-84bc-7e6bc480a09c%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/5b24bfc2f4a3853203ffffb2a97b47dbd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsLV-3.png"}}, "nickname": "luca_della_vedova", "type": "user", "account_id": "557058:798a6cdf-d171-444d-b8af-5d088f9feb2d"}, "updated_on": "2020-02-11T02:49:31.488010+00:00", "type": "pullrequest_comment", "id": 135292816}, {"links": {"self": {"href": "data/repositories/osrf/sdformat/pullrequests/660/comments/135299163.json"}, "html": {"href": "#!/osrf/sdformat/pull-requests/660/_/diff#comment-135299163"}}, "parent": {"id": 135292816, "links": {"self": {"href": "data/repositories/osrf/sdformat/pullrequests/660/comments/135292816.json"}, "html": {"href": "#!/osrf/sdformat/pull-requests/660/_/diff#comment-135292816"}}, "depth": 1}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 660, "links": {"self": {"href": "data/repositories/osrf/sdformat/pullrequests/660.json"}, "html": {"href": "#!/osrf/sdformat/pull-requests/660"}}, "title": "[WIP] Adding surface DOM"}, "content": {"raw": "I remember we went back to using raw pointers because it was said that some compilers do not guarantee ABI compatibility for unique pointers. For sdformat, I would stick to raw pointers for this reason and also for consistency.", "markup": "markdown", "html": "<p>I remember we went back to using raw pointers because it was said that some compilers do not guarantee ABI compatibility for unique pointers. For sdformat, I would stick to raw pointers for this reason and also for consistency.</p>", "type": "rendered"}, "created_on": "2020-02-11T04:40:28.582680+00:00", "user": {"display_name": "Ian Chen", "uuid": "{eaa6fca5-6deb-43f6-907f-971c144735dd}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D"}, "html": {"href": "https://bitbucket.org/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5/1e4adcdf-1946-4280-9aea-eb5f15a7f912/128"}}, "nickname": "Ian Chen", "type": "user", "account_id": "557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5"}, "updated_on": "2020-02-11T04:40:28.591085+00:00", "type": "pullrequest_comment", "id": 135299163}], "page": 1, "size": 4}