{"links": {"self": {"href": "data/repositories/osrf/sdformat/pullrequests/558/comments/116885492.json"}, "html": {"href": "#!/osrf/sdformat/pull-requests/558/_/diff#comment-116885492"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 558, "links": {"self": {"href": "data/repositories/osrf/sdformat/pullrequests/558.json"}, "html": {"href": "#!/osrf/sdformat/pull-requests/558"}}, "title": "Accept relative path in <uri>"}, "content": {"raw": "so this works with the EntityFactory by passing an sdf string with an `<include>` tag:\n\n~~~\n'<sdf version=\\\"1.6\\\">'\\\n'<include>'\\\n'<uri>https://fuel.ignitionrobotics.org/1.0/chapulina/models/actor - relative paths</uri>'\\\n'</include>'\\\n'</sdf>\" '\n~~~\n\nI think it wouldn't work if you read the model file to a string and pass the string. I don't know how common that use case is, but it would be good to have helpful error messages like \"this model uses relative paths and requires a file path\" or something. Or do we need an attribute saying relative paths are being used?\n\n~~~\n                <geometry>\n                    <mesh>\n                        <uri relative_path=\"true\">meshes/some_mesh.dae</uri>\n                    </mesh>\n                </geometry>\n~~~", "markup": "markdown", "html": "<p>so this works with the EntityFactory by passing an sdf string with an <code>&lt;include&gt;</code> tag:</p>\n<div class=\"codehilite\"><pre><span></span>&#39;<span class=\"nt\">&lt;sdf</span> <span class=\"na\">version=</span><span class=\"s\">\\&quot;1.6\\&quot;</span><span class=\"nt\">&gt;</span>&#39;\\\n&#39;<span class=\"nt\">&lt;include&gt;</span>&#39;\\\n&#39;<span class=\"nt\">&lt;uri&gt;</span>https://fuel.ignitionrobotics.org/1.0/chapulina/models/actor - relative paths<span class=\"nt\">&lt;/uri&gt;</span>&#39;\\\n&#39;<span class=\"nt\">&lt;/include&gt;</span>&#39;\\\n&#39;<span class=\"nt\">&lt;/sdf&gt;</span>&quot; &#39;\n</pre></div>\n\n\n<p>I think it wouldn't work if you read the model file to a string and pass the string. I don't know how common that use case is, but it would be good to have helpful error messages like \"this model uses relative paths and requires a file path\" or something. Or do we need an attribute saying relative paths are being used?</p>\n<div class=\"codehilite\"><pre><span></span>                <span class=\"nt\">&lt;geometry&gt;</span>\n                    <span class=\"nt\">&lt;mesh&gt;</span>\n                        <span class=\"nt\">&lt;uri</span> <span class=\"na\">relative_path=</span><span class=\"s\">&quot;true&quot;</span><span class=\"nt\">&gt;</span>meshes/some_mesh.dae<span class=\"nt\">&lt;/uri&gt;</span>\n                    <span class=\"nt\">&lt;/mesh&gt;</span>\n                <span class=\"nt\">&lt;/geometry&gt;</span>\n</pre></div>", "type": "rendered"}, "created_on": "2019-09-13T19:09:44.269843+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "updated_on": "2019-09-13T19:09:44.280598+00:00", "type": "pullrequest_comment", "id": 116885492}