{"links": {"self": {"href": "data/repositories/osrf/sdformat/pullrequests/354/comments/43134447.json"}, "code": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/sdformat/diff/osrf/sdformat:82d9c2926573..02651be971ed?path=src%2FConverter.cc"}, "html": {"href": "#!/osrf/sdformat/pull-requests/354/_/diff#comment-43134447"}}, "parent": {"id": 40022129, "links": {"self": {"href": "data/repositories/osrf/sdformat/pullrequests/354/comments/40022129.json"}, "html": {"href": "#!/osrf/sdformat/pull-requests/354/_/diff#comment-40022129"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 354, "links": {"self": {"href": "data/repositories/osrf/sdformat/pullrequests/354.json"}, "html": {"href": "#!/osrf/sdformat/pull-requests/354"}}, "title": "Converter fix"}, "content": {"raw": "Oh, I see that I never answered your second question about duplicate convert files.  In theory, there really shouldn't be duplicates; each subdirectory should have a single file, converting from the previous version to this one.  In the main SDF conversion files, this is the case.  Since users are allowed to install their own files, though, there is no guarantee that this is the case.  With the std::set, you are right, it is going to (silently) filter out duplicates.  However, that can lead to surprising behavior, because which one it filters out will depend on the directory order (which is not guaranteed to be stable).  Probably the correct thing here is to add a warning if we see duplicates, and fail the conversion.  That all being said, I think the way we go about this whole conversion needs another rethink, because it has some issues right now (see my top-level comment).", "markup": "markdown", "html": "<p>Oh, I see that I never answered your second question about duplicate convert files.  In theory, there really shouldn't be duplicates; each subdirectory should have a single file, converting from the previous version to this one.  In the main SDF conversion files, this is the case.  Since users are allowed to install their own files, though, there is no guarantee that this is the case.  With the std::set, you are right, it is going to (silently) filter out duplicates.  However, that can lead to surprising behavior, because which one it filters out will depend on the directory order (which is not guaranteed to be stable).  Probably the correct thing here is to add a warning if we see duplicates, and fail the conversion.  That all being said, I think the way we go about this whole conversion needs another rethink, because it has some issues right now (see my top-level comment).</p>", "type": "rendered"}, "created_on": "2017-08-18T19:04:46.659524+00:00", "user": {"display_name": "clalancette", "uuid": "{02b311e1-297d-4232-89c4-5485d0a02911}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B02b311e1-297d-4232-89c4-5485d0a02911%7D"}, "html": {"href": "https://bitbucket.org/%7B02b311e1-297d-4232-89c4-5485d0a02911%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:ad6ed80b-ec66-45cb-9504-b1094a415b7f/048a0933-60ac-4910-a6a5-ed058bdea8eb/128"}}, "nickname": "clalancette", "type": "user", "account_id": "557058:ad6ed80b-ec66-45cb-9504-b1094a415b7f"}, "inline": {"to": null, "from": null, "outdated": false, "path": "src/Converter.cc"}, "updated_on": "2017-08-18T19:04:46.662242+00:00", "type": "pullrequest_comment", "id": 43134447}