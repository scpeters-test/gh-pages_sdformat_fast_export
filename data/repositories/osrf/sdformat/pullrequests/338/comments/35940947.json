{"links": {"self": {"href": "data/repositories/osrf/sdformat/pullrequests/338/comments/35940947.json"}, "code": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/sdformat/diff/osrf/sdformat:a28c759d0b15..68b4abfb6634?path=src%2FFilesystem.cc"}, "html": {"href": "#!/osrf/sdformat/pull-requests/338/_/diff#comment-35940947"}}, "parent": {"id": 35940463, "links": {"self": {"href": "data/repositories/osrf/sdformat/pullrequests/338/comments/35940463.json"}, "html": {"href": "#!/osrf/sdformat/pull-requests/338/_/diff#comment-35940463"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 338, "links": {"self": {"href": "data/repositories/osrf/sdformat/pullrequests/338.json"}, "html": {"href": "#!/osrf/sdformat/pull-requests/338"}}, "title": "Remove boost 15"}, "content": {"raw": "Actually, there is a way to get there, though it is a bit artificial.\n\ngetcwd() will return 0 if it encounters an error.  One of these errors is ERANGE, which means you didn't give it enough room in the buffer to give you the cwd.  If we hit that one, we would go into the if statement, but we would not hit the break case.\n\nHowever, if we did something like change to the directory, remove the directory, and then call getcwd(), I believe that would make getcwd() return ENOENT instead, which would hit the break and get us 100% coverage.  The real problem with that is that it is a test that I'm pretty sure will not work on Windows; Windows will not allow you to delete a file/directory that is still in use.\n\nGiven that limitation, do you still think it is a worthwhile test to have?", "markup": "markdown", "html": "<p>Actually, there is a way to get there, though it is a bit artificial.</p>\n<p>getcwd() will return 0 if it encounters an error.  One of these errors is ERANGE, which means you didn't give it enough room in the buffer to give you the cwd.  If we hit that one, we would go into the if statement, but we would not hit the break case.</p>\n<p>However, if we did something like change to the directory, remove the directory, and then call getcwd(), I believe that would make getcwd() return ENOENT instead, which would hit the break and get us 100% coverage.  The real problem with that is that it is a test that I'm pretty sure will not work on Windows; Windows will not allow you to delete a file/directory that is still in use.</p>\n<p>Given that limitation, do you still think it is a worthwhile test to have?</p>", "type": "rendered"}, "created_on": "2017-04-28T19:03:12.687530+00:00", "user": {"display_name": "clalancette", "uuid": "{02b311e1-297d-4232-89c4-5485d0a02911}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B02b311e1-297d-4232-89c4-5485d0a02911%7D"}, "html": {"href": "https://bitbucket.org/%7B02b311e1-297d-4232-89c4-5485d0a02911%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:ad6ed80b-ec66-45cb-9504-b1094a415b7f/048a0933-60ac-4910-a6a5-ed058bdea8eb/128"}}, "nickname": "clalancette", "type": "user", "account_id": "557058:ad6ed80b-ec66-45cb-9504-b1094a415b7f"}, "inline": {"to": null, "from": null, "outdated": false, "path": "src/Filesystem.cc"}, "updated_on": "2017-04-28T19:06:44.347615+00:00", "type": "pullrequest_comment", "id": 35940947}