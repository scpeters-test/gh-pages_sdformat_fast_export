{"pagelen": 50, "values": [{"update": {"description": "The problem affects latin locales (at least es\\_\\* and pt\\_\\*) and maybe others where decimal numbers are represented using comma instead of a dot. It only happens when converting values,  related to glibc which is the one that handles locales.\r\n\r\nThe fix was easy. The test is not so easy. First, we would need a system with a latin locale already generated. The current implementation should skip the test if no latin locale is present. Second, to get the error and make gtest to fail we should parse the log file to get the output of sdferr. There is no other way of getting the return value from `Param::SetFromString` and unit testing it won't help since no conversion operation is done through glibc.\r\n\r\nTo see the test failing, remove the std::setlocale line introduced in this pull request, generate a latin locale and see the test output.\r\n", "title": "Fix problems with latin locales and decimal numbers (issue #60)", "destination": {"commit": {"hash": "253eeabfe49d", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/sdformat/commit/253eeabfe49d.json"}, "html": {"href": "#!/osrf/sdformat/commits/253eeabfe49d"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/sdformat.json"}, "html": {"href": "#!/osrf/sdformat"}, "avatar": {"href": "data/bytebucket.org/ravatar/{b6d52f9f-b070-41c0-807c-94af07ea375b}ts=1606789"}}, "type": "repository", "name": "sdformat", "full_name": "osrf/sdformat", "uuid": "{b6d52f9f-b070-41c0-807c-94af07ea375b}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "9add8fd62144", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/sdformat/commit/9add8fd62144.json"}, "html": {"href": "#!/osrf/sdformat/commits/9add8fd62144"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/sdformat.json"}, "html": {"href": "#!/osrf/sdformat"}, "avatar": {"href": "data/bytebucket.org/ravatar/{b6d52f9f-b070-41c0-807c-94af07ea375b}ts=1606789"}}, "type": "repository", "name": "sdformat", "full_name": "osrf/sdformat", "uuid": "{b6d52f9f-b070-41c0-807c-94af07ea375b}"}, "branch": {"name": "numeric_test_2.0"}}, "state": "MERGED", "author": {"display_name": "Jose Luis Rivero", "uuid": "{d12309b2-f745-42ee-b119-aec4fcdf81fe}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bd12309b2-f745-42ee-b119-aec4fcdf81fe%7D"}, "html": {"href": "https://bitbucket.org/%7Bd12309b2-f745-42ee-b119-aec4fcdf81fe%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/109284c8b83411dbc7492138f6167e9ed=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsJR-5.png"}}, "nickname": "Jose Luis Rivero", "type": "user", "account_id": "557058:155a32e2-420c-4d50-98e0-0e722f63f906"}, "date": "2015-03-04T00:35:57.882185+00:00"}, "pull_request": {"type": "pullrequest", "id": 147, "links": {"self": {"href": "data/repositories/osrf/sdformat/pullrequests/147.json"}, "html": {"href": "#!/osrf/sdformat/pull-requests/147"}}, "title": "Fix problems with latin locales and decimal numbers (issue #60)"}}, {"approval": {"date": "2015-03-03T15:36:36.705226+00:00", "pullrequest": {"type": "pullrequest", "id": 147, "links": {"self": {"href": "data/repositories/osrf/sdformat/pullrequests/147.json"}, "html": {"href": "#!/osrf/sdformat/pull-requests/147"}}, "title": "Fix problems with latin locales and decimal numbers (issue #60)"}, "user": {"display_name": "Nate Koenig", "uuid": "{c862cdd9-fcc8-4419-9fc7-e20db14b8fcb}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc862cdd9-fcc8-4419-9fc7-e20db14b8fcb%7D"}, "html": {"href": "https://bitbucket.org/%7Bc862cdd9-fcc8-4419-9fc7-e20db14b8fcb%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:095b1e12-74ed-4e20-b44f-2f0745b616e0/ca24bb11-4787-4b14-a20d-d91835e9bde2/128"}}, "nickname": "Nathan Koenig", "type": "user", "account_id": "557058:095b1e12-74ed-4e20-b44f-2f0745b616e0"}}, "pull_request": {"type": "pullrequest", "id": 147, "links": {"self": {"href": "data/repositories/osrf/sdformat/pullrequests/147.json"}, "html": {"href": "#!/osrf/sdformat/pull-requests/147"}}, "title": "Fix problems with latin locales and decimal numbers (issue #60)"}}, {"update": {"description": "The problem affects latin locales (at least es\\_\\* and pt\\_\\*) and maybe others where decimal numbers are represented using comma instead of a dot. It only happens when converting values,  related to glibc which is the one that handles locales.\r\n\r\nThe fix was easy. The test is not so easy. First, we would need a system with a latin locale already generated. The current implementation should skip the test if no latin locale is present. Second, to get the error and make gtest to fail we should parse the log file to get the output of sdferr. There is no other way of getting the return value from `Param::SetFromString` and unit testing it won't help since no conversion operation is done through glibc.\r\n\r\nTo see the test failing, remove the std::setlocale line introduced in this pull request, generate a latin locale and see the test output.\r\n", "title": "Fix problems with latin locales and decimal numbers (issue #60)", "destination": {"commit": {"hash": "529ca729f7be", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/sdformat/commit/529ca729f7be.json"}, "html": {"href": "#!/osrf/sdformat/commits/529ca729f7be"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/sdformat.json"}, "html": {"href": "#!/osrf/sdformat"}, "avatar": {"href": "data/bytebucket.org/ravatar/{b6d52f9f-b070-41c0-807c-94af07ea375b}ts=1606789"}}, "type": "repository", "name": "sdformat", "full_name": "osrf/sdformat", "uuid": "{b6d52f9f-b070-41c0-807c-94af07ea375b}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "9add8fd62144", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/sdformat/commit/9add8fd62144.json"}, "html": {"href": "#!/osrf/sdformat/commits/9add8fd62144"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/sdformat.json"}, "html": {"href": "#!/osrf/sdformat"}, "avatar": {"href": "data/bytebucket.org/ravatar/{b6d52f9f-b070-41c0-807c-94af07ea375b}ts=1606789"}}, "type": "repository", "name": "sdformat", "full_name": "osrf/sdformat", "uuid": "{b6d52f9f-b070-41c0-807c-94af07ea375b}"}, "branch": {"name": "numeric_test_2.0"}}, "state": "OPEN", "author": {"display_name": "Nate Koenig", "uuid": "{c862cdd9-fcc8-4419-9fc7-e20db14b8fcb}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc862cdd9-fcc8-4419-9fc7-e20db14b8fcb%7D"}, "html": {"href": "https://bitbucket.org/%7Bc862cdd9-fcc8-4419-9fc7-e20db14b8fcb%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:095b1e12-74ed-4e20-b44f-2f0745b616e0/ca24bb11-4787-4b14-a20d-d91835e9bde2/128"}}, "nickname": "Nathan Koenig", "type": "user", "account_id": "557058:095b1e12-74ed-4e20-b44f-2f0745b616e0"}, "date": "2015-03-02T23:36:47.765271+00:00"}, "pull_request": {"type": "pullrequest", "id": 147, "links": {"self": {"href": "data/repositories/osrf/sdformat/pullrequests/147.json"}, "html": {"href": "#!/osrf/sdformat/pull-requests/147"}}, "title": "Fix problems with latin locales and decimal numbers (issue #60)"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/sdformat/pullrequests/147/comments/5431601.json"}, "html": {"href": "#!/osrf/sdformat/pull-requests/147/_/diff#comment-5431601"}}, "parent": {"id": 5406200, "links": {"self": {"href": "data/repositories/osrf/sdformat/pullrequests/147/comments/5406200.json"}, "html": {"href": "#!/osrf/sdformat/pull-requests/147/_/diff#comment-5406200"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 147, "links": {"self": {"href": "data/repositories/osrf/sdformat/pullrequests/147.json"}, "html": {"href": "#!/osrf/sdformat/pull-requests/147"}}, "title": "Fix problems with latin locales and decimal numbers (issue #60)"}, "content": {"raw": "Seems like MacOS is not installing international locale support by default for cpp, so I just changed the whole thing to C setlocale. It should work the same, but we don't require users/buildsystem to modify anything.", "markup": "markdown", "html": "<p>Seems like MacOS is not installing international locale support by default for cpp, so I just changed the whole thing to C setlocale. It should work the same, but we don't require users/buildsystem to modify anything.</p>", "type": "rendered"}, "created_on": "2015-03-02T23:35:31.948701+00:00", "user": {"display_name": "Jose Luis Rivero", "uuid": "{d12309b2-f745-42ee-b119-aec4fcdf81fe}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bd12309b2-f745-42ee-b119-aec4fcdf81fe%7D"}, "html": {"href": "https://bitbucket.org/%7Bd12309b2-f745-42ee-b119-aec4fcdf81fe%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/109284c8b83411dbc7492138f6167e9ed=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsJR-5.png"}}, "nickname": "Jose Luis Rivero", "type": "user", "account_id": "557058:155a32e2-420c-4d50-98e0-0e722f63f906"}, "updated_on": "2015-03-02T23:35:31.955474+00:00", "type": "pullrequest_comment", "id": 5431601}, "pull_request": {"type": "pullrequest", "id": 147, "links": {"self": {"href": "data/repositories/osrf/sdformat/pullrequests/147.json"}, "html": {"href": "#!/osrf/sdformat/pull-requests/147"}}, "title": "Fix problems with latin locales and decimal numbers (issue #60)"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/sdformat/pullrequests/147/comments/5431568.json"}, "html": {"href": "#!/osrf/sdformat/pull-requests/147/_/diff#comment-5431568"}}, "parent": {"id": 5427804, "links": {"self": {"href": "data/repositories/osrf/sdformat/pullrequests/147/comments/5427804.json"}, "html": {"href": "#!/osrf/sdformat/pull-requests/147/_/diff#comment-5427804"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 147, "links": {"self": {"href": "data/repositories/osrf/sdformat/pullrequests/147.json"}, "html": {"href": "#!/osrf/sdformat/pull-requests/147"}}, "title": "Fix problems with latin locales and decimal numbers (issue #60)"}, "content": {"raw": "awesome! thanks!", "markup": "markdown", "html": "<p>awesome! thanks!</p>", "type": "rendered"}, "created_on": "2015-03-02T23:33:45.575895+00:00", "user": {"display_name": "Jose Luis Rivero", "uuid": "{d12309b2-f745-42ee-b119-aec4fcdf81fe}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bd12309b2-f745-42ee-b119-aec4fcdf81fe%7D"}, "html": {"href": "https://bitbucket.org/%7Bd12309b2-f745-42ee-b119-aec4fcdf81fe%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/109284c8b83411dbc7492138f6167e9ed=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsJR-5.png"}}, "nickname": "Jose Luis Rivero", "type": "user", "account_id": "557058:155a32e2-420c-4d50-98e0-0e722f63f906"}, "updated_on": "2015-03-02T23:33:45.584556+00:00", "type": "pullrequest_comment", "id": 5431568}, "pull_request": {"type": "pullrequest", "id": 147, "links": {"self": {"href": "data/repositories/osrf/sdformat/pullrequests/147.json"}, "html": {"href": "#!/osrf/sdformat/pull-requests/147"}}, "title": "Fix problems with latin locales and decimal numbers (issue #60)"}}, {"approval": {"date": "2015-03-02T20:04:28.397958+00:00", "pullrequest": {"type": "pullrequest", "id": 147, "links": {"self": {"href": "data/repositories/osrf/sdformat/pullrequests/147.json"}, "html": {"href": "#!/osrf/sdformat/pull-requests/147"}}, "title": "Fix problems with latin locales and decimal numbers (issue #60)"}, "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}}, "pull_request": {"type": "pullrequest", "id": 147, "links": {"self": {"href": "data/repositories/osrf/sdformat/pullrequests/147.json"}, "html": {"href": "#!/osrf/sdformat/pull-requests/147"}}, "title": "Fix problems with latin locales and decimal numbers (issue #60)"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/sdformat/pullrequests/147/comments/5427804.json"}, "html": {"href": "#!/osrf/sdformat/pull-requests/147/_/diff#comment-5427804"}}, "parent": {"id": 5427539, "links": {"self": {"href": "data/repositories/osrf/sdformat/pullrequests/147/comments/5427539.json"}, "html": {"href": "#!/osrf/sdformat/pull-requests/147/_/diff#comment-5427539"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 147, "links": {"self": {"href": "data/repositories/osrf/sdformat/pullrequests/147.json"}, "html": {"href": "#!/osrf/sdformat/pull-requests/147"}}, "title": "Fix problems with latin locales and decimal numbers (issue #60)"}, "content": {"raw": "fixed", "markup": "markdown", "html": "<p>fixed</p>", "type": "rendered"}, "created_on": "2015-03-02T20:03:40.782083+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "updated_on": "2015-03-02T20:03:40.790147+00:00", "type": "pullrequest_comment", "id": 5427804}, "pull_request": {"type": "pullrequest", "id": 147, "links": {"self": {"href": "data/repositories/osrf/sdformat/pullrequests/147.json"}, "html": {"href": "#!/osrf/sdformat/pull-requests/147"}}, "title": "Fix problems with latin locales and decimal numbers (issue #60)"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/sdformat/pullrequests/147/comments/5427539.json"}, "html": {"href": "#!/osrf/sdformat/pull-requests/147/_/diff#comment-5427539"}}, "parent": {"id": 5427236, "links": {"self": {"href": "data/repositories/osrf/sdformat/pullrequests/147/comments/5427236.json"}, "html": {"href": "#!/osrf/sdformat/pull-requests/147/_/diff#comment-5427236"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 147, "links": {"self": {"href": "data/repositories/osrf/sdformat/pullrequests/147.json"}, "html": {"href": "#!/osrf/sdformat/pull-requests/147"}}, "title": "Fix problems with latin locales and decimal numbers (issue #60)"}, "content": {"raw": "potential fix in d4fdc3a6bcbe\n\nhttp://build.osrfoundation.org/view/SDFormat/job/sdformat-any-devel-homebrew-amd64/51/", "markup": "markdown", "html": "<p>potential fix in <a href=\"#!/osrf/sdformat/commits/d4fdc3a6bcbe\" rel=\"nofollow\" class=\"ap-connect-link\">d4fdc3a6bcbe</a></p>\n<p><a href=\"http://build.osrfoundation.org/view/SDFormat/job/sdformat-any-devel-homebrew-amd64/51/\" rel=\"nofollow\" class=\"ap-connect-link\">http://build.osrfoundation.org/view/SDFormat/job/sdformat-any-devel-homebrew-amd64/51/</a></p>", "type": "rendered"}, "created_on": "2015-03-02T19:51:35.018894+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "updated_on": "2015-03-02T19:51:35.029604+00:00", "type": "pullrequest_comment", "id": 5427539}, "pull_request": {"type": "pullrequest", "id": 147, "links": {"self": {"href": "data/repositories/osrf/sdformat/pullrequests/147.json"}, "html": {"href": "#!/osrf/sdformat/pull-requests/147"}}, "title": "Fix problems with latin locales and decimal numbers (issue #60)"}}, {"update": {"description": "The problem affects latin locales (at least es\\_\\* and pt\\_\\*) and maybe others where decimal numbers are represented using comma instead of a dot. It only happens when converting values,  related to glibc which is the one that handles locales.\r\n\r\nThe fix was easy. The test is not so easy. First, we would need a system with a latin locale already generated. The current implementation should skip the test if no latin locale is present. Second, to get the error and make gtest to fail we should parse the log file to get the output of sdferr. There is no other way of getting the return value from `Param::SetFromString` and unit testing it won't help since no conversion operation is done through glibc.\r\n\r\nTo see the test failing, remove the std::setlocale line introduced in this pull request, generate a latin locale and see the test output.\r\n", "title": "Fix problems with latin locales and decimal numbers (issue #60)", "destination": {"commit": {"hash": "529ca729f7be", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/sdformat/commit/529ca729f7be.json"}, "html": {"href": "#!/osrf/sdformat/commits/529ca729f7be"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/sdformat.json"}, "html": {"href": "#!/osrf/sdformat"}, "avatar": {"href": "data/bytebucket.org/ravatar/{b6d52f9f-b070-41c0-807c-94af07ea375b}ts=1606789"}}, "type": "repository", "name": "sdformat", "full_name": "osrf/sdformat", "uuid": "{b6d52f9f-b070-41c0-807c-94af07ea375b}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "d4fdc3a6bcbe", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/sdformat/commit/d4fdc3a6bcbe.json"}, "html": {"href": "#!/osrf/sdformat/commits/d4fdc3a6bcbe"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/sdformat.json"}, "html": {"href": "#!/osrf/sdformat"}, "avatar": {"href": "data/bytebucket.org/ravatar/{b6d52f9f-b070-41c0-807c-94af07ea375b}ts=1606789"}}, "type": "repository", "name": "sdformat", "full_name": "osrf/sdformat", "uuid": "{b6d52f9f-b070-41c0-807c-94af07ea375b}"}, "branch": {"name": "numeric_test_2.0"}}, "state": "OPEN", "author": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "date": "2015-03-02T19:49:26.252304+00:00"}, "pull_request": {"type": "pullrequest", "id": 147, "links": {"self": {"href": "data/repositories/osrf/sdformat/pullrequests/147.json"}, "html": {"href": "#!/osrf/sdformat/pull-requests/147"}}, "title": "Fix problems with latin locales and decimal numbers (issue #60)"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/sdformat/pullrequests/147/comments/5427236.json"}, "html": {"href": "#!/osrf/sdformat/pull-requests/147/_/diff#comment-5427236"}}, "parent": {"id": 5403497, "links": {"self": {"href": "data/repositories/osrf/sdformat/pullrequests/147/comments/5403497.json"}, "html": {"href": "#!/osrf/sdformat/pull-requests/147/_/diff#comment-5403497"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 147, "links": {"self": {"href": "data/repositories/osrf/sdformat/pullrequests/147.json"}, "html": {"href": "#!/osrf/sdformat/pull-requests/147"}}, "title": "Fix problems with latin locales and decimal numbers (issue #60)"}, "content": {"raw": "[still broken](http://build.osrfoundation.org/view/SDFormat/job/sdformat-any-devel-homebrew-amd64/50/) as of 55e641b670baf04878e345b852db6afd29fe340d. I'll try debugging on my machine", "markup": "markdown", "html": "<p><a data-is-external-link=\"true\" href=\"http://build.osrfoundation.org/view/SDFormat/job/sdformat-any-devel-homebrew-amd64/50/\" rel=\"nofollow\">still broken</a> as of <a href=\"#!/osrf/sdformat/commits/55e641b670baf04878e345b852db6afd29fe340d\" rel=\"nofollow\" class=\"ap-connect-link\">55e641b670baf04878e345b852db6afd29fe340d</a>. I'll try debugging on my machine</p>", "type": "rendered"}, "created_on": "2015-03-02T19:37:50.753227+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "updated_on": "2015-03-02T19:37:50.764105+00:00", "type": "pullrequest_comment", "id": 5427236}, "pull_request": {"type": "pullrequest", "id": 147, "links": {"self": {"href": "data/repositories/osrf/sdformat/pullrequests/147.json"}, "html": {"href": "#!/osrf/sdformat/pull-requests/147"}}, "title": "Fix problems with latin locales and decimal numbers (issue #60)"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/sdformat/pullrequests/147/comments/5427170.json"}, "html": {"href": "#!/osrf/sdformat/pull-requests/147/_/diff#comment-5427170"}}, "parent": {"id": 5403499, "links": {"self": {"href": "data/repositories/osrf/sdformat/pullrequests/147/comments/5403499.json"}, "html": {"href": "#!/osrf/sdformat/pull-requests/147/_/diff#comment-5403499"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 147, "links": {"self": {"href": "data/repositories/osrf/sdformat/pullrequests/147.json"}, "html": {"href": "#!/osrf/sdformat/pull-requests/147"}}, "title": "Fix problems with latin locales and decimal numbers (issue #60)"}, "content": {"raw": "[drone is now fixed](https://drone.io/bitbucket.org/osrf/sdformat/456) as of 55e641b670ba", "markup": "markdown", "html": "<p><a data-is-external-link=\"true\" href=\"https://drone.io/bitbucket.org/osrf/sdformat/456\" rel=\"nofollow\">drone is now fixed</a> as of <a href=\"#!/osrf/sdformat/commits/55e641b670ba\" rel=\"nofollow\" class=\"ap-connect-link\">55e641b670ba</a></p>", "type": "rendered"}, "created_on": "2015-03-02T19:34:25.972122+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "updated_on": "2015-03-02T19:34:25.979014+00:00", "type": "pullrequest_comment", "id": 5427170}, "pull_request": {"type": "pullrequest", "id": 147, "links": {"self": {"href": "data/repositories/osrf/sdformat/pullrequests/147.json"}, "html": {"href": "#!/osrf/sdformat/pull-requests/147"}}, "title": "Fix problems with latin locales and decimal numbers (issue #60)"}}, {"update": {"description": "The problem affects latin locales (at least es\\_\\* and pt\\_\\*) and maybe others where decimal numbers are represented using comma instead of a dot. It only happens when converting values,  related to glibc which is the one that handles locales.\r\n\r\nThe fix was easy. The test is not so easy. First, we would need a system with a latin locale already generated. The current implementation should skip the test if no latin locale is present. Second, to get the error and make gtest to fail we should parse the log file to get the output of sdferr. There is no other way of getting the return value from `Param::SetFromString` and unit testing it won't help since no conversion operation is done through glibc.\r\n\r\nTo see the test failing, remove the std::setlocale line introduced in this pull request, generate a latin locale and see the test output.\r\n", "title": "Fix problems with latin locales and decimal numbers (issue #60)", "destination": {"commit": {"hash": "529ca729f7be", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/sdformat/commit/529ca729f7be.json"}, "html": {"href": "#!/osrf/sdformat/commits/529ca729f7be"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/sdformat.json"}, "html": {"href": "#!/osrf/sdformat"}, "avatar": {"href": "data/bytebucket.org/ravatar/{b6d52f9f-b070-41c0-807c-94af07ea375b}ts=1606789"}}, "type": "repository", "name": "sdformat", "full_name": "osrf/sdformat", "uuid": "{b6d52f9f-b070-41c0-807c-94af07ea375b}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "55e641b670ba", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/sdformat/commit/55e641b670ba.json"}, "html": {"href": "#!/osrf/sdformat/commits/55e641b670ba"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/sdformat.json"}, "html": {"href": "#!/osrf/sdformat"}, "avatar": {"href": "data/bytebucket.org/ravatar/{b6d52f9f-b070-41c0-807c-94af07ea375b}ts=1606789"}}, "type": "repository", "name": "sdformat", "full_name": "osrf/sdformat", "uuid": "{b6d52f9f-b070-41c0-807c-94af07ea375b}"}, "branch": {"name": "numeric_test_2.0"}}, "state": "OPEN", "author": {"display_name": "Jose Luis Rivero", "uuid": "{d12309b2-f745-42ee-b119-aec4fcdf81fe}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bd12309b2-f745-42ee-b119-aec4fcdf81fe%7D"}, "html": {"href": "https://bitbucket.org/%7Bd12309b2-f745-42ee-b119-aec4fcdf81fe%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/109284c8b83411dbc7492138f6167e9ed=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsJR-5.png"}}, "nickname": "Jose Luis Rivero", "type": "user", "account_id": "557058:155a32e2-420c-4d50-98e0-0e722f63f906"}, "date": "2015-03-02T18:47:31.263456+00:00"}, "pull_request": {"type": "pullrequest", "id": 147, "links": {"self": {"href": "data/repositories/osrf/sdformat/pullrequests/147.json"}, "html": {"href": "#!/osrf/sdformat/pull-requests/147"}}, "title": "Fix problems with latin locales and decimal numbers (issue #60)"}}, {"update": {"description": "The problem affects latin locales (at least es\\_\\* and pt\\_\\*) and maybe others where decimal numbers are represented using comma instead of a dot. It only happens when converting values,  related to glibc which is the one that handles locales.\r\n\r\nThe fix was easy. The test is not so easy. First, we would need a system with a latin locale already generated. The current implementation should skip the test if no latin locale is present. Second, to get the error and make gtest to fail we should parse the log file to get the output of sdferr. There is no other way of getting the return value from `Param::SetFromString` and unit testing it won't help since no conversion operation is done through glibc.\r\n\r\nTo see the test failing, remove the std::setlocale line introduced in this pull request, generate a latin locale and see the test output.\r\n", "title": "Fix problems with latin locales and decimal numbers (issue #60)", "destination": {"commit": {"hash": "529ca729f7be", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/sdformat/commit/529ca729f7be.json"}, "html": {"href": "#!/osrf/sdformat/commits/529ca729f7be"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/sdformat.json"}, "html": {"href": "#!/osrf/sdformat"}, "avatar": {"href": "data/bytebucket.org/ravatar/{b6d52f9f-b070-41c0-807c-94af07ea375b}ts=1606789"}}, "type": "repository", "name": "sdformat", "full_name": "osrf/sdformat", "uuid": "{b6d52f9f-b070-41c0-807c-94af07ea375b}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "763edb938ab8", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/sdformat/commit/763edb938ab8.json"}, "html": {"href": "#!/osrf/sdformat/commits/763edb938ab8"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/sdformat.json"}, "html": {"href": "#!/osrf/sdformat"}, "avatar": {"href": "data/bytebucket.org/ravatar/{b6d52f9f-b070-41c0-807c-94af07ea375b}ts=1606789"}}, "type": "repository", "name": "sdformat", "full_name": "osrf/sdformat", "uuid": "{b6d52f9f-b070-41c0-807c-94af07ea375b}"}, "branch": {"name": "numeric_test_2.0"}}, "state": "OPEN", "author": {"display_name": "Jose Luis Rivero", "uuid": "{d12309b2-f745-42ee-b119-aec4fcdf81fe}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bd12309b2-f745-42ee-b119-aec4fcdf81fe%7D"}, "html": {"href": "https://bitbucket.org/%7Bd12309b2-f745-42ee-b119-aec4fcdf81fe%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/109284c8b83411dbc7492138f6167e9ed=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsJR-5.png"}}, "nickname": "Jose Luis Rivero", "type": "user", "account_id": "557058:155a32e2-420c-4d50-98e0-0e722f63f906"}, "date": "2015-03-02T18:30:36.902213+00:00"}, "pull_request": {"type": "pullrequest", "id": 147, "links": {"self": {"href": "data/repositories/osrf/sdformat/pullrequests/147.json"}, "html": {"href": "#!/osrf/sdformat/pull-requests/147"}}, "title": "Fix problems with latin locales and decimal numbers (issue #60)"}}, {"update": {"description": "The problem affects latin locales (at least es\\_\\* and pt\\_\\*) and maybe others where decimal numbers are represented using comma instead of a dot. It only happens when converting values,  related to glibc which is the one that handles locales.\r\n\r\nThe fix was easy. The test is not so easy. First, we would need a system with a latin locale already generated. The current implementation should skip the test if no latin locale is present. Second, to get the error and make gtest to fail we should parse the log file to get the output of sdferr. There is no other way of getting the return value from `Param::SetFromString` and unit testing it won't help since no conversion operation is done through glibc.\r\n\r\nTo see the test failing, remove the std::setlocale line introduced in this pull request, generate a latin locale and see the test output.\r\n", "title": "Fix problems with latin locales and decimal numbers (issue #60)", "destination": {"commit": {"hash": "529ca729f7be", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/sdformat/commit/529ca729f7be.json"}, "html": {"href": "#!/osrf/sdformat/commits/529ca729f7be"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/sdformat.json"}, "html": {"href": "#!/osrf/sdformat"}, "avatar": {"href": "data/bytebucket.org/ravatar/{b6d52f9f-b070-41c0-807c-94af07ea375b}ts=1606789"}}, "type": "repository", "name": "sdformat", "full_name": "osrf/sdformat", "uuid": "{b6d52f9f-b070-41c0-807c-94af07ea375b}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "371448b936ad", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/sdformat/commit/371448b936ad.json"}, "html": {"href": "#!/osrf/sdformat/commits/371448b936ad"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/sdformat.json"}, "html": {"href": "#!/osrf/sdformat"}, "avatar": {"href": "data/bytebucket.org/ravatar/{b6d52f9f-b070-41c0-807c-94af07ea375b}ts=1606789"}}, "type": "repository", "name": "sdformat", "full_name": "osrf/sdformat", "uuid": "{b6d52f9f-b070-41c0-807c-94af07ea375b}"}, "branch": {"name": "numeric_test_2.0"}}, "state": "OPEN", "author": {"display_name": "Nate Koenig", "uuid": "{c862cdd9-fcc8-4419-9fc7-e20db14b8fcb}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc862cdd9-fcc8-4419-9fc7-e20db14b8fcb%7D"}, "html": {"href": "https://bitbucket.org/%7Bc862cdd9-fcc8-4419-9fc7-e20db14b8fcb%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:095b1e12-74ed-4e20-b44f-2f0745b616e0/ca24bb11-4787-4b14-a20d-d91835e9bde2/128"}}, "nickname": "Nathan Koenig", "type": "user", "account_id": "557058:095b1e12-74ed-4e20-b44f-2f0745b616e0"}, "date": "2015-03-02T14:31:47.530195+00:00"}, "pull_request": {"type": "pullrequest", "id": 147, "links": {"self": {"href": "data/repositories/osrf/sdformat/pullrequests/147.json"}, "html": {"href": "#!/osrf/sdformat/pull-requests/147"}}, "title": "Fix problems with latin locales and decimal numbers (issue #60)"}}, {"update": {"description": "The problem affects latin locales (at least es\\_\\* and pt\\_\\*) and maybe others where decimal numbers are represented using comma instead of a dot. It only happens when converting values,  related to glibc which is the one that handles locales.\r\n\r\nThe fix was easy. The test is not so easy. First, we would need a system with a latin locale already generated. The current implementation should skip the test if no latin locale is present. Second, to get the error and make gtest to fail we should parse the log file to get the output of sdferr. There is no other way of getting the return value from `Param::SetFromString` and unit testing it won't help since no conversion operation is done through glibc.\r\n\r\nTo see the test failing, remove the std::setlocale line introduced in this pull request, generate a latin locale and see the test output.\r\n", "title": "Fix problems with latin locales and decimal numbers (issue #60)", "destination": {"commit": {"hash": "529ca729f7be", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/sdformat/commit/529ca729f7be.json"}, "html": {"href": "#!/osrf/sdformat/commits/529ca729f7be"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/sdformat.json"}, "html": {"href": "#!/osrf/sdformat"}, "avatar": {"href": "data/bytebucket.org/ravatar/{b6d52f9f-b070-41c0-807c-94af07ea375b}ts=1606789"}}, "type": "repository", "name": "sdformat", "full_name": "osrf/sdformat", "uuid": "{b6d52f9f-b070-41c0-807c-94af07ea375b}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "f11a03477b75", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/sdformat/commit/f11a03477b75.json"}, "html": {"href": "#!/osrf/sdformat/commits/f11a03477b75"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/sdformat.json"}, "html": {"href": "#!/osrf/sdformat"}, "avatar": {"href": "data/bytebucket.org/ravatar/{b6d52f9f-b070-41c0-807c-94af07ea375b}ts=1606789"}}, "type": "repository", "name": "sdformat", "full_name": "osrf/sdformat", "uuid": "{b6d52f9f-b070-41c0-807c-94af07ea375b}"}, "branch": {"name": "numeric_test_2.0"}}, "state": "OPEN", "author": {"display_name": "Jose Luis Rivero", "uuid": "{d12309b2-f745-42ee-b119-aec4fcdf81fe}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bd12309b2-f745-42ee-b119-aec4fcdf81fe%7D"}, "html": {"href": "https://bitbucket.org/%7Bd12309b2-f745-42ee-b119-aec4fcdf81fe%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/109284c8b83411dbc7492138f6167e9ed=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsJR-5.png"}}, "nickname": "Jose Luis Rivero", "type": "user", "account_id": "557058:155a32e2-420c-4d50-98e0-0e722f63f906"}, "date": "2015-03-02T12:13:22.147529+00:00"}, "pull_request": {"type": "pullrequest", "id": 147, "links": {"self": {"href": "data/repositories/osrf/sdformat/pullrequests/147.json"}, "html": {"href": "#!/osrf/sdformat/pull-requests/147"}}, "title": "Fix problems with latin locales and decimal numbers (issue #60)"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/sdformat/pullrequests/147/comments/5415806.json"}, "html": {"href": "#!/osrf/sdformat/pull-requests/147/_/diff#comment-5415806"}}, "parent": {"id": 5408545, "links": {"self": {"href": "data/repositories/osrf/sdformat/pullrequests/147/comments/5408545.json"}, "html": {"href": "#!/osrf/sdformat/pull-requests/147/_/diff#comment-5408545"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 147, "links": {"self": {"href": "data/repositories/osrf/sdformat/pullrequests/147.json"}, "html": {"href": "#!/osrf/sdformat/pull-requests/147"}}, "title": "Fix problems with latin locales and decimal numbers (issue #60)"}, "content": {"raw": "thanks for testing Louise.", "markup": "markdown", "html": "<p>thanks for testing Louise.</p>", "type": "rendered"}, "created_on": "2015-03-02T12:11:45.793202+00:00", "user": {"display_name": "Jose Luis Rivero", "uuid": "{d12309b2-f745-42ee-b119-aec4fcdf81fe}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bd12309b2-f745-42ee-b119-aec4fcdf81fe%7D"}, "html": {"href": "https://bitbucket.org/%7Bd12309b2-f745-42ee-b119-aec4fcdf81fe%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/109284c8b83411dbc7492138f6167e9ed=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsJR-5.png"}}, "nickname": "Jose Luis Rivero", "type": "user", "account_id": "557058:155a32e2-420c-4d50-98e0-0e722f63f906"}, "updated_on": "2015-03-02T12:11:45.800509+00:00", "type": "pullrequest_comment", "id": 5415806}, "pull_request": {"type": "pullrequest", "id": 147, "links": {"self": {"href": "data/repositories/osrf/sdformat/pullrequests/147.json"}, "html": {"href": "#!/osrf/sdformat/pull-requests/147"}}, "title": "Fix problems with latin locales and decimal numbers (issue #60)"}}, {"update": {"description": "The problem affects latin locales (at least es\\_\\* and pt\\_\\*) and maybe others where decimal numbers are represented using comma instead of a dot. It only happens when converting values,  related to glibc which is the one that handles locales.\r\n\r\nThe fix was easy. The test is not so easy. First, we would need a system with a latin locale already generated. The current implementation should skip the test if no latin locale is present. Second, to get the error and make gtest to fail we should parse the log file to get the output of sdferr. There is no other way of getting the return value from `Param::SetFromString` and unit testing it won't help since no conversion operation is done through glibc.\r\n\r\nTo see the test failing, remove the std::setlocale line introduced in this pull request, generate a latin locale and see the test output.\r\n", "title": "Fix problems with latin locales and decimal numbers (issue #60)", "destination": {"commit": {"hash": "529ca729f7be", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/sdformat/commit/529ca729f7be.json"}, "html": {"href": "#!/osrf/sdformat/commits/529ca729f7be"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/sdformat.json"}, "html": {"href": "#!/osrf/sdformat"}, "avatar": {"href": "data/bytebucket.org/ravatar/{b6d52f9f-b070-41c0-807c-94af07ea375b}ts=1606789"}}, "type": "repository", "name": "sdformat", "full_name": "osrf/sdformat", "uuid": "{b6d52f9f-b070-41c0-807c-94af07ea375b}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "c50d32b87e02", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/sdformat/commit/c50d32b87e02.json"}, "html": {"href": "#!/osrf/sdformat/commits/c50d32b87e02"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/sdformat.json"}, "html": {"href": "#!/osrf/sdformat"}, "avatar": {"href": "data/bytebucket.org/ravatar/{b6d52f9f-b070-41c0-807c-94af07ea375b}ts=1606789"}}, "type": "repository", "name": "sdformat", "full_name": "osrf/sdformat", "uuid": "{b6d52f9f-b070-41c0-807c-94af07ea375b}"}, "branch": {"name": "numeric_test_2.0"}}, "state": "OPEN", "author": {"display_name": "Jose Luis Rivero", "uuid": "{d12309b2-f745-42ee-b119-aec4fcdf81fe}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bd12309b2-f745-42ee-b119-aec4fcdf81fe%7D"}, "html": {"href": "https://bitbucket.org/%7Bd12309b2-f745-42ee-b119-aec4fcdf81fe%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/109284c8b83411dbc7492138f6167e9ed=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsJR-5.png"}}, "nickname": "Jose Luis Rivero", "type": "user", "account_id": "557058:155a32e2-420c-4d50-98e0-0e722f63f906"}, "date": "2015-03-02T12:11:31.571445+00:00"}, "pull_request": {"type": "pullrequest", "id": 147, "links": {"self": {"href": "data/repositories/osrf/sdformat/pullrequests/147.json"}, "html": {"href": "#!/osrf/sdformat/pull-requests/147"}}, "title": "Fix problems with latin locales and decimal numbers (issue #60)"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/sdformat/pullrequests/147/comments/5408545.json"}, "html": {"href": "#!/osrf/sdformat/pull-requests/147/_/diff#comment-5408545"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 147, "links": {"self": {"href": "data/repositories/osrf/sdformat/pullrequests/147.json"}, "html": {"href": "#!/osrf/sdformat/pull-requests/147"}}, "title": "Fix problems with latin locales and decimal numbers (issue #60)"}, "content": {"raw": "This PR solves sdformat issue #60 and [gazebo issue #1397](https://bitbucket.org/osrf/gazebo/issue/1397/sdf-param-error-unable-to-set-value-for) for me.\n\n`./src/UNIT_Param_TEST` passes for me with or without the fix.\n\n`./test/integration/INTEGRATION_locale_fix` passes with the fix and fails if I remove `std::setlocale(LC_NUMERIC, \"C\");`.", "markup": "markdown", "html": "<p>This PR solves sdformat issue <a href=\"#!/osrf/sdformat/issues/60/error-when-starting-gazebo-if-lc_numeric\" rel=\"nofollow\" title=\"Error when starting gazebo if LC_NUMERIC in not set to C.\" class=\"ap-connect-link\"><s>#60</s></a> and <a data-is-external-link=\"true\" href=\"https://bitbucket.org/osrf/gazebo/issue/1397/sdf-param-error-unable-to-set-value-for\" rel=\"nofollow\">gazebo issue #1397</a> for me.</p>\n<p><code>./src/UNIT_Param_TEST</code> passes for me with or without the fix.</p>\n<p><code>./test/integration/INTEGRATION_locale_fix</code> passes with the fix and fails if I remove <code>std::setlocale(LC_NUMERIC, \"C\");</code>.</p>", "type": "rendered"}, "created_on": "2015-03-02T02:35:12.990740+00:00", "user": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "updated_on": "2015-03-02T02:35:12.999802+00:00", "type": "pullrequest_comment", "id": 5408545}, "pull_request": {"type": "pullrequest", "id": 147, "links": {"self": {"href": "data/repositories/osrf/sdformat/pullrequests/147.json"}, "html": {"href": "#!/osrf/sdformat/pull-requests/147"}}, "title": "Fix problems with latin locales and decimal numbers (issue #60)"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/sdformat/pullrequests/147/comments/5406200.json"}, "html": {"href": "#!/osrf/sdformat/pull-requests/147/_/diff#comment-5406200"}}, "parent": {"id": 5403497, "links": {"self": {"href": "data/repositories/osrf/sdformat/pullrequests/147/comments/5403497.json"}, "html": {"href": "#!/osrf/sdformat/pull-requests/147/_/diff#comment-5403497"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 147, "links": {"self": {"href": "data/repositories/osrf/sdformat/pullrequests/147.json"}, "html": {"href": "#!/osrf/sdformat/pull-requests/147"}}, "title": "Fix problems with latin locales and decimal numbers (issue #60)"}, "content": {"raw": "Is [this relevant](https://trac.macports.org/ticket/15653)?\n\nThere is also [this package](http://rudix.org/packages/libintl.html)", "markup": "markdown", "html": "<p>Is <a data-is-external-link=\"true\" href=\"https://trac.macports.org/ticket/15653\" rel=\"nofollow\">this relevant</a>?</p>\n<p>There is also <a data-is-external-link=\"true\" href=\"http://rudix.org/packages/libintl.html\" rel=\"nofollow\">this package</a></p>", "type": "rendered"}, "created_on": "2015-03-01T16:01:30.279360+00:00", "user": {"display_name": "Nate Koenig", "uuid": "{c862cdd9-fcc8-4419-9fc7-e20db14b8fcb}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc862cdd9-fcc8-4419-9fc7-e20db14b8fcb%7D"}, "html": {"href": "https://bitbucket.org/%7Bc862cdd9-fcc8-4419-9fc7-e20db14b8fcb%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:095b1e12-74ed-4e20-b44f-2f0745b616e0/ca24bb11-4787-4b14-a20d-d91835e9bde2/128"}}, "nickname": "Nathan Koenig", "type": "user", "account_id": "557058:095b1e12-74ed-4e20-b44f-2f0745b616e0"}, "updated_on": "2015-03-01T16:01:30.287473+00:00", "type": "pullrequest_comment", "id": 5406200}, "pull_request": {"type": "pullrequest", "id": 147, "links": {"self": {"href": "data/repositories/osrf/sdformat/pullrequests/147.json"}, "html": {"href": "#!/osrf/sdformat/pull-requests/147"}}, "title": "Fix problems with latin locales and decimal numbers (issue #60)"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/sdformat/pullrequests/147/comments/5403501.json"}, "html": {"href": "#!/osrf/sdformat/pull-requests/147/_/diff#comment-5403501"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 147, "links": {"self": {"href": "data/repositories/osrf/sdformat/pullrequests/147.json"}, "html": {"href": "#!/osrf/sdformat/pull-requests/147"}}, "title": "Fix problems with latin locales and decimal numbers (issue #60)"}, "content": {"raw": "The other CI jobs are [happy for now](http://build.osrfoundation.org/view/SDFormat/) (the last column in the screenshot shows `Last Success`):\n![Screen Shot 2015-02-28 at 4.57.17 AM.png](data/bitbucket.org/repo/ak8x4z/images/2470241971-Screen_Shot_2015-02-28_at_4.57.17_AM.png)", "markup": "markdown", "html": "<p>The other CI jobs are <a data-is-external-link=\"true\" href=\"http://build.osrfoundation.org/view/SDFormat/\" rel=\"nofollow\">happy for now</a> (the last column in the screenshot shows <code>Last Success</code>):\n<img alt=\"Screen Shot 2015-02-28 at 4.57.17 AM.png\" src=\"data/bitbucket.org/repo/ak8x4z/images/2470241971-Screen_Shot_2015-02-28_at_4.57.17_AM.png\" /></p>", "type": "rendered"}, "created_on": "2015-02-28T12:59:08.132055+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "updated_on": "2015-02-28T12:59:08.141073+00:00", "type": "pullrequest_comment", "id": 5403501}, "pull_request": {"type": "pullrequest", "id": 147, "links": {"self": {"href": "data/repositories/osrf/sdformat/pullrequests/147.json"}, "html": {"href": "#!/osrf/sdformat/pull-requests/147"}}, "title": "Fix problems with latin locales and decimal numbers (issue #60)"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/sdformat/pullrequests/147/comments/5403499.json"}, "html": {"href": "#!/osrf/sdformat/pull-requests/147/_/diff#comment-5403499"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 147, "links": {"self": {"href": "data/repositories/osrf/sdformat/pullrequests/147.json"}, "html": {"href": "#!/osrf/sdformat/pull-requests/147"}}, "title": "Fix problems with latin locales and decimal numbers (issue #60)"}, "content": {"raw": "[drone.io test failure](https://drone.io/bitbucket.org/osrf/sdformat/446)\n~~~\n13: [ RUN      ] CheckFixForLocal.MakeTestToFail\n13: No latin locale available. Skip test\n13: \u001bError [parser.cc:54]\u001b Unable to find or open SDF file[root.sdf]\n13: \u001bError [SDF.cc:789]\u001b Missing element description for [world]\n13/36 Test #13: INTEGRATION_locale_fix .................................***Exception: SegFault  0.01 sec\n~~~", "markup": "markdown", "html": "<p><a data-is-external-link=\"true\" href=\"https://drone.io/bitbucket.org/osrf/sdformat/446\" rel=\"nofollow\">drone.io test failure</a></p>\n<div class=\"codehilite\"><pre><span></span>13: [ RUN      ] CheckFixForLocal.MakeTestToFail\n13: No latin locale available. Skip test\n13: \u001bError [parser.cc:54]\u001b Unable to find or open SDF file[root.sdf]\n13: \u001bError [SDF.cc:789]\u001b Missing element description for [world]\n13/36 Test #13: INTEGRATION_locale_fix .................................***Exception: SegFault  0.01 sec\n</pre></div>", "type": "rendered"}, "created_on": "2015-02-28T12:56:48.873748+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "updated_on": "2015-02-28T12:56:48.880093+00:00", "type": "pullrequest_comment", "id": 5403499}, "pull_request": {"type": "pullrequest", "id": 147, "links": {"self": {"href": "data/repositories/osrf/sdformat/pullrequests/147.json"}, "html": {"href": "#!/osrf/sdformat/pull-requests/147"}}, "title": "Fix problems with latin locales and decimal numbers (issue #60)"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/sdformat/pullrequests/147/comments/5403497.json"}, "html": {"href": "#!/osrf/sdformat/pull-requests/147/_/diff#comment-5403497"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 147, "links": {"self": {"href": "data/repositories/osrf/sdformat/pullrequests/147.json"}, "html": {"href": "#!/osrf/sdformat/pull-requests/147"}}, "title": "Fix problems with latin locales and decimal numbers (issue #60)"}, "content": {"raw": "[homebrew build failure](http://build.osrfoundation.org/job/sdformat-any-devel-homebrew-amd64/48/):\n~~~\n/Users/jenkins/workspace/sdformat-any-devel-homebrew-amd64/sdformat/src/Param.cc:144:3: error: no member named 'setlocale' in namespace 'std'; did you mean simply 'setlocale'?\n  std::setlocale(LC_NUMERIC, \"C\");\n  ^~~~~~~~~~~~~~\n  setlocale\n/usr/include/locale.h:53:8: note: 'setlocale' declared here\nchar            *setlocale(int, const char *);\n                 ^\n1 error generated.\n~~~", "markup": "markdown", "html": "<p><a data-is-external-link=\"true\" href=\"http://build.osrfoundation.org/job/sdformat-any-devel-homebrew-amd64/48/\" rel=\"nofollow\">homebrew build failure</a>:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"o\">/</span><span class=\"nt\">Users</span><span class=\"o\">/</span><span class=\"nt\">jenkins</span><span class=\"o\">/</span><span class=\"nt\">workspace</span><span class=\"o\">/</span><span class=\"nt\">sdformat-any-devel-homebrew-amd64</span><span class=\"o\">/</span><span class=\"nt\">sdformat</span><span class=\"o\">/</span><span class=\"nt\">src</span><span class=\"o\">/</span><span class=\"nt\">Param</span><span class=\"p\">.</span><span class=\"nc\">cc</span><span class=\"p\">:</span><span class=\"nd\">144</span><span class=\"p\">:</span><span class=\"nd\">3</span><span class=\"o\">:</span> <span class=\"nt\">error</span><span class=\"o\">:</span> <span class=\"nt\">no</span> <span class=\"nt\">member</span> <span class=\"nt\">named</span> <span class=\"s1\">&#39;setlocale&#39;</span> <span class=\"nt\">in</span> <span class=\"nt\">namespace</span> <span class=\"s1\">&#39;std&#39;</span><span class=\"o\">;</span> <span class=\"nt\">did</span> <span class=\"nt\">you</span> <span class=\"nt\">mean</span> <span class=\"nt\">simply</span> <span class=\"s1\">&#39;setlocale&#39;</span><span class=\"o\">?</span>\n  <span class=\"nt\">std</span><span class=\"p\">::</span><span class=\"nd\">setlocale</span><span class=\"o\">(</span><span class=\"nt\">LC_NUMERIC</span><span class=\"o\">,</span> <span class=\"s2\">&quot;C&quot;</span><span class=\"o\">);</span>\n  <span class=\"o\">^~~~~~~~~~~~~~</span>\n  <span class=\"nt\">setlocale</span>\n<span class=\"o\">/</span><span class=\"nt\">usr</span><span class=\"o\">/</span><span class=\"nt\">include</span><span class=\"o\">/</span><span class=\"nt\">locale</span><span class=\"p\">.</span><span class=\"nc\">h</span><span class=\"p\">:</span><span class=\"nd\">53</span><span class=\"p\">:</span><span class=\"nd\">8</span><span class=\"o\">:</span> <span class=\"nt\">note</span><span class=\"o\">:</span> <span class=\"s1\">&#39;setlocale&#39;</span> <span class=\"nt\">declared</span> <span class=\"nt\">here</span>\n<span class=\"nt\">char</span>            <span class=\"o\">*</span><span class=\"nt\">setlocale</span><span class=\"o\">(</span><span class=\"nt\">int</span><span class=\"o\">,</span> <span class=\"nt\">const</span> <span class=\"nt\">char</span> <span class=\"o\">*);</span>\n                 <span class=\"o\">^</span>\n<span class=\"nt\">1</span> <span class=\"nt\">error</span> <span class=\"nt\">generated</span><span class=\"o\">.</span>\n</pre></div>", "type": "rendered"}, "created_on": "2015-02-28T12:55:06.252175+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "updated_on": "2015-02-28T12:55:06.260011+00:00", "type": "pullrequest_comment", "id": 5403497}, "pull_request": {"type": "pullrequest", "id": 147, "links": {"self": {"href": "data/repositories/osrf/sdformat/pullrequests/147.json"}, "html": {"href": "#!/osrf/sdformat/pull-requests/147"}}, "title": "Fix problems with latin locales and decimal numbers (issue #60)"}}, {"update": {"description": "The problem affects latin locales (at least es\\_\\* and pt\\_\\*) and maybe others where decimal numbers are represented using comma instead of a dot. It only happens when converting values,  related to glibc which is the one that handles locales.\r\n\r\nThe fix was easy. The test is not so easy. First, we would need a system with a latin locale already generated. The current implementation should skip the test if no latin locale is present. Second, to get the error and make gtest to fail we should parse the log file to get the output of sdferr. There is no other way of getting the return value from `Param::SetFromString` and unit testing it won't help since no conversion operation is done through glibc.\r\n\r\nTo see the test failing, remove the std::setlocale line introduced in this pull request, generate a latin locale and see the test output.\r\n", "title": "Fix problems with latin locales and decimal numbers (issue #60)", "destination": {"commit": {"hash": "529ca729f7be", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/sdformat/commit/529ca729f7be.json"}, "html": {"href": "#!/osrf/sdformat/commits/529ca729f7be"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/sdformat.json"}, "html": {"href": "#!/osrf/sdformat"}, "avatar": {"href": "data/bytebucket.org/ravatar/{b6d52f9f-b070-41c0-807c-94af07ea375b}ts=1606789"}}, "type": "repository", "name": "sdformat", "full_name": "osrf/sdformat", "uuid": "{b6d52f9f-b070-41c0-807c-94af07ea375b}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "a3498e741f17", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/sdformat/commit/a3498e741f17.json"}, "html": {"href": "#!/osrf/sdformat/commits/a3498e741f17"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/sdformat.json"}, "html": {"href": "#!/osrf/sdformat"}, "avatar": {"href": "data/bytebucket.org/ravatar/{b6d52f9f-b070-41c0-807c-94af07ea375b}ts=1606789"}}, "type": "repository", "name": "sdformat", "full_name": "osrf/sdformat", "uuid": "{b6d52f9f-b070-41c0-807c-94af07ea375b}"}, "branch": {"name": "numeric_test_2.0"}}, "state": "OPEN", "author": {"display_name": "Jose Luis Rivero", "uuid": "{d12309b2-f745-42ee-b119-aec4fcdf81fe}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bd12309b2-f745-42ee-b119-aec4fcdf81fe%7D"}, "html": {"href": "https://bitbucket.org/%7Bd12309b2-f745-42ee-b119-aec4fcdf81fe%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/109284c8b83411dbc7492138f6167e9ed=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsJR-5.png"}}, "nickname": "Jose Luis Rivero", "type": "user", "account_id": "557058:155a32e2-420c-4d50-98e0-0e722f63f906"}, "date": "2015-02-28T01:49:00.630274+00:00"}, "pull_request": {"type": "pullrequest", "id": 147, "links": {"self": {"href": "data/repositories/osrf/sdformat/pullrequests/147.json"}, "html": {"href": "#!/osrf/sdformat/pull-requests/147"}}, "title": "Fix problems with latin locales and decimal numbers (issue #60)"}}, {"update": {"description": "", "title": "Fix problems with latin locales and decimal numbers (issue #60", "destination": {"commit": {"hash": "529ca729f7be", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/sdformat/commit/529ca729f7be.json"}, "html": {"href": "#!/osrf/sdformat/commits/529ca729f7be"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/sdformat.json"}, "html": {"href": "#!/osrf/sdformat"}, "avatar": {"href": "data/bytebucket.org/ravatar/{b6d52f9f-b070-41c0-807c-94af07ea375b}ts=1606789"}}, "type": "repository", "name": "sdformat", "full_name": "osrf/sdformat", "uuid": "{b6d52f9f-b070-41c0-807c-94af07ea375b}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "a3498e741f17", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/sdformat/commit/a3498e741f17.json"}, "html": {"href": "#!/osrf/sdformat/commits/a3498e741f17"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/sdformat.json"}, "html": {"href": "#!/osrf/sdformat"}, "avatar": {"href": "data/bytebucket.org/ravatar/{b6d52f9f-b070-41c0-807c-94af07ea375b}ts=1606789"}}, "type": "repository", "name": "sdformat", "full_name": "osrf/sdformat", "uuid": "{b6d52f9f-b070-41c0-807c-94af07ea375b}"}, "branch": {"name": "numeric_test_2.0"}}, "state": "OPEN", "author": {"display_name": "Jose Luis Rivero", "uuid": "{d12309b2-f745-42ee-b119-aec4fcdf81fe}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bd12309b2-f745-42ee-b119-aec4fcdf81fe%7D"}, "html": {"href": "https://bitbucket.org/%7Bd12309b2-f745-42ee-b119-aec4fcdf81fe%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/109284c8b83411dbc7492138f6167e9ed=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsJR-5.png"}}, "nickname": "Jose Luis Rivero", "type": "user", "account_id": "557058:155a32e2-420c-4d50-98e0-0e722f63f906"}, "date": "2015-02-28T01:42:14.596234+00:00"}, "pull_request": {"type": "pullrequest", "id": 147, "links": {"self": {"href": "data/repositories/osrf/sdformat/pullrequests/147.json"}, "html": {"href": "#!/osrf/sdformat/pull-requests/147"}}, "title": "Fix problems with latin locales and decimal numbers (issue #60)"}}, {"update": {"description": "", "title": "Fix problems with latin locales and decimal numbers (issue #60", "destination": {"commit": {"hash": "529ca729f7be", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/sdformat/commit/529ca729f7be.json"}, "html": {"href": "#!/osrf/sdformat/commits/529ca729f7be"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/sdformat.json"}, "html": {"href": "#!/osrf/sdformat"}, "avatar": {"href": "data/bytebucket.org/ravatar/{b6d52f9f-b070-41c0-807c-94af07ea375b}ts=1606789"}}, "type": "repository", "name": "sdformat", "full_name": "osrf/sdformat", "uuid": "{b6d52f9f-b070-41c0-807c-94af07ea375b}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "a3498e741f17", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/sdformat/commit/a3498e741f17.json"}, "html": {"href": "#!/osrf/sdformat/commits/a3498e741f17"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/sdformat.json"}, "html": {"href": "#!/osrf/sdformat"}, "avatar": {"href": "data/bytebucket.org/ravatar/{b6d52f9f-b070-41c0-807c-94af07ea375b}ts=1606789"}}, "type": "repository", "name": "sdformat", "full_name": "osrf/sdformat", "uuid": "{b6d52f9f-b070-41c0-807c-94af07ea375b}"}, "branch": {"name": "numeric_test_2.0"}}, "state": "OPEN", "author": {"display_name": "Jose Luis Rivero", "uuid": "{d12309b2-f745-42ee-b119-aec4fcdf81fe}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bd12309b2-f745-42ee-b119-aec4fcdf81fe%7D"}, "html": {"href": "https://bitbucket.org/%7Bd12309b2-f745-42ee-b119-aec4fcdf81fe%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/109284c8b83411dbc7492138f6167e9ed=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsJR-5.png"}}, "nickname": "Jose Luis Rivero", "type": "user", "account_id": "557058:155a32e2-420c-4d50-98e0-0e722f63f906"}, "date": "2015-02-28T01:42:14.573235+00:00"}, "pull_request": {"type": "pullrequest", "id": 147, "links": {"self": {"href": "data/repositories/osrf/sdformat/pullrequests/147.json"}, "html": {"href": "#!/osrf/sdformat/pull-requests/147"}}, "title": "Fix problems with latin locales and decimal numbers (issue #60)"}}]}