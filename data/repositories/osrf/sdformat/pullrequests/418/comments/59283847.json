{"links": {"self": {"href": "data/repositories/osrf/sdformat/pullrequests/418/comments/59283847.json"}, "html": {"href": "#!/osrf/sdformat/pull-requests/418/_/diff#comment-59283847"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 418, "links": {"self": {"href": "data/repositories/osrf/sdformat/pullrequests/418.json"}, "html": {"href": "#!/osrf/sdformat/pull-requests/418"}}, "title": "Invert ignition-math version logic (clone PR414) -> sdf4"}, "content": {"raw": "I tried making some updates to this branch, but it's failing to copy the dll to the `build/test/integration` folder:\n\nhttps://build.osrfoundation.org/job/sdformat-ci-pr_any-windows7-amd64/456/console\n\n~~~\n[ 12%] Linking CXX executable INTEGRATION_include.exe\nError copying file (if different) from\n \"D:/Jenkins/workspace/sdformat-ci-pr_any-windows7-amd64/ws/ign-math/build/install/Release/lib/ignition-math2;D:/Jenkins/workspace/sdformat-ci-pr_any-windows7-amd64/ws/ign-math/build/install/Release/lib/ignition-math2.lib.dll\"\n to \"D:/Jenkins/workspace/sdformat-ci-pr_any-windows7-amd64/ws/sdformat/build/test/integration\".\n~~~\n\nThe relevant cmake code is in [cmake/SDFUtils.cmake](#!/osrf/sdformat/src/652ce6cc1463a417ac9c7845cce9055493c628d0/cmake/SDFUtils.cmake?at=default&fileviewer=file-view-default#SDFUtils.cmake-169:173), where it tries to copy `\"${IGNITION-MATH_LIBRARY_DIRS}/${IGNITION-MATH_LIBRARIES}.dll\"` and it presumes that `IGNITION-MATH_LIBRARIES` is just a library name, but somehow it is the absolute path to the library. This only happens on this branch. With pull request #417 to sdf5, [it works fine](https://build.osrfoundation.org/job/sdformat-ci-pr_any-windows7-amd64/457/)", "markup": "markdown", "html": "<p>I tried making some updates to this branch, but it's failing to copy the dll to the <code>build/test/integration</code> folder:</p>\n<p><a href=\"https://build.osrfoundation.org/job/sdformat-ci-pr_any-windows7-amd64/456/console\" rel=\"nofollow\" class=\"ap-connect-link\">https://build.osrfoundation.org/job/sdformat-ci-pr_any-windows7-amd64/456/console</a></p>\n<div class=\"codehilite\"><pre><span></span><span class=\"cp\">[</span> <span class=\"mi\">12</span><span class=\"o\">%</span><span class=\"cp\">]</span> <span class=\"nt\">Linking</span> <span class=\"nt\">CXX</span> <span class=\"nt\">executable</span> <span class=\"nt\">INTEGRATION_include</span><span class=\"p\">.</span><span class=\"nc\">exe</span>\n<span class=\"nt\">Error</span> <span class=\"nt\">copying</span> <span class=\"nt\">file</span> <span class=\"o\">(</span><span class=\"nt\">if</span> <span class=\"nt\">different</span><span class=\"o\">)</span> <span class=\"nt\">from</span>\n <span class=\"s2\">&quot;D:/Jenkins/workspace/sdformat-ci-pr_any-windows7-amd64/ws/ign-math/build/install/Release/lib/ignition-math2;D:/Jenkins/workspace/sdformat-ci-pr_any-windows7-amd64/ws/ign-math/build/install/Release/lib/ignition-math2.lib.dll&quot;</span>\n <span class=\"nt\">to</span> <span class=\"s2\">&quot;D:/Jenkins/workspace/sdformat-ci-pr_any-windows7-amd64/ws/sdformat/build/test/integration&quot;</span><span class=\"o\">.</span>\n</pre></div>\n\n\n<p>The relevant cmake code is in <a data-is-external-link=\"true\" href=\"#!/osrf/sdformat/src/652ce6cc1463a417ac9c7845cce9055493c628d0/cmake/SDFUtils.cmake?at=default&amp;fileviewer=file-view-default#SDFUtils.cmake-169:173\" rel=\"nofollow\">cmake/SDFUtils.cmake</a>, where it tries to copy <code>\"${IGNITION-MATH_LIBRARY_DIRS}/${IGNITION-MATH_LIBRARIES}.dll\"</code> and it presumes that <code>IGNITION-MATH_LIBRARIES</code> is just a library name, but somehow it is the absolute path to the library. This only happens on this branch. With <a href=\"#!/osrf/sdformat/pull-requests/417/invert-ignition-math-version-logic-clone\" rel=\"nofollow\" class=\"ap-connect-link\">pull request #417</a> to sdf5, <a data-is-external-link=\"true\" href=\"https://build.osrfoundation.org/job/sdformat-ci-pr_any-windows7-amd64/457/\" rel=\"nofollow\">it works fine</a></p>", "type": "rendered"}, "created_on": "2018-03-20T07:19:26.356313+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "updated_on": "2018-03-20T07:19:26.360351+00:00", "type": "pullrequest_comment", "id": 59283847}