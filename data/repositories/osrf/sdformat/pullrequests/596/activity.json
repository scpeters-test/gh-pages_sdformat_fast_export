{"pagelen": 50, "values": [{"update": {"description": "The sdf Converter uses the `*.convert` documents with `<convert>` tags and `name` attributes that specify the name of an element in the sdf hierarchy. This sometimes means that you have to duplicate the conversion code for elements that can appear in multiple locations, like models that can be in a world or directly under the `<sdf>` tag. This PR adds a `descendant_name` attribute that causes the converter to recurse through child elements to find matching tags. I've added a unit test but also modified the `1_6.convert` file to reduce code duplication, since these conversions have tests added in pull request #589.\r\n\r\nThe motivation for this change is the upcoming migration of the `//pose/@frame` attribute to `//pose/@relative_to`, which would be mind-boggingly painful to write out explicitly. I suppose it's also worth mentioning that none of our conversion code handles nested models, so this can make things more correct.", "title": "[Citadel] Converter: add `descendant_name` attribute to recursively search for elements to convert", "destination": {"commit": {"hash": "1e82baaeec05", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/sdformat/commit/1e82baaeec05.json"}, "html": {"href": "#!/osrf/sdformat/commits/1e82baaeec05"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/sdformat.json"}, "html": {"href": "#!/osrf/sdformat"}, "avatar": {"href": "data/bytebucket.org/ravatar/{b6d52f9f-b070-41c0-807c-94af07ea375b}ts=1606789"}}, "type": "repository", "name": "sdformat", "full_name": "osrf/sdformat", "uuid": "{b6d52f9f-b070-41c0-807c-94af07ea375b}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "77b568a034bb", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/sdformat/commit/77b568a034bb.json"}, "html": {"href": "#!/osrf/sdformat/commits/77b568a034bb"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/sdformat.json"}, "html": {"href": "#!/osrf/sdformat"}, "avatar": {"href": "data/bytebucket.org/ravatar/{b6d52f9f-b070-41c0-807c-94af07ea375b}ts=1606789"}}, "type": "repository", "name": "sdformat", "full_name": "osrf/sdformat", "uuid": "{b6d52f9f-b070-41c0-807c-94af07ea375b}"}, "branch": {"name": "convert_descendant_name"}}, "state": "MERGED", "author": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "date": "2019-11-25T21:33:04.824170+00:00"}, "pull_request": {"type": "pullrequest", "id": 596, "links": {"self": {"href": "data/repositories/osrf/sdformat/pullrequests/596.json"}, "html": {"href": "#!/osrf/sdformat/pull-requests/596"}}, "title": "[Citadel] Converter: add `descendant_name` attribute to recursively search for elements to convert"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/sdformat/pullrequests/596/comments/126248793.json"}, "html": {"href": "#!/osrf/sdformat/pull-requests/596/_/diff#comment-126248793"}}, "parent": {"id": 126016810, "links": {"self": {"href": "data/repositories/osrf/sdformat/pullrequests/596/comments/126016810.json"}, "html": {"href": "#!/osrf/sdformat/pull-requests/596/_/diff#comment-126016810"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 596, "links": {"self": {"href": "data/repositories/osrf/sdformat/pullrequests/596.json"}, "html": {"href": "#!/osrf/sdformat/pull-requests/596"}}, "title": "[Citadel] Converter: add `descendant_name` attribute to recursively search for elements to convert"}, "content": {"raw": "I think so too. Should we merge?", "markup": "markdown", "html": "<p>I think so too. Should we merge?</p>", "type": "rendered"}, "created_on": "2019-11-25T21:25:38.264757+00:00", "user": {"display_name": "Addisu Z. Taddese", "uuid": "{9d7fdc68-d270-4080-bf03-4df0d0dbf635}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B9d7fdc68-d270-4080-bf03-4df0d0dbf635%7D"}, "html": {"href": "https://bitbucket.org/%7B9d7fdc68-d270-4080-bf03-4df0d0dbf635%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:90bc87b0-2886-4377-a17c-3a6629a697ff/afbf9be5-1e4c-4810-89d4-e58831f34b11/128"}}, "nickname": "azeey", "type": "user", "account_id": "557058:90bc87b0-2886-4377-a17c-3a6629a697ff"}, "updated_on": "2019-11-25T21:25:38.275401+00:00", "type": "pullrequest_comment", "id": 126248793}, "pull_request": {"type": "pullrequest", "id": 596, "links": {"self": {"href": "data/repositories/osrf/sdformat/pullrequests/596.json"}, "html": {"href": "#!/osrf/sdformat/pull-requests/596"}}, "title": "[Citadel] Converter: add `descendant_name` attribute to recursively search for elements to convert"}}, {"approval": {"date": "2019-11-22T18:18:51.847357+00:00", "pullrequest": {"type": "pullrequest", "id": 596, "links": {"self": {"href": "data/repositories/osrf/sdformat/pullrequests/596.json"}, "html": {"href": "#!/osrf/sdformat/pull-requests/596"}}, "title": "[Citadel] Converter: add `descendant_name` attribute to recursively search for elements to convert"}, "user": {"display_name": "Addisu Z. Taddese", "uuid": "{9d7fdc68-d270-4080-bf03-4df0d0dbf635}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B9d7fdc68-d270-4080-bf03-4df0d0dbf635%7D"}, "html": {"href": "https://bitbucket.org/%7B9d7fdc68-d270-4080-bf03-4df0d0dbf635%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:90bc87b0-2886-4377-a17c-3a6629a697ff/afbf9be5-1e4c-4810-89d4-e58831f34b11/128"}}, "nickname": "azeey", "type": "user", "account_id": "557058:90bc87b0-2886-4377-a17c-3a6629a697ff"}}, "pull_request": {"type": "pullrequest", "id": 596, "links": {"self": {"href": "data/repositories/osrf/sdformat/pullrequests/596.json"}, "html": {"href": "#!/osrf/sdformat/pull-requests/596"}}, "title": "[Citadel] Converter: add `descendant_name` attribute to recursively search for elements to convert"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/sdformat/pullrequests/596/comments/126016810.json"}, "html": {"href": "#!/osrf/sdformat/pull-requests/596/_/diff#comment-126016810"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 596, "links": {"self": {"href": "data/repositories/osrf/sdformat/pullrequests/596.json"}, "html": {"href": "#!/osrf/sdformat/pull-requests/596"}}, "title": "[Citadel] Converter: add `descendant_name` attribute to recursively search for elements to convert"}, "content": {"raw": "I think all concerns have been resolved", "markup": "markdown", "html": "<p>I think all concerns have been resolved</p>", "type": "rendered"}, "created_on": "2019-11-22T17:58:56.907590+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "updated_on": "2019-11-22T17:58:56.916919+00:00", "type": "pullrequest_comment", "id": 126016810}, "pull_request": {"type": "pullrequest", "id": 596, "links": {"self": {"href": "data/repositories/osrf/sdformat/pullrequests/596.json"}, "html": {"href": "#!/osrf/sdformat/pull-requests/596"}}, "title": "[Citadel] Converter: add `descendant_name` attribute to recursively search for elements to convert"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/sdformat/pullrequests/596/comments/126016704.json"}, "html": {"href": "#!/osrf/sdformat/pull-requests/596/_/diff#comment-126016704"}}, "parent": {"id": 125888136, "links": {"self": {"href": "data/repositories/osrf/sdformat/pullrequests/596/comments/125888136.json"}, "html": {"href": "#!/osrf/sdformat/pull-requests/596/_/diff#comment-125888136"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 596, "links": {"self": {"href": "data/repositories/osrf/sdformat/pullrequests/596.json"}, "html": {"href": "#!/osrf/sdformat/pull-requests/596"}}, "title": "[Citadel] Converter: add `descendant_name` attribute to recursively search for elements to convert"}, "content": {"raw": "thanks, looks good", "markup": "markdown", "html": "<p>thanks, looks good</p>", "type": "rendered"}, "created_on": "2019-11-22T17:58:06.024299+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "updated_on": "2019-11-22T17:58:06.033367+00:00", "type": "pullrequest_comment", "id": 126016704}, "pull_request": {"type": "pullrequest", "id": 596, "links": {"self": {"href": "data/repositories/osrf/sdformat/pullrequests/596.json"}, "html": {"href": "#!/osrf/sdformat/pull-requests/596"}}, "title": "[Citadel] Converter: add `descendant_name` attribute to recursively search for elements to convert"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/sdformat/pullrequests/596/comments/125888136.json"}, "html": {"href": "#!/osrf/sdformat/pull-requests/596/_/diff#comment-125888136"}}, "parent": {"id": 125660622, "links": {"self": {"href": "data/repositories/osrf/sdformat/pullrequests/596/comments/125660622.json"}, "html": {"href": "#!/osrf/sdformat/pull-requests/596/_/diff#comment-125660622"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 596, "links": {"self": {"href": "data/repositories/osrf/sdformat/pullrequests/596.json"}, "html": {"href": "#!/osrf/sdformat/pull-requests/596"}}, "title": "[Citadel] Converter: add `descendant_name` attribute to recursively search for elements to convert"}, "content": {"raw": "I've added the change to ignore `<plugin>` and namespaced elements. 77b568a", "markup": "markdown", "html": "<p>I've added the change to ignore <code>&lt;plugin&gt;</code> and namespaced elements. <a href=\"#!/osrf/sdformat/commits/77b568a\" rel=\"nofollow\" class=\"ap-connect-link\">77b568a</a></p>", "type": "rendered"}, "created_on": "2019-11-22T01:46:51.292193+00:00", "user": {"display_name": "Addisu Z. Taddese", "uuid": "{9d7fdc68-d270-4080-bf03-4df0d0dbf635}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B9d7fdc68-d270-4080-bf03-4df0d0dbf635%7D"}, "html": {"href": "https://bitbucket.org/%7B9d7fdc68-d270-4080-bf03-4df0d0dbf635%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:90bc87b0-2886-4377-a17c-3a6629a697ff/afbf9be5-1e4c-4810-89d4-e58831f34b11/128"}}, "nickname": "azeey", "type": "user", "account_id": "557058:90bc87b0-2886-4377-a17c-3a6629a697ff"}, "updated_on": "2019-11-22T01:46:51.300016+00:00", "type": "pullrequest_comment", "id": 125888136}, "pull_request": {"type": "pullrequest", "id": 596, "links": {"self": {"href": "data/repositories/osrf/sdformat/pullrequests/596.json"}, "html": {"href": "#!/osrf/sdformat/pull-requests/596"}}, "title": "[Citadel] Converter: add `descendant_name` attribute to recursively search for elements to convert"}}, {"update": {"description": "The sdf Converter uses the `*.convert` documents with `<convert>` tags and `name` attributes that specify the name of an element in the sdf hierarchy. This sometimes means that you have to duplicate the conversion code for elements that can appear in multiple locations, like models that can be in a world or directly under the `<sdf>` tag. This PR adds a `descendant_name` attribute that causes the converter to recurse through child elements to find matching tags. I've added a unit test but also modified the `1_6.convert` file to reduce code duplication, since these conversions have tests added in pull request #589.\r\n\r\nThe motivation for this change is the upcoming migration of the `//pose/@frame` attribute to `//pose/@relative_to`, which would be mind-boggingly painful to write out explicitly. I suppose it's also worth mentioning that none of our conversion code handles nested models, so this can make things more correct.", "title": "[Citadel] Converter: add `descendant_name` attribute to recursively search for elements to convert", "destination": {"commit": {"hash": "31230adb7312", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/sdformat/commit/31230adb7312.json"}, "html": {"href": "#!/osrf/sdformat/commits/31230adb7312"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/sdformat.json"}, "html": {"href": "#!/osrf/sdformat"}, "avatar": {"href": "data/bytebucket.org/ravatar/{b6d52f9f-b070-41c0-807c-94af07ea375b}ts=1606789"}}, "type": "repository", "name": "sdformat", "full_name": "osrf/sdformat", "uuid": "{b6d52f9f-b070-41c0-807c-94af07ea375b}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "77b568a034bb", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/sdformat/commit/77b568a034bb.json"}, "html": {"href": "#!/osrf/sdformat/commits/77b568a034bb"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/sdformat.json"}, "html": {"href": "#!/osrf/sdformat"}, "avatar": {"href": "data/bytebucket.org/ravatar/{b6d52f9f-b070-41c0-807c-94af07ea375b}ts=1606789"}}, "type": "repository", "name": "sdformat", "full_name": "osrf/sdformat", "uuid": "{b6d52f9f-b070-41c0-807c-94af07ea375b}"}, "branch": {"name": "convert_descendant_name"}}, "state": "OPEN", "author": {"display_name": "Addisu Z. Taddese", "uuid": "{9d7fdc68-d270-4080-bf03-4df0d0dbf635}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B9d7fdc68-d270-4080-bf03-4df0d0dbf635%7D"}, "html": {"href": "https://bitbucket.org/%7B9d7fdc68-d270-4080-bf03-4df0d0dbf635%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:90bc87b0-2886-4377-a17c-3a6629a697ff/afbf9be5-1e4c-4810-89d4-e58831f34b11/128"}}, "nickname": "azeey", "type": "user", "account_id": "557058:90bc87b0-2886-4377-a17c-3a6629a697ff"}, "date": "2019-11-22T01:45:30.470540+00:00"}, "pull_request": {"type": "pullrequest", "id": 596, "links": {"self": {"href": "data/repositories/osrf/sdformat/pullrequests/596.json"}, "html": {"href": "#!/osrf/sdformat/pull-requests/596"}}, "title": "[Citadel] Converter: add `descendant_name` attribute to recursively search for elements to convert"}}, {"update": {"description": "The sdf Converter uses the `*.convert` documents with `<convert>` tags and `name` attributes that specify the name of an element in the sdf hierarchy. This sometimes means that you have to duplicate the conversion code for elements that can appear in multiple locations, like models that can be in a world or directly under the `<sdf>` tag. This PR adds a `descendant_name` attribute that causes the converter to recurse through child elements to find matching tags. I've added a unit test but also modified the `1_6.convert` file to reduce code duplication, since these conversions have tests added in pull request #589.\r\n\r\nThe motivation for this change is the upcoming migration of the `//pose/@frame` attribute to `//pose/@relative_to`, which would be mind-boggingly painful to write out explicitly. I suppose it's also worth mentioning that none of our conversion code handles nested models, so this can make things more correct.", "title": "[Citadel] Converter: add `descendant_name` attribute to recursively search for elements to convert", "destination": {"commit": {"hash": "31230adb7312", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/sdformat/commit/31230adb7312.json"}, "html": {"href": "#!/osrf/sdformat/commits/31230adb7312"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/sdformat.json"}, "html": {"href": "#!/osrf/sdformat"}, "avatar": {"href": "data/bytebucket.org/ravatar/{b6d52f9f-b070-41c0-807c-94af07ea375b}ts=1606789"}}, "type": "repository", "name": "sdformat", "full_name": "osrf/sdformat", "uuid": "{b6d52f9f-b070-41c0-807c-94af07ea375b}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "3c5261b30604", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/sdformat/commit/3c5261b30604.json"}, "html": {"href": "#!/osrf/sdformat/commits/3c5261b30604"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/sdformat.json"}, "html": {"href": "#!/osrf/sdformat"}, "avatar": {"href": "data/bytebucket.org/ravatar/{b6d52f9f-b070-41c0-807c-94af07ea375b}ts=1606789"}}, "type": "repository", "name": "sdformat", "full_name": "osrf/sdformat", "uuid": "{b6d52f9f-b070-41c0-807c-94af07ea375b}"}, "branch": {"name": "convert_descendant_name"}}, "state": "OPEN", "author": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "date": "2019-11-21T22:46:19.061512+00:00"}, "pull_request": {"type": "pullrequest", "id": 596, "links": {"self": {"href": "data/repositories/osrf/sdformat/pullrequests/596.json"}, "html": {"href": "#!/osrf/sdformat/pull-requests/596"}}, "title": "[Citadel] Converter: add `descendant_name` attribute to recursively search for elements to convert"}}, {"update": {"description": "The sdf Converter uses the `*.convert` documents with `<convert>` tags and `name` attributes that specify the name of an element in the sdf hierarchy. This sometimes means that you have to duplicate the conversion code for elements that can appear in multiple locations, like models that can be in a world or directly under the `<sdf>` tag. This PR adds a `descendant_name` attribute that causes the converter to recurse through child elements to find matching tags. I've added a unit test but also modified the `1_6.convert` file to reduce code duplication, since these conversions have tests added in pull request #589.\r\n\r\nThe motivation for this change is the upcoming migration of the `//pose/@frame` attribute to `//pose/@relative_to`, which would be mind-boggingly painful to write out explicitly. I suppose it's also worth mentioning that none of our conversion code handles nested models, so this can make things more correct.", "title": "[Citadel] Converter: add `descendant_name` attribute to recursively search for elements to convert", "destination": {"commit": {"hash": "31230adb7312", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/sdformat/commit/31230adb7312.json"}, "html": {"href": "#!/osrf/sdformat/commits/31230adb7312"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/sdformat.json"}, "html": {"href": "#!/osrf/sdformat"}, "avatar": {"href": "data/bytebucket.org/ravatar/{b6d52f9f-b070-41c0-807c-94af07ea375b}ts=1606789"}}, "type": "repository", "name": "sdformat", "full_name": "osrf/sdformat", "uuid": "{b6d52f9f-b070-41c0-807c-94af07ea375b}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "3c5261b30604", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/sdformat/commit/3c5261b30604.json"}, "html": {"href": "#!/osrf/sdformat/commits/3c5261b30604"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/sdformat.json"}, "html": {"href": "#!/osrf/sdformat"}, "avatar": {"href": "data/bytebucket.org/ravatar/{b6d52f9f-b070-41c0-807c-94af07ea375b}ts=1606789"}}, "type": "repository", "name": "sdformat", "full_name": "osrf/sdformat", "uuid": "{b6d52f9f-b070-41c0-807c-94af07ea375b}"}, "branch": {"name": "convert_descendant_name"}}, "state": "OPEN", "author": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "date": "2019-11-21T22:46:19.006686+00:00"}, "pull_request": {"type": "pullrequest", "id": 596, "links": {"self": {"href": "data/repositories/osrf/sdformat/pullrequests/596.json"}, "html": {"href": "#!/osrf/sdformat/pull-requests/596"}}, "title": "[Citadel] Converter: add `descendant_name` attribute to recursively search for elements to convert"}}, {"update": {"description": "The sdf Converter uses the `*.convert` documents with `<convert>` tags and `name` attributes that specify the name of an element in the sdf hierarchy. This sometimes means that you have to duplicate the conversion code for elements that can appear in multiple locations, like models that can be in a world or directly under the `<sdf>` tag. This PR adds a `descendant_name` attribute that causes the converter to recurse through child elements to find matching tags. I've added a unit test but also modified the `1_6.convert` file to reduce code duplication, since these conversions have tests added in pull request #589.\r\n\r\nThe motivation for this change is the upcoming migration of the `//pose/@frame` attribute to `//pose/@relative_to`, which would be mind-boggingly painful to write out explicitly. I suppose it's also worth mentioning that none of our conversion code handles nested models, so this can make things more correct.", "title": "[Citadel] Converter: add `descendant_name` attribute to recursively search for elements to convert", "destination": {"commit": {"hash": "5a150a27d97e", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/sdformat/commit/5a150a27d97e.json"}, "html": {"href": "#!/osrf/sdformat/commits/5a150a27d97e"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/sdformat.json"}, "html": {"href": "#!/osrf/sdformat"}, "avatar": {"href": "data/bytebucket.org/ravatar/{b6d52f9f-b070-41c0-807c-94af07ea375b}ts=1606789"}}, "type": "repository", "name": "sdformat", "full_name": "osrf/sdformat", "uuid": "{b6d52f9f-b070-41c0-807c-94af07ea375b}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "3c5261b30604", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/sdformat/commit/3c5261b30604.json"}, "html": {"href": "#!/osrf/sdformat/commits/3c5261b30604"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/sdformat.json"}, "html": {"href": "#!/osrf/sdformat"}, "avatar": {"href": "data/bytebucket.org/ravatar/{b6d52f9f-b070-41c0-807c-94af07ea375b}ts=1606789"}}, "type": "repository", "name": "sdformat", "full_name": "osrf/sdformat", "uuid": "{b6d52f9f-b070-41c0-807c-94af07ea375b}"}, "branch": {"name": "convert_descendant_name"}}, "state": "OPEN", "author": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "date": "2019-11-20T22:09:30.990551+00:00"}, "pull_request": {"type": "pullrequest", "id": 596, "links": {"self": {"href": "data/repositories/osrf/sdformat/pullrequests/596.json"}, "html": {"href": "#!/osrf/sdformat/pull-requests/596"}}, "title": "[Citadel] Converter: add `descendant_name` attribute to recursively search for elements to convert"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/sdformat/pullrequests/596/comments/125660622.json"}, "html": {"href": "#!/osrf/sdformat/pull-requests/596/_/diff#comment-125660622"}}, "parent": {"id": 125653319, "links": {"self": {"href": "data/repositories/osrf/sdformat/pullrequests/596/comments/125653319.json"}, "html": {"href": "#!/osrf/sdformat/pull-requests/596/_/diff#comment-125653319"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 596, "links": {"self": {"href": "data/repositories/osrf/sdformat/pullrequests/596.json"}, "html": {"href": "#!/osrf/sdformat/pull-requests/596"}}, "title": "[Citadel] Converter: add `descendant_name` attribute to recursively search for elements to convert"}, "content": {"raw": "oh, yeah, I guess they would", "markup": "markdown", "html": "<p>oh, yeah, I guess they would</p>", "type": "rendered"}, "created_on": "2019-11-20T20:17:33.603039+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "updated_on": "2019-11-20T20:17:33.609944+00:00", "type": "pullrequest_comment", "id": 125660622}, "pull_request": {"type": "pullrequest", "id": 596, "links": {"self": {"href": "data/repositories/osrf/sdformat/pullrequests/596.json"}, "html": {"href": "#!/osrf/sdformat/pull-requests/596"}}, "title": "[Citadel] Converter: add `descendant_name` attribute to recursively search for elements to convert"}}, {"update": {"description": "The sdf Converter uses the `*.convert` documents with `<convert>` tags and `name` attributes that specify the name of an element in the sdf hierarchy. This sometimes means that you have to duplicate the conversion code for elements that can appear in multiple locations, like models that can be in a world or directly under the `<sdf>` tag. This PR adds a `descendant_name` attribute that causes the converter to recurse through child elements to find matching tags. I've added a unit test but also modified the `1_6.convert` file to reduce code duplication, since these conversions have tests added in pull request #589.\r\n\r\nThe motivation for this change is the upcoming migration of the `//pose/@frame` attribute to `//pose/@relative_to`, which would be mind-boggingly painful to write out explicitly. I suppose it's also worth mentioning that none of our conversion code handles nested models, so this can make things more correct.", "title": "Converter: add `descendant_name` attribute to recursively search for elements to convert", "destination": {"commit": {"hash": "5a150a27d97e", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/sdformat/commit/5a150a27d97e.json"}, "html": {"href": "#!/osrf/sdformat/commits/5a150a27d97e"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/sdformat.json"}, "html": {"href": "#!/osrf/sdformat"}, "avatar": {"href": "data/bytebucket.org/ravatar/{b6d52f9f-b070-41c0-807c-94af07ea375b}ts=1606789"}}, "type": "repository", "name": "sdformat", "full_name": "osrf/sdformat", "uuid": "{b6d52f9f-b070-41c0-807c-94af07ea375b}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "3c5261b30604", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/sdformat/commit/3c5261b30604.json"}, "html": {"href": "#!/osrf/sdformat/commits/3c5261b30604"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/sdformat.json"}, "html": {"href": "#!/osrf/sdformat"}, "avatar": {"href": "data/bytebucket.org/ravatar/{b6d52f9f-b070-41c0-807c-94af07ea375b}ts=1606789"}}, "type": "repository", "name": "sdformat", "full_name": "osrf/sdformat", "uuid": "{b6d52f9f-b070-41c0-807c-94af07ea375b}"}, "branch": {"name": "convert_descendant_name"}}, "state": "OPEN", "author": {"display_name": "Addisu Z. Taddese", "uuid": "{9d7fdc68-d270-4080-bf03-4df0d0dbf635}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B9d7fdc68-d270-4080-bf03-4df0d0dbf635%7D"}, "html": {"href": "https://bitbucket.org/%7B9d7fdc68-d270-4080-bf03-4df0d0dbf635%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:90bc87b0-2886-4377-a17c-3a6629a697ff/afbf9be5-1e4c-4810-89d4-e58831f34b11/128"}}, "nickname": "azeey", "type": "user", "account_id": "557058:90bc87b0-2886-4377-a17c-3a6629a697ff"}, "date": "2019-11-20T19:52:56.281694+00:00"}, "pull_request": {"type": "pullrequest", "id": 596, "links": {"self": {"href": "data/repositories/osrf/sdformat/pullrequests/596.json"}, "html": {"href": "#!/osrf/sdformat/pull-requests/596"}}, "title": "[Citadel] Converter: add `descendant_name` attribute to recursively search for elements to convert"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/sdformat/pullrequests/596/comments/125656790.json"}, "html": {"href": "#!/osrf/sdformat/pull-requests/596/_/diff#comment-125656790"}}, "parent": {"id": 125655873, "links": {"self": {"href": "data/repositories/osrf/sdformat/pullrequests/596/comments/125655873.json"}, "html": {"href": "#!/osrf/sdformat/pull-requests/596/_/diff#comment-125655873"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 596, "links": {"self": {"href": "data/repositories/osrf/sdformat/pullrequests/596.json"}, "html": {"href": "#!/osrf/sdformat/pull-requests/596"}}, "title": "[Citadel] Converter: add `descendant_name` attribute to recursively search for elements to convert"}, "content": {"raw": "b43cabf", "markup": "markdown", "html": "<p><a href=\"#!/osrf/sdformat/commits/b43cabf\" rel=\"nofollow\" class=\"ap-connect-link\">b43cabf</a></p>", "type": "rendered"}, "created_on": "2019-11-20T19:47:10.968549+00:00", "user": {"display_name": "Addisu Z. Taddese", "uuid": "{9d7fdc68-d270-4080-bf03-4df0d0dbf635}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B9d7fdc68-d270-4080-bf03-4df0d0dbf635%7D"}, "html": {"href": "https://bitbucket.org/%7B9d7fdc68-d270-4080-bf03-4df0d0dbf635%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:90bc87b0-2886-4377-a17c-3a6629a697ff/afbf9be5-1e4c-4810-89d4-e58831f34b11/128"}}, "nickname": "azeey", "type": "user", "account_id": "557058:90bc87b0-2886-4377-a17c-3a6629a697ff"}, "inline": {}, "updated_on": "2019-11-20T19:47:10.978998+00:00", "type": "pullrequest_comment", "id": 125656790}, "pull_request": {"type": "pullrequest", "id": 596, "links": {"self": {"href": "data/repositories/osrf/sdformat/pullrequests/596.json"}, "html": {"href": "#!/osrf/sdformat/pull-requests/596"}}, "title": "[Citadel] Converter: add `descendant_name` attribute to recursively search for elements to convert"}}, {"update": {"description": "The sdf Converter uses the `*.convert` documents with `<convert>` tags and `name` attributes that specify the name of an element in the sdf hierarchy. This sometimes means that you have to duplicate the conversion code for elements that can appear in multiple locations, like models that can be in a world or directly under the `<sdf>` tag. This PR adds a `descendant_name` attribute that causes the converter to recurse through child elements to find matching tags. I've added a unit test but also modified the `1_6.convert` file to reduce code duplication, since these conversions have tests added in pull request #589.\r\n\r\nThe motivation for this change is the upcoming migration of the `//pose/@frame` attribute to `//pose/@relative_to`, which would be mind-boggingly painful to write out explicitly. I suppose it's also worth mentioning that none of our conversion code handles nested models, so this can make things more correct.", "title": "Converter: add `descendant_name` attribute to recursively search for elements to convert", "destination": {"commit": {"hash": "5a150a27d97e", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/sdformat/commit/5a150a27d97e.json"}, "html": {"href": "#!/osrf/sdformat/commits/5a150a27d97e"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/sdformat.json"}, "html": {"href": "#!/osrf/sdformat"}, "avatar": {"href": "data/bytebucket.org/ravatar/{b6d52f9f-b070-41c0-807c-94af07ea375b}ts=1606789"}}, "type": "repository", "name": "sdformat", "full_name": "osrf/sdformat", "uuid": "{b6d52f9f-b070-41c0-807c-94af07ea375b}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "b43cabf1dea6", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/sdformat/commit/b43cabf1dea6.json"}, "html": {"href": "#!/osrf/sdformat/commits/b43cabf1dea6"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/sdformat.json"}, "html": {"href": "#!/osrf/sdformat"}, "avatar": {"href": "data/bytebucket.org/ravatar/{b6d52f9f-b070-41c0-807c-94af07ea375b}ts=1606789"}}, "type": "repository", "name": "sdformat", "full_name": "osrf/sdformat", "uuid": "{b6d52f9f-b070-41c0-807c-94af07ea375b}"}, "branch": {"name": "convert_descendant_name"}}, "state": "OPEN", "author": {"display_name": "Addisu Z. Taddese", "uuid": "{9d7fdc68-d270-4080-bf03-4df0d0dbf635}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B9d7fdc68-d270-4080-bf03-4df0d0dbf635%7D"}, "html": {"href": "https://bitbucket.org/%7B9d7fdc68-d270-4080-bf03-4df0d0dbf635%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:90bc87b0-2886-4377-a17c-3a6629a697ff/afbf9be5-1e4c-4810-89d4-e58831f34b11/128"}}, "nickname": "azeey", "type": "user", "account_id": "557058:90bc87b0-2886-4377-a17c-3a6629a697ff"}, "date": "2019-11-20T19:47:01.014331+00:00"}, "pull_request": {"type": "pullrequest", "id": 596, "links": {"self": {"href": "data/repositories/osrf/sdformat/pullrequests/596.json"}, "html": {"href": "#!/osrf/sdformat/pull-requests/596"}}, "title": "[Citadel] Converter: add `descendant_name` attribute to recursively search for elements to convert"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/sdformat/pullrequests/596/comments/125655873.json"}, "html": {"href": "#!/osrf/sdformat/pull-requests/596/_/diff#comment-125655873"}}, "parent": {"id": 125655181, "links": {"self": {"href": "data/repositories/osrf/sdformat/pullrequests/596/comments/125655181.json"}, "html": {"href": "#!/osrf/sdformat/pull-requests/596/_/diff#comment-125655181"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 596, "links": {"self": {"href": "data/repositories/osrf/sdformat/pullrequests/596.json"}, "html": {"href": "#!/osrf/sdformat/pull-requests/596"}}, "title": "[Citadel] Converter: add `descendant_name` attribute to recursively search for elements to convert"}, "content": {"raw": "I spoke too soon. I also needed to remove the `else` in #!/osrf/sdformat/pull-requests/596/converter-add-descendant_name-attribute-to/diff#Lsrc/Converter.ccT145.", "markup": "markdown", "html": "<p>I spoke too soon. I also needed to remove the <code>else</code> in <a href=\"#!/osrf/sdformat/pull-requests/596/converter-add-descendant_name-attribute-to/diff#Lsrc/Converter.ccT145\" rel=\"nofollow\" class=\"ap-connect-link\">#!/osrf/sdformat/pull-requests/596/converter-add-descendant_name-attribute-to/diff#Lsrc/Converter.ccT145</a>.</p>", "type": "rendered"}, "created_on": "2019-11-20T19:39:49.305482+00:00", "user": {"display_name": "Addisu Z. Taddese", "uuid": "{9d7fdc68-d270-4080-bf03-4df0d0dbf635}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B9d7fdc68-d270-4080-bf03-4df0d0dbf635%7D"}, "html": {"href": "https://bitbucket.org/%7B9d7fdc68-d270-4080-bf03-4df0d0dbf635%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:90bc87b0-2886-4377-a17c-3a6629a697ff/afbf9be5-1e4c-4810-89d4-e58831f34b11/128"}}, "nickname": "azeey", "type": "user", "account_id": "557058:90bc87b0-2886-4377-a17c-3a6629a697ff"}, "inline": {}, "updated_on": "2019-11-20T19:39:49.316480+00:00", "type": "pullrequest_comment", "id": 125655873}, "pull_request": {"type": "pullrequest", "id": 596, "links": {"self": {"href": "data/repositories/osrf/sdformat/pullrequests/596.json"}, "html": {"href": "#!/osrf/sdformat/pull-requests/596"}}, "title": "[Citadel] Converter: add `descendant_name` attribute to recursively search for elements to convert"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/sdformat/pullrequests/596/comments/125655181.json"}, "html": {"href": "#!/osrf/sdformat/pull-requests/596/_/diff#comment-125655181"}}, "parent": {"id": 125653069, "links": {"self": {"href": "data/repositories/osrf/sdformat/pullrequests/596/comments/125653069.json"}, "html": {"href": "#!/osrf/sdformat/pull-requests/596/_/diff#comment-125653069"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 596, "links": {"self": {"href": "data/repositories/osrf/sdformat/pullrequests/596.json"}, "html": {"href": "#!/osrf/sdformat/pull-requests/596"}}, "title": "[Citadel] Converter: add `descendant_name` attribute to recursively search for elements to convert"}, "content": {"raw": "Yup, seems to have fixed it. I can go ahead and commit that with a test.", "markup": "markdown", "html": "<p>Yup, seems to have fixed it. I can go ahead and commit that with a test.</p>", "type": "rendered"}, "created_on": "2019-11-20T19:34:49.909498+00:00", "user": {"display_name": "Addisu Z. Taddese", "uuid": "{9d7fdc68-d270-4080-bf03-4df0d0dbf635}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B9d7fdc68-d270-4080-bf03-4df0d0dbf635%7D"}, "html": {"href": "https://bitbucket.org/%7B9d7fdc68-d270-4080-bf03-4df0d0dbf635%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:90bc87b0-2886-4377-a17c-3a6629a697ff/afbf9be5-1e4c-4810-89d4-e58831f34b11/128"}}, "nickname": "azeey", "type": "user", "account_id": "557058:90bc87b0-2886-4377-a17c-3a6629a697ff"}, "inline": {}, "updated_on": "2019-11-20T19:34:49.918456+00:00", "type": "pullrequest_comment", "id": 125655181}, "pull_request": {"type": "pullrequest", "id": 596, "links": {"self": {"href": "data/repositories/osrf/sdformat/pullrequests/596.json"}, "html": {"href": "#!/osrf/sdformat/pull-requests/596"}}, "title": "[Citadel] Converter: add `descendant_name` attribute to recursively search for elements to convert"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/sdformat/pullrequests/596/comments/125653319.json"}, "html": {"href": "#!/osrf/sdformat/pull-requests/596/_/diff#comment-125653319"}}, "parent": {"id": 125650012, "links": {"self": {"href": "data/repositories/osrf/sdformat/pullrequests/596/comments/125650012.json"}, "html": {"href": "#!/osrf/sdformat/pull-requests/596/_/diff#comment-125650012"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 596, "links": {"self": {"href": "data/repositories/osrf/sdformat/pullrequests/596.json"}, "html": {"href": "#!/osrf/sdformat/pull-requests/596"}}, "title": "[Citadel] Converter: add `descendant_name` attribute to recursively search for elements to convert"}, "content": {"raw": "Question, do the convert operations run on elements under the `<plugin>` tag?", "markup": "markdown", "html": "<p>Question, do the convert operations run on elements under the <code>&lt;plugin&gt;</code> tag?</p>", "type": "rendered"}, "created_on": "2019-11-20T19:19:57.810114+00:00", "user": {"display_name": "Addisu Z. Taddese", "uuid": "{9d7fdc68-d270-4080-bf03-4df0d0dbf635}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B9d7fdc68-d270-4080-bf03-4df0d0dbf635%7D"}, "html": {"href": "https://bitbucket.org/%7B9d7fdc68-d270-4080-bf03-4df0d0dbf635%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:90bc87b0-2886-4377-a17c-3a6629a697ff/afbf9be5-1e4c-4810-89d4-e58831f34b11/128"}}, "nickname": "azeey", "type": "user", "account_id": "557058:90bc87b0-2886-4377-a17c-3a6629a697ff"}, "updated_on": "2019-11-20T19:19:57.818341+00:00", "type": "pullrequest_comment", "id": 125653319}, "pull_request": {"type": "pullrequest", "id": 596, "links": {"self": {"href": "data/repositories/osrf/sdformat/pullrequests/596.json"}, "html": {"href": "#!/osrf/sdformat/pull-requests/596"}}, "title": "[Citadel] Converter: add `descendant_name` attribute to recursively search for elements to convert"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/sdformat/pullrequests/596/comments/125653069.json"}, "html": {"href": "#!/osrf/sdformat/pull-requests/596/_/diff#comment-125653069"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 596, "links": {"self": {"href": "data/repositories/osrf/sdformat/pullrequests/596.json"}, "html": {"href": "#!/osrf/sdformat/pull-requests/596"}}, "title": "[Citadel] Converter: add `descendant_name` attribute to recursively search for elements to convert"}, "content": {"raw": "@{557058:90bc87b0-2886-4377-a17c-3a6629a697ff} I think changing this `else if` to an `if` fixes the nested element issue you mentioned", "markup": "markdown", "html": "<p><span class=\"ap-mention\" data-atlassian-id=\"557058:90bc87b0-2886-4377-a17c-3a6629a697ff\">@Addisu Z. Taddese</span> I think changing this <code>else if</code> to an <code>if</code> fixes the nested element issue you mentioned</p>", "type": "rendered"}, "created_on": "2019-11-20T19:17:53.964255+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "inline": {}, "updated_on": "2019-11-20T19:17:53.978823+00:00", "type": "pullrequest_comment", "id": 125653069}, "pull_request": {"type": "pullrequest", "id": 596, "links": {"self": {"href": "data/repositories/osrf/sdformat/pullrequests/596.json"}, "html": {"href": "#!/osrf/sdformat/pull-requests/596"}}, "title": "[Citadel] Converter: add `descendant_name` attribute to recursively search for elements to convert"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/sdformat/pullrequests/596/comments/125650012.json"}, "html": {"href": "#!/osrf/sdformat/pull-requests/596/_/diff#comment-125650012"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 596, "links": {"self": {"href": "data/repositories/osrf/sdformat/pullrequests/596.json"}, "html": {"href": "#!/osrf/sdformat/pull-requests/596"}}, "title": "[Citadel] Converter: add `descendant_name` attribute to recursively search for elements to convert"}, "content": {"raw": "Left a comment about nested elements. Otherwise, this looks great!", "markup": "markdown", "html": "<p>Left a comment about nested elements. Otherwise, this looks great!</p>", "type": "rendered"}, "created_on": "2019-11-20T18:54:16.654073+00:00", "user": {"display_name": "Addisu Z. Taddese", "uuid": "{9d7fdc68-d270-4080-bf03-4df0d0dbf635}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B9d7fdc68-d270-4080-bf03-4df0d0dbf635%7D"}, "html": {"href": "https://bitbucket.org/%7B9d7fdc68-d270-4080-bf03-4df0d0dbf635%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:90bc87b0-2886-4377-a17c-3a6629a697ff/afbf9be5-1e4c-4810-89d4-e58831f34b11/128"}}, "nickname": "azeey", "type": "user", "account_id": "557058:90bc87b0-2886-4377-a17c-3a6629a697ff"}, "updated_on": "2019-11-20T18:54:16.666534+00:00", "type": "pullrequest_comment", "id": 125650012}, "pull_request": {"type": "pullrequest", "id": 596, "links": {"self": {"href": "data/repositories/osrf/sdformat/pullrequests/596.json"}, "html": {"href": "#!/osrf/sdformat/pull-requests/596"}}, "title": "[Citadel] Converter: add `descendant_name` attribute to recursively search for elements to convert"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/sdformat/pullrequests/596/comments/125648387.json"}, "html": {"href": "#!/osrf/sdformat/pull-requests/596/_/diff#comment-125648387"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 596, "links": {"self": {"href": "data/repositories/osrf/sdformat/pullrequests/596.json"}, "html": {"href": "#!/osrf/sdformat/pull-requests/596"}}, "title": "[Citadel] Converter: add `descendant_name` attribute to recursively search for elements to convert"}, "content": {"raw": "There seems to be a problem handling nested elements. I tested with the following\n```\n  std::string xmlString = R\"SDF(\n  <sdf>\n    <model name=\"M\">\n      <frame name=\"F1\"/>\n      <model name=\"NM\">\n        <frame name=\"L2\"/>\n      </model>\n    </model>\n  </sdf>\n  )SDF\";\n\n  std::string convertString = R\"SDF(\n    <convert name=\"sdf\">\n      <convert descendant_name=\"model\">\n        <remove element=\"frame\"/>\n      </convert>\n    </convert>\n  )SDF\";\n```\n\nAnd the output I got was\n```\n <sdf>\n    <model name=\"M\">\n        <model name=\"NM\">\n            <frame name=\"L2\" />\n        </model>\n    </model>\n</sdf>\n```\nbut I expected all `frame` elements to be removed.", "markup": "markdown", "html": "<p>There seems to be a problem handling nested elements. I tested with the following</p>\n<div class=\"codehilite\"><pre><span></span>  std::string xmlString = R&quot;SDF(\n  <span class=\"nt\">&lt;sdf&gt;</span>\n    <span class=\"nt\">&lt;model</span> <span class=\"na\">name=</span><span class=\"s\">&quot;M&quot;</span><span class=\"nt\">&gt;</span>\n      <span class=\"nt\">&lt;frame</span> <span class=\"na\">name=</span><span class=\"s\">&quot;F1&quot;</span><span class=\"nt\">/&gt;</span>\n      <span class=\"nt\">&lt;model</span> <span class=\"na\">name=</span><span class=\"s\">&quot;NM&quot;</span><span class=\"nt\">&gt;</span>\n        <span class=\"nt\">&lt;frame</span> <span class=\"na\">name=</span><span class=\"s\">&quot;L2&quot;</span><span class=\"nt\">/&gt;</span>\n      <span class=\"nt\">&lt;/model&gt;</span>\n    <span class=\"nt\">&lt;/model&gt;</span>\n  <span class=\"nt\">&lt;/sdf&gt;</span>\n  )SDF&quot;;\n\n  std::string convertString = R&quot;SDF(\n    <span class=\"nt\">&lt;convert</span> <span class=\"na\">name=</span><span class=\"s\">&quot;sdf&quot;</span><span class=\"nt\">&gt;</span>\n      <span class=\"nt\">&lt;convert</span> <span class=\"na\">descendant_name=</span><span class=\"s\">&quot;model&quot;</span><span class=\"nt\">&gt;</span>\n        <span class=\"nt\">&lt;remove</span> <span class=\"na\">element=</span><span class=\"s\">&quot;frame&quot;</span><span class=\"nt\">/&gt;</span>\n      <span class=\"nt\">&lt;/convert&gt;</span>\n    <span class=\"nt\">&lt;/convert&gt;</span>\n  )SDF&quot;;\n</pre></div>\n\n\n<p>And the output I got was</p>\n<div class=\"codehilite\"><pre><span></span> <span class=\"nt\">&lt;sdf&gt;</span>\n    <span class=\"nt\">&lt;model</span> <span class=\"na\">name=</span><span class=\"s\">&quot;M&quot;</span><span class=\"nt\">&gt;</span>\n        <span class=\"nt\">&lt;model</span> <span class=\"na\">name=</span><span class=\"s\">&quot;NM&quot;</span><span class=\"nt\">&gt;</span>\n            <span class=\"nt\">&lt;frame</span> <span class=\"na\">name=</span><span class=\"s\">&quot;L2&quot;</span> <span class=\"nt\">/&gt;</span>\n        <span class=\"nt\">&lt;/model&gt;</span>\n    <span class=\"nt\">&lt;/model&gt;</span>\n<span class=\"nt\">&lt;/sdf&gt;</span>\n</pre></div>\n\n\n<p>but I expected all <code>frame</code> elements to be removed.</p>", "type": "rendered"}, "created_on": "2019-11-20T18:42:13.740757+00:00", "user": {"display_name": "Addisu Z. Taddese", "uuid": "{9d7fdc68-d270-4080-bf03-4df0d0dbf635}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B9d7fdc68-d270-4080-bf03-4df0d0dbf635%7D"}, "html": {"href": "https://bitbucket.org/%7B9d7fdc68-d270-4080-bf03-4df0d0dbf635%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:90bc87b0-2886-4377-a17c-3a6629a697ff/afbf9be5-1e4c-4810-89d4-e58831f34b11/128"}}, "nickname": "azeey", "type": "user", "account_id": "557058:90bc87b0-2886-4377-a17c-3a6629a697ff"}, "inline": {}, "updated_on": "2019-11-20T18:42:13.750012+00:00", "type": "pullrequest_comment", "id": 125648387}, "pull_request": {"type": "pullrequest", "id": 596, "links": {"self": {"href": "data/repositories/osrf/sdformat/pullrequests/596.json"}, "html": {"href": "#!/osrf/sdformat/pull-requests/596"}}, "title": "[Citadel] Converter: add `descendant_name` attribute to recursively search for elements to convert"}}, {"update": {"description": "The sdf Converter uses the `*.convert` documents with `<convert>` tags and `name` attributes that specify the name of an element in the sdf hierarchy. This sometimes means that you have to duplicate the conversion code for elements that can appear in multiple locations, like models that can be in a world or directly under the `<sdf>` tag. This PR adds a `descendant_name` attribute that causes the converter to recurse through child elements to find matching tags. I've added a unit test but also modified the `1_6.convert` file to reduce code duplication, since these conversions have tests added in pull request #589.\r\n\r\nThe motivation for this change is the upcoming migration of the `//pose/@frame` attribute to `//pose/@relative_to`, which would be mind-boggingly painful to write out explicitly. I suppose it's also worth mentioning that none of our conversion code handles nested models, so this can make things more correct.", "title": "Converter: add `descendant_name` attribute to recursively search for elements to convert", "destination": {"commit": {"hash": "5a150a27d97e", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/sdformat/commit/5a150a27d97e.json"}, "html": {"href": "#!/osrf/sdformat/commits/5a150a27d97e"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/sdformat.json"}, "html": {"href": "#!/osrf/sdformat"}, "avatar": {"href": "data/bytebucket.org/ravatar/{b6d52f9f-b070-41c0-807c-94af07ea375b}ts=1606789"}}, "type": "repository", "name": "sdformat", "full_name": "osrf/sdformat", "uuid": "{b6d52f9f-b070-41c0-807c-94af07ea375b}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "ccf1f955475e", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/sdformat/commit/ccf1f955475e.json"}, "html": {"href": "#!/osrf/sdformat/commits/ccf1f955475e"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/sdformat.json"}, "html": {"href": "#!/osrf/sdformat"}, "avatar": {"href": "data/bytebucket.org/ravatar/{b6d52f9f-b070-41c0-807c-94af07ea375b}ts=1606789"}}, "type": "repository", "name": "sdformat", "full_name": "osrf/sdformat", "uuid": "{b6d52f9f-b070-41c0-807c-94af07ea375b}"}, "branch": {"name": "convert_descendant_name"}}, "state": "OPEN", "author": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "date": "2019-11-18T22:52:34.958581+00:00"}, "pull_request": {"type": "pullrequest", "id": 596, "links": {"self": {"href": "data/repositories/osrf/sdformat/pullrequests/596.json"}, "html": {"href": "#!/osrf/sdformat/pull-requests/596"}}, "title": "[Citadel] Converter: add `descendant_name` attribute to recursively search for elements to convert"}}, {"update": {"description": "The sdf Converter uses the `*.convert` documents with `<convert>` tags and `name` attributes that specify the name of an element in the sdf hierarchy. This sometimes means that you have to duplicate the conversion code for elements that can appear in multiple locations, like models that can be in a world or directly under the `<sdf>` tag. This PR adds a `descendant_name` attribute that causes the converter to recurse through child elements to find matching tags. I've added a unit test but also modified the `1_6.convert` file to reduce code duplication, since these conversions have tests added in pull request #589.\r\n\r\nThe motivation for this change is the upcoming migration of the `//pose/@frame` attribute to `//pose/@relative_to`, which would be mind-boggingly painful to write out explicitly. I suppose it's also worth mentioning that none of our conversion code handles nested models, so this can make things more correct.", "title": "Converter: add `descendant_name` attribute to recursively search for elements to convert", "destination": {"commit": {"hash": "5a150a27d97e", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/sdformat/commit/5a150a27d97e.json"}, "html": {"href": "#!/osrf/sdformat/commits/5a150a27d97e"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/sdformat.json"}, "html": {"href": "#!/osrf/sdformat"}, "avatar": {"href": "data/bytebucket.org/ravatar/{b6d52f9f-b070-41c0-807c-94af07ea375b}ts=1606789"}}, "type": "repository", "name": "sdformat", "full_name": "osrf/sdformat", "uuid": "{b6d52f9f-b070-41c0-807c-94af07ea375b}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "ccf1f955475e", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/sdformat/commit/ccf1f955475e.json"}, "html": {"href": "#!/osrf/sdformat/commits/ccf1f955475e"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/sdformat.json"}, "html": {"href": "#!/osrf/sdformat"}, "avatar": {"href": "data/bytebucket.org/ravatar/{b6d52f9f-b070-41c0-807c-94af07ea375b}ts=1606789"}}, "type": "repository", "name": "sdformat", "full_name": "osrf/sdformat", "uuid": "{b6d52f9f-b070-41c0-807c-94af07ea375b}"}, "branch": {"name": "convert_descendant_name"}}, "state": "OPEN", "author": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "date": "2019-11-18T22:52:34.907819+00:00"}, "pull_request": {"type": "pullrequest", "id": 596, "links": {"self": {"href": "data/repositories/osrf/sdformat/pullrequests/596.json"}, "html": {"href": "#!/osrf/sdformat/pull-requests/596"}}, "title": "[Citadel] Converter: add `descendant_name` attribute to recursively search for elements to convert"}}]}