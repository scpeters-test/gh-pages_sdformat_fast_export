{"rendered": {"description": {"raw": "PR #571 made `ToString` not print unset values. \r\nWhen converting between versions of sdf, the converter may add an element with a required attribute, but the added attribute is not considered \"set\". When using `ToString` on the parsed object, this attribute will not be printed. Trying to parse the output of `ToString` will fail because there is now a missing value on a required attribute.\r\n\r\n\r\nFor example, when the following snippet gets parsed, it gets upconverted into sdf 1.6.\r\n\r\n```\r\n<?xml version=\"1.0\" ?>\r\n<sdf version=\"1.5\">\r\n  <world name=\"default\">\r\n  </world>\r\n</sdf>\r\n```\r\n\r\nOne element that gets added during this conversion is `<atmosphere>` which has a required attribute `type`. Here's the output of `ToString`:\r\n```\r\n<?xml version='1.0'?>\r\n<sdf version='1.6'>\r\n  <world name='default'>\r\n    <gravity>0 0 -9.8</gravity>\r\n    <magnetic_field>6e-06 2.3e-05 -4.2e-05</magnetic_field>\r\n    <atmosphere/>\r\n    <physics>\r\n      <max_step_size>0.001</max_step_size>\r\n      <real_time_factor>1</real_time_factor>\r\n      <real_time_update_rate>1000</real_time_update_rate>\r\n    </physics>\r\n    <scene>\r\n      <ambient>0.4 0.4 0.4 1</ambient>\r\n      <background>0.7 0.7 0.7 1</background>\r\n      <shadows>1</shadows>\r\n    </scene>\r\n  </world>\r\n</sdf>\r\n```\r\nParsing this in will fail because `<atmosphere>` is missing its `type` attribute.\r\n\r\n\r\nThis PR also ensures that that clones of `sdf::Element` have identical outputs from calling `ToString`.", "markup": "markdown", "html": "<p><a href=\"#!/osrf/sdformat/pull-requests/571/element-dont-print-unset-attributes\" rel=\"nofollow\" class=\"ap-connect-link\">PR #571</a> made <code>ToString</code> not print unset values. \nWhen converting between versions of sdf, the converter may add an element with a required attribute, but the added attribute is not considered \"set\". When using <code>ToString</code> on the parsed object, this attribute will not be printed. Trying to parse the output of <code>ToString</code> will fail because there is now a missing value on a required attribute.</p>\n<p>For example, when the following snippet gets parsed, it gets upconverted into sdf 1.6.</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"cp\">&lt;?xml version=&quot;1.0&quot; ?&gt;</span>\n<span class=\"nt\">&lt;sdf</span> <span class=\"na\">version=</span><span class=\"s\">&quot;1.5&quot;</span><span class=\"nt\">&gt;</span>\n  <span class=\"nt\">&lt;world</span> <span class=\"na\">name=</span><span class=\"s\">&quot;default&quot;</span><span class=\"nt\">&gt;</span>\n  <span class=\"nt\">&lt;/world&gt;</span>\n<span class=\"nt\">&lt;/sdf&gt;</span>\n</pre></div>\n\n\n<p>One element that gets added during this conversion is <code>&lt;atmosphere&gt;</code> which has a required attribute <code>type</code>. Here's the output of <code>ToString</code>:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"cp\">&lt;?xml version=&#39;1.0&#39;?&gt;</span>\n<span class=\"nt\">&lt;sdf</span> <span class=\"na\">version=</span><span class=\"s\">&#39;1.6&#39;</span><span class=\"nt\">&gt;</span>\n  <span class=\"nt\">&lt;world</span> <span class=\"na\">name=</span><span class=\"s\">&#39;default&#39;</span><span class=\"nt\">&gt;</span>\n    <span class=\"nt\">&lt;gravity&gt;</span>0 0 -9.8<span class=\"nt\">&lt;/gravity&gt;</span>\n    <span class=\"nt\">&lt;magnetic_field&gt;</span>6e-06 2.3e-05 -4.2e-05<span class=\"nt\">&lt;/magnetic_field&gt;</span>\n    <span class=\"nt\">&lt;atmosphere/&gt;</span>\n    <span class=\"nt\">&lt;physics&gt;</span>\n      <span class=\"nt\">&lt;max_step_size&gt;</span>0.001<span class=\"nt\">&lt;/max_step_size&gt;</span>\n      <span class=\"nt\">&lt;real_time_factor&gt;</span>1<span class=\"nt\">&lt;/real_time_factor&gt;</span>\n      <span class=\"nt\">&lt;real_time_update_rate&gt;</span>1000<span class=\"nt\">&lt;/real_time_update_rate&gt;</span>\n    <span class=\"nt\">&lt;/physics&gt;</span>\n    <span class=\"nt\">&lt;scene&gt;</span>\n      <span class=\"nt\">&lt;ambient&gt;</span>0.4 0.4 0.4 1<span class=\"nt\">&lt;/ambient&gt;</span>\n      <span class=\"nt\">&lt;background&gt;</span>0.7 0.7 0.7 1<span class=\"nt\">&lt;/background&gt;</span>\n      <span class=\"nt\">&lt;shadows&gt;</span>1<span class=\"nt\">&lt;/shadows&gt;</span>\n    <span class=\"nt\">&lt;/scene&gt;</span>\n  <span class=\"nt\">&lt;/world&gt;</span>\n<span class=\"nt\">&lt;/sdf&gt;</span>\n</pre></div>\n\n\n<p>Parsing this in will fail because <code>&lt;atmosphere&gt;</code> is missing its <code>type</code> attribute.</p>\n<p>This PR also ensures that that clones of <code>sdf::Element</code> have identical outputs from calling <code>ToString</code>.</p>", "type": "rendered"}, "title": {"raw": "Fix ToString on required attributes and cloned elements", "markup": "markdown", "html": "<p>Fix ToString on required attributes and cloned elements</p>", "type": "rendered"}}, "type": "pullrequest", "description": "PR #571 made `ToString` not print unset values. \r\nWhen converting between versions of sdf, the converter may add an element with a required attribute, but the added attribute is not considered \"set\". When using `ToString` on the parsed object, this attribute will not be printed. Trying to parse the output of `ToString` will fail because there is now a missing value on a required attribute.\r\n\r\n\r\nFor example, when the following snippet gets parsed, it gets upconverted into sdf 1.6.\r\n\r\n```\r\n<?xml version=\"1.0\" ?>\r\n<sdf version=\"1.5\">\r\n  <world name=\"default\">\r\n  </world>\r\n</sdf>\r\n```\r\n\r\nOne element that gets added during this conversion is `<atmosphere>` which has a required attribute `type`. Here's the output of `ToString`:\r\n```\r\n<?xml version='1.0'?>\r\n<sdf version='1.6'>\r\n  <world name='default'>\r\n    <gravity>0 0 -9.8</gravity>\r\n    <magnetic_field>6e-06 2.3e-05 -4.2e-05</magnetic_field>\r\n    <atmosphere/>\r\n    <physics>\r\n      <max_step_size>0.001</max_step_size>\r\n      <real_time_factor>1</real_time_factor>\r\n      <real_time_update_rate>1000</real_time_update_rate>\r\n    </physics>\r\n    <scene>\r\n      <ambient>0.4 0.4 0.4 1</ambient>\r\n      <background>0.7 0.7 0.7 1</background>\r\n      <shadows>1</shadows>\r\n    </scene>\r\n  </world>\r\n</sdf>\r\n```\r\nParsing this in will fail because `<atmosphere>` is missing its `type` attribute.\r\n\r\n\r\nThis PR also ensures that that clones of `sdf::Element` have identical outputs from calling `ToString`.", "links": {"decline": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/sdformat/pullrequests/576/decline"}, "diffstat": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/sdformat/diffstat/osrf/sdformat:2077d3d18a67%0D40ecc5847919?from_pullrequest_id=576"}, "commits": {"href": "data/repositories/osrf/sdformat/pullrequests/576/commits.json"}, "self": {"href": "data/repositories/osrf/sdformat/pullrequests/576.json"}, "comments": {"href": "data/repositories/osrf/sdformat/pullrequests/576/comments_page=1.json"}, "merge": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/sdformat/pullrequests/576/merge"}, "html": {"href": "#!/osrf/sdformat/pull-requests/576"}, "activity": {"href": "data/repositories/osrf/sdformat/pullrequests/576/activity.json"}, "diff": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/sdformat/diff/osrf/sdformat:2077d3d18a67%0D40ecc5847919?from_pullrequest_id=576"}, "approve": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/sdformat/pullrequests/576/approve"}, "statuses": {"href": "data/repositories/osrf/sdformat/pullrequests/576/statuses_page=1.json"}}, "title": "Fix ToString on required attributes and cloned elements", "close_source_branch": true, "reviewers": [{"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, {"display_name": "Eric Cousineau", "uuid": "{71c9fc05-02c8-45e1-adfa-13c8ac3399dc}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B71c9fc05-02c8-45e1-adfa-13c8ac3399dc%7D"}, "html": {"href": "https://bitbucket.org/%7B71c9fc05-02c8-45e1-adfa-13c8ac3399dc%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557057:f3a199b9-5784-4964-9644-6ef224bc7dc1/28a4d748-0fd4-4038-bf3d-55a77eb73ede/128"}}, "nickname": "eacousineau", "type": "user", "account_id": "557057:f3a199b9-5784-4964-9644-6ef224bc7dc1"}], "id": 576, "destination": {"commit": {"hash": "40ecc5847919", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/sdformat/commit/40ecc5847919.json"}, "html": {"href": "#!/osrf/sdformat/commits/40ecc5847919"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/sdformat.json"}, "html": {"href": "#!/osrf/sdformat"}, "avatar": {"href": "data/bytebucket.org/ravatar/{b6d52f9f-b070-41c0-807c-94af07ea375b}ts=1606789"}}, "type": "repository", "name": "sdformat", "full_name": "osrf/sdformat", "uuid": "{b6d52f9f-b070-41c0-807c-94af07ea375b}"}, "branch": {"name": "sdf8"}}, "created_on": "2019-10-03T16:49:28.795307+00:00", "summary": {"raw": "PR #571 made `ToString` not print unset values. \r\nWhen converting between versions of sdf, the converter may add an element with a required attribute, but the added attribute is not considered \"set\". When using `ToString` on the parsed object, this attribute will not be printed. Trying to parse the output of `ToString` will fail because there is now a missing value on a required attribute.\r\n\r\n\r\nFor example, when the following snippet gets parsed, it gets upconverted into sdf 1.6.\r\n\r\n```\r\n<?xml version=\"1.0\" ?>\r\n<sdf version=\"1.5\">\r\n  <world name=\"default\">\r\n  </world>\r\n</sdf>\r\n```\r\n\r\nOne element that gets added during this conversion is `<atmosphere>` which has a required attribute `type`. Here's the output of `ToString`:\r\n```\r\n<?xml version='1.0'?>\r\n<sdf version='1.6'>\r\n  <world name='default'>\r\n    <gravity>0 0 -9.8</gravity>\r\n    <magnetic_field>6e-06 2.3e-05 -4.2e-05</magnetic_field>\r\n    <atmosphere/>\r\n    <physics>\r\n      <max_step_size>0.001</max_step_size>\r\n      <real_time_factor>1</real_time_factor>\r\n      <real_time_update_rate>1000</real_time_update_rate>\r\n    </physics>\r\n    <scene>\r\n      <ambient>0.4 0.4 0.4 1</ambient>\r\n      <background>0.7 0.7 0.7 1</background>\r\n      <shadows>1</shadows>\r\n    </scene>\r\n  </world>\r\n</sdf>\r\n```\r\nParsing this in will fail because `<atmosphere>` is missing its `type` attribute.\r\n\r\n\r\nThis PR also ensures that that clones of `sdf::Element` have identical outputs from calling `ToString`.", "markup": "markdown", "html": "<p><a href=\"#!/osrf/sdformat/pull-requests/571/element-dont-print-unset-attributes\" rel=\"nofollow\" class=\"ap-connect-link\">PR #571</a> made <code>ToString</code> not print unset values. \nWhen converting between versions of sdf, the converter may add an element with a required attribute, but the added attribute is not considered \"set\". When using <code>ToString</code> on the parsed object, this attribute will not be printed. Trying to parse the output of <code>ToString</code> will fail because there is now a missing value on a required attribute.</p>\n<p>For example, when the following snippet gets parsed, it gets upconverted into sdf 1.6.</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"cp\">&lt;?xml version=&quot;1.0&quot; ?&gt;</span>\n<span class=\"nt\">&lt;sdf</span> <span class=\"na\">version=</span><span class=\"s\">&quot;1.5&quot;</span><span class=\"nt\">&gt;</span>\n  <span class=\"nt\">&lt;world</span> <span class=\"na\">name=</span><span class=\"s\">&quot;default&quot;</span><span class=\"nt\">&gt;</span>\n  <span class=\"nt\">&lt;/world&gt;</span>\n<span class=\"nt\">&lt;/sdf&gt;</span>\n</pre></div>\n\n\n<p>One element that gets added during this conversion is <code>&lt;atmosphere&gt;</code> which has a required attribute <code>type</code>. Here's the output of <code>ToString</code>:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"cp\">&lt;?xml version=&#39;1.0&#39;?&gt;</span>\n<span class=\"nt\">&lt;sdf</span> <span class=\"na\">version=</span><span class=\"s\">&#39;1.6&#39;</span><span class=\"nt\">&gt;</span>\n  <span class=\"nt\">&lt;world</span> <span class=\"na\">name=</span><span class=\"s\">&#39;default&#39;</span><span class=\"nt\">&gt;</span>\n    <span class=\"nt\">&lt;gravity&gt;</span>0 0 -9.8<span class=\"nt\">&lt;/gravity&gt;</span>\n    <span class=\"nt\">&lt;magnetic_field&gt;</span>6e-06 2.3e-05 -4.2e-05<span class=\"nt\">&lt;/magnetic_field&gt;</span>\n    <span class=\"nt\">&lt;atmosphere/&gt;</span>\n    <span class=\"nt\">&lt;physics&gt;</span>\n      <span class=\"nt\">&lt;max_step_size&gt;</span>0.001<span class=\"nt\">&lt;/max_step_size&gt;</span>\n      <span class=\"nt\">&lt;real_time_factor&gt;</span>1<span class=\"nt\">&lt;/real_time_factor&gt;</span>\n      <span class=\"nt\">&lt;real_time_update_rate&gt;</span>1000<span class=\"nt\">&lt;/real_time_update_rate&gt;</span>\n    <span class=\"nt\">&lt;/physics&gt;</span>\n    <span class=\"nt\">&lt;scene&gt;</span>\n      <span class=\"nt\">&lt;ambient&gt;</span>0.4 0.4 0.4 1<span class=\"nt\">&lt;/ambient&gt;</span>\n      <span class=\"nt\">&lt;background&gt;</span>0.7 0.7 0.7 1<span class=\"nt\">&lt;/background&gt;</span>\n      <span class=\"nt\">&lt;shadows&gt;</span>1<span class=\"nt\">&lt;/shadows&gt;</span>\n    <span class=\"nt\">&lt;/scene&gt;</span>\n  <span class=\"nt\">&lt;/world&gt;</span>\n<span class=\"nt\">&lt;/sdf&gt;</span>\n</pre></div>\n\n\n<p>Parsing this in will fail because <code>&lt;atmosphere&gt;</code> is missing its <code>type</code> attribute.</p>\n<p>This PR also ensures that that clones of <code>sdf::Element</code> have identical outputs from calling <code>ToString</code>.</p>", "type": "rendered"}, "source": {"commit": {"hash": "6cc0f3361d6e", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/sdformat/commit/6cc0f3361d6e.json"}, "html": {"href": "#!/osrf/sdformat/commits/6cc0f3361d6e"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/sdformat.json"}, "html": {"href": "#!/osrf/sdformat"}, "avatar": {"href": "data/bytebucket.org/ravatar/{b6d52f9f-b070-41c0-807c-94af07ea375b}ts=1606789"}}, "type": "repository", "name": "sdformat", "full_name": "osrf/sdformat", "uuid": "{b6d52f9f-b070-41c0-807c-94af07ea375b}"}, "branch": {"name": "tostring_required_cloned"}}, "comment_count": 8, "state": "MERGED", "task_count": 0, "participants": [{"role": "REVIEWER", "participated_on": "2019-10-08T03:29:15.181823+00:00", "type": "participant", "approved": true, "user": {"display_name": "Eric Cousineau", "uuid": "{71c9fc05-02c8-45e1-adfa-13c8ac3399dc}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B71c9fc05-02c8-45e1-adfa-13c8ac3399dc%7D"}, "html": {"href": "https://bitbucket.org/%7B71c9fc05-02c8-45e1-adfa-13c8ac3399dc%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557057:f3a199b9-5784-4964-9644-6ef224bc7dc1/28a4d748-0fd4-4038-bf3d-55a77eb73ede/128"}}, "nickname": "eacousineau", "type": "user", "account_id": "557057:f3a199b9-5784-4964-9644-6ef224bc7dc1"}}, {"role": "REVIEWER", "participated_on": "2019-10-04T21:58:27.207662+00:00", "type": "participant", "approved": true, "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}}, {"role": "PARTICIPANT", "participated_on": "2019-10-15T19:48:23.622500+00:00", "type": "participant", "approved": false, "user": {"display_name": "Addisu Z. Taddese", "uuid": "{9d7fdc68-d270-4080-bf03-4df0d0dbf635}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B9d7fdc68-d270-4080-bf03-4df0d0dbf635%7D"}, "html": {"href": "https://bitbucket.org/%7B9d7fdc68-d270-4080-bf03-4df0d0dbf635%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:90bc87b0-2886-4377-a17c-3a6629a697ff/afbf9be5-1e4c-4810-89d4-e58831f34b11/128"}}, "nickname": "azeey", "type": "user", "account_id": "557058:90bc87b0-2886-4377-a17c-3a6629a697ff"}}], "reason": "", "updated_on": "2019-10-15T20:23:12.235803+00:00", "author": {"display_name": "Addisu Z. Taddese", "uuid": "{9d7fdc68-d270-4080-bf03-4df0d0dbf635}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B9d7fdc68-d270-4080-bf03-4df0d0dbf635%7D"}, "html": {"href": "https://bitbucket.org/%7B9d7fdc68-d270-4080-bf03-4df0d0dbf635%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:90bc87b0-2886-4377-a17c-3a6629a697ff/afbf9be5-1e4c-4810-89d4-e58831f34b11/128"}}, "nickname": "azeey", "type": "user", "account_id": "557058:90bc87b0-2886-4377-a17c-3a6629a697ff"}, "merge_commit": {"hash": "2077d3d18a67", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/sdformat/commit/2077d3d18a67.json"}, "html": {"href": "#!/osrf/sdformat/commits/2077d3d18a67"}}}, "closed_by": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}}