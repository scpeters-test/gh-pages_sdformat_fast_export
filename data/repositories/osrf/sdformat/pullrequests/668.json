{"rendered": {"description": {"raw": "Nested models currently do not support frame semantics because frames from child models are added to the parent model without any transformation. This PR adds the necessary name and pose transformations to add support for models nested using the `<include>` tag. This PR also injects the frame `<model_name>::__model__`,  into the parent model so that the child model's frames, links, and joints are can reference this frame instead of transforming their poses. This is a precursor to full support for composition.\r\n\r\nEg. The following is the original child model\r\n```\r\n<?xml version=\"1.0\" ?>\r\n<sdf version=\"1.7\">\r\n  <model name=\"test_model_with_frames\">\r\n    <frame name=\"F1\">\r\n      <pose>0 0 0 1.570796 0 0</pose>\r\n    </frame>\r\n    <frame name=\"F2\">\r\n      <pose relative_to=\"F1\">0 0 0 0 0.785398 0</pose>\r\n    </frame>\r\n    <link name=\"L1\">\r\n      <pose relative_to=\"F1\"/>\r\n    </link>\r\n    <link name=\"L2\">\r\n      <pose relative_to=\"F1\">1 0 0 0 0 0</pose>\r\n    </link>\r\n    <joint name=\"J1\" type=\"revolute\">\r\n      <pose relative_to=\"L1\"/>\r\n      <parent>L1</parent>\r\n      <child>L2</child>\r\n      <axis>\r\n        <xyz expressed_in=\"F2\">0 0 1</xyz>\r\n      </axis>\r\n    </joint>\r\n  </model>\r\n</sdf>\r\n```\r\nand the parent model nesting `test_model_with_frames` as `M1`\r\n```\r\n<sdf version='1.7'>\r\n  <world name='default'>\r\n    <model name='ParentModel'>  \r\n      <include> \r\n        <uri>/path/to/test_model_with_frames/</uri>\r\n        <name>M1</name>\r\n        <pose>10 0 0 0 -0 1.5708</pose>\r\n      </include>\r\n    </model>\r\n  </world>\r\n</sdf>\r\n```\r\nThe parsed model (with some extra tags removed for clarity) will be\r\n```\r\n<?xml version='1.0'?>\r\n<sdf version='1.7'>\r\n  <world name='default'>\r\n    <model name='ParentModel'>\r\n      <frame name='M1::__model__' attached_to='M1::L1'>\r\n        <pose relative_to='__model__'>10 0 0 0 -0 1.5708</pose>\r\n      </frame>\r\n      <frame name='M1::F1' attached_to='M1::__model__'>\r\n        <pose>0 0 0 1.5708 -0 0</pose>\r\n      </frame>\r\n      <frame name='M1::F2' attached_to='M1::__model__'>\r\n        <pose relative_to='M1::F1'>0 0 0 0 0.785398 0</pose>\r\n      </frame>\r\n      <link name='M1::L1'>\r\n        <pose relative_to='M1::F1'>0 0 0 0 -0 0</pose>\r\n      </link>\r\n      <link name='M1::L2'>\r\n        <pose relative_to='M1::F1'>1 0 0 0 -0 0</pose>\r\n      </link>\r\n      <joint name='M1::J1' type='revolute'>\r\n        <pose relative_to='M1::L1'>0 0 0 0 -0 0</pose>\r\n        <parent>M1::L1</parent>\r\n        <child>M1::L2</child>\r\n        <axis>\r\n          <xyz expressed_in='M1::F2'>0 0 1</xyz>\r\n        </axis>\r\n      </joint>\r\n    </model>\r\n  </world>\r\n</sdf>\r\n```\r\nThe parsed model before this PR:\r\n```\r\n<?xml version='1.0'?>\r\n<sdf version='1.7'>\r\n  <world name='default'>\r\n    <model name='ParentModel'>\r\n      <frame name='F1'>  <!-- Frame name not transformed -->\r\n        <pose>0 0 0 1.5708 -0 0</pose>  <!-- Pose not transformed -->\r\n      </frame>\r\n      <frame name='F2'> <!-- Frame name not transformed -->\r\n        <pose relative_to='F1'>0 0 0 0 0.785398 0</pose> <!-- Pose not transformed -->\r\n      </frame>\r\n      <link name='M1::L1'>\r\n        <pose relative_to='F1'>10 0 0 0 -0 1.5708</pose> <!-- Pose transformed but still relative to F1. Resolved pose is incorrect -->\r\n      </link>\r\n      <link name='M1::L2'>\r\n        <pose relative_to='F1'>10 1 0 0 -0 1.5708</pose> <!-- Pose transformed but still relative to F1. Resolved pose is incorrect -->\r\n      </link>\r\n      <joint name='M1::J1' type='revolute'>\r\n        <pose relative_to='M1::L1'>0 0 0 0 -0 0</pose>\r\n        <parent>M1::L1</parent>\r\n        <child>M1::L2</child>\r\n        <axis>\r\n          <xyz expressed_in='F2'>0 0 1</xyz>\r\n        </axis>\r\n      </joint>\r\n    </model>\r\n  </world>\r\n</sdf>\r\n```\r\n\r\nEdit: Update rotation angles of F1 and F2 and add more comments for clarity.", "markup": "markdown", "html": "<p>Nested models currently do not support frame semantics because frames from child models are added to the parent model without any transformation. This PR adds the necessary name and pose transformations to add support for models nested using the <code>&lt;include&gt;</code> tag. This PR also injects the frame <code>&lt;model_name&gt;::__model__</code>,  into the parent model so that the child model's frames, links, and joints are can reference this frame instead of transforming their poses. This is a precursor to full support for composition.</p>\n<p>Eg. The following is the original child model</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"cp\">&lt;?xml version=&quot;1.0&quot; ?&gt;</span>\n<span class=\"nt\">&lt;sdf</span> <span class=\"na\">version=</span><span class=\"s\">&quot;1.7&quot;</span><span class=\"nt\">&gt;</span>\n  <span class=\"nt\">&lt;model</span> <span class=\"na\">name=</span><span class=\"s\">&quot;test_model_with_frames&quot;</span><span class=\"nt\">&gt;</span>\n    <span class=\"nt\">&lt;frame</span> <span class=\"na\">name=</span><span class=\"s\">&quot;F1&quot;</span><span class=\"nt\">&gt;</span>\n      <span class=\"nt\">&lt;pose&gt;</span>0 0 0 1.570796 0 0<span class=\"nt\">&lt;/pose&gt;</span>\n    <span class=\"nt\">&lt;/frame&gt;</span>\n    <span class=\"nt\">&lt;frame</span> <span class=\"na\">name=</span><span class=\"s\">&quot;F2&quot;</span><span class=\"nt\">&gt;</span>\n      <span class=\"nt\">&lt;pose</span> <span class=\"na\">relative_to=</span><span class=\"s\">&quot;F1&quot;</span><span class=\"nt\">&gt;</span>0 0 0 0 0.785398 0<span class=\"nt\">&lt;/pose&gt;</span>\n    <span class=\"nt\">&lt;/frame&gt;</span>\n    <span class=\"nt\">&lt;link</span> <span class=\"na\">name=</span><span class=\"s\">&quot;L1&quot;</span><span class=\"nt\">&gt;</span>\n      <span class=\"nt\">&lt;pose</span> <span class=\"na\">relative_to=</span><span class=\"s\">&quot;F1&quot;</span><span class=\"nt\">/&gt;</span>\n    <span class=\"nt\">&lt;/link&gt;</span>\n    <span class=\"nt\">&lt;link</span> <span class=\"na\">name=</span><span class=\"s\">&quot;L2&quot;</span><span class=\"nt\">&gt;</span>\n      <span class=\"nt\">&lt;pose</span> <span class=\"na\">relative_to=</span><span class=\"s\">&quot;F1&quot;</span><span class=\"nt\">&gt;</span>1 0 0 0 0 0<span class=\"nt\">&lt;/pose&gt;</span>\n    <span class=\"nt\">&lt;/link&gt;</span>\n    <span class=\"nt\">&lt;joint</span> <span class=\"na\">name=</span><span class=\"s\">&quot;J1&quot;</span> <span class=\"na\">type=</span><span class=\"s\">&quot;revolute&quot;</span><span class=\"nt\">&gt;</span>\n      <span class=\"nt\">&lt;pose</span> <span class=\"na\">relative_to=</span><span class=\"s\">&quot;L1&quot;</span><span class=\"nt\">/&gt;</span>\n      <span class=\"nt\">&lt;parent&gt;</span>L1<span class=\"nt\">&lt;/parent&gt;</span>\n      <span class=\"nt\">&lt;child&gt;</span>L2<span class=\"nt\">&lt;/child&gt;</span>\n      <span class=\"nt\">&lt;axis&gt;</span>\n        <span class=\"nt\">&lt;xyz</span> <span class=\"na\">expressed_in=</span><span class=\"s\">&quot;F2&quot;</span><span class=\"nt\">&gt;</span>0 0 1<span class=\"nt\">&lt;/xyz&gt;</span>\n      <span class=\"nt\">&lt;/axis&gt;</span>\n    <span class=\"nt\">&lt;/joint&gt;</span>\n  <span class=\"nt\">&lt;/model&gt;</span>\n<span class=\"nt\">&lt;/sdf&gt;</span>\n</pre></div>\n\n\n<p>and the parent model nesting <code>test_model_with_frames</code> as <code>M1</code></p>\n<div class=\"codehilite\"><pre><span></span><span class=\"nt\">&lt;sdf</span> <span class=\"na\">version=</span><span class=\"s\">&#39;1.7&#39;</span><span class=\"nt\">&gt;</span>\n  <span class=\"nt\">&lt;world</span> <span class=\"na\">name=</span><span class=\"s\">&#39;default&#39;</span><span class=\"nt\">&gt;</span>\n    <span class=\"nt\">&lt;model</span> <span class=\"na\">name=</span><span class=\"s\">&#39;ParentModel&#39;</span><span class=\"nt\">&gt;</span>  \n      <span class=\"nt\">&lt;include&gt;</span> \n        <span class=\"nt\">&lt;uri&gt;</span>/path/to/test_model_with_frames/<span class=\"nt\">&lt;/uri&gt;</span>\n        <span class=\"nt\">&lt;name&gt;</span>M1<span class=\"nt\">&lt;/name&gt;</span>\n        <span class=\"nt\">&lt;pose&gt;</span>10 0 0 0 -0 1.5708<span class=\"nt\">&lt;/pose&gt;</span>\n      <span class=\"nt\">&lt;/include&gt;</span>\n    <span class=\"nt\">&lt;/model&gt;</span>\n  <span class=\"nt\">&lt;/world&gt;</span>\n<span class=\"nt\">&lt;/sdf&gt;</span>\n</pre></div>\n\n\n<p>The parsed model (with some extra tags removed for clarity) will be</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"cp\">&lt;?xml version=&#39;1.0&#39;?&gt;</span>\n<span class=\"nt\">&lt;sdf</span> <span class=\"na\">version=</span><span class=\"s\">&#39;1.7&#39;</span><span class=\"nt\">&gt;</span>\n  <span class=\"nt\">&lt;world</span> <span class=\"na\">name=</span><span class=\"s\">&#39;default&#39;</span><span class=\"nt\">&gt;</span>\n    <span class=\"nt\">&lt;model</span> <span class=\"na\">name=</span><span class=\"s\">&#39;ParentModel&#39;</span><span class=\"nt\">&gt;</span>\n      <span class=\"nt\">&lt;frame</span> <span class=\"na\">name=</span><span class=\"s\">&#39;M1::__model__&#39;</span> <span class=\"na\">attached_to=</span><span class=\"s\">&#39;M1::L1&#39;</span><span class=\"nt\">&gt;</span>\n        <span class=\"nt\">&lt;pose</span> <span class=\"na\">relative_to=</span><span class=\"s\">&#39;__model__&#39;</span><span class=\"nt\">&gt;</span>10 0 0 0 -0 1.5708<span class=\"nt\">&lt;/pose&gt;</span>\n      <span class=\"nt\">&lt;/frame&gt;</span>\n      <span class=\"nt\">&lt;frame</span> <span class=\"na\">name=</span><span class=\"s\">&#39;M1::F1&#39;</span> <span class=\"na\">attached_to=</span><span class=\"s\">&#39;M1::__model__&#39;</span><span class=\"nt\">&gt;</span>\n        <span class=\"nt\">&lt;pose&gt;</span>0 0 0 1.5708 -0 0<span class=\"nt\">&lt;/pose&gt;</span>\n      <span class=\"nt\">&lt;/frame&gt;</span>\n      <span class=\"nt\">&lt;frame</span> <span class=\"na\">name=</span><span class=\"s\">&#39;M1::F2&#39;</span> <span class=\"na\">attached_to=</span><span class=\"s\">&#39;M1::__model__&#39;</span><span class=\"nt\">&gt;</span>\n        <span class=\"nt\">&lt;pose</span> <span class=\"na\">relative_to=</span><span class=\"s\">&#39;M1::F1&#39;</span><span class=\"nt\">&gt;</span>0 0 0 0 0.785398 0<span class=\"nt\">&lt;/pose&gt;</span>\n      <span class=\"nt\">&lt;/frame&gt;</span>\n      <span class=\"nt\">&lt;link</span> <span class=\"na\">name=</span><span class=\"s\">&#39;M1::L1&#39;</span><span class=\"nt\">&gt;</span>\n        <span class=\"nt\">&lt;pose</span> <span class=\"na\">relative_to=</span><span class=\"s\">&#39;M1::F1&#39;</span><span class=\"nt\">&gt;</span>0 0 0 0 -0 0<span class=\"nt\">&lt;/pose&gt;</span>\n      <span class=\"nt\">&lt;/link&gt;</span>\n      <span class=\"nt\">&lt;link</span> <span class=\"na\">name=</span><span class=\"s\">&#39;M1::L2&#39;</span><span class=\"nt\">&gt;</span>\n        <span class=\"nt\">&lt;pose</span> <span class=\"na\">relative_to=</span><span class=\"s\">&#39;M1::F1&#39;</span><span class=\"nt\">&gt;</span>1 0 0 0 -0 0<span class=\"nt\">&lt;/pose&gt;</span>\n      <span class=\"nt\">&lt;/link&gt;</span>\n      <span class=\"nt\">&lt;joint</span> <span class=\"na\">name=</span><span class=\"s\">&#39;M1::J1&#39;</span> <span class=\"na\">type=</span><span class=\"s\">&#39;revolute&#39;</span><span class=\"nt\">&gt;</span>\n        <span class=\"nt\">&lt;pose</span> <span class=\"na\">relative_to=</span><span class=\"s\">&#39;M1::L1&#39;</span><span class=\"nt\">&gt;</span>0 0 0 0 -0 0<span class=\"nt\">&lt;/pose&gt;</span>\n        <span class=\"nt\">&lt;parent&gt;</span>M1::L1<span class=\"nt\">&lt;/parent&gt;</span>\n        <span class=\"nt\">&lt;child&gt;</span>M1::L2<span class=\"nt\">&lt;/child&gt;</span>\n        <span class=\"nt\">&lt;axis&gt;</span>\n          <span class=\"nt\">&lt;xyz</span> <span class=\"na\">expressed_in=</span><span class=\"s\">&#39;M1::F2&#39;</span><span class=\"nt\">&gt;</span>0 0 1<span class=\"nt\">&lt;/xyz&gt;</span>\n        <span class=\"nt\">&lt;/axis&gt;</span>\n      <span class=\"nt\">&lt;/joint&gt;</span>\n    <span class=\"nt\">&lt;/model&gt;</span>\n  <span class=\"nt\">&lt;/world&gt;</span>\n<span class=\"nt\">&lt;/sdf&gt;</span>\n</pre></div>\n\n\n<p>The parsed model before this PR:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"cp\">&lt;?xml version=&#39;1.0&#39;?&gt;</span>\n<span class=\"nt\">&lt;sdf</span> <span class=\"na\">version=</span><span class=\"s\">&#39;1.7&#39;</span><span class=\"nt\">&gt;</span>\n  <span class=\"nt\">&lt;world</span> <span class=\"na\">name=</span><span class=\"s\">&#39;default&#39;</span><span class=\"nt\">&gt;</span>\n    <span class=\"nt\">&lt;model</span> <span class=\"na\">name=</span><span class=\"s\">&#39;ParentModel&#39;</span><span class=\"nt\">&gt;</span>\n      <span class=\"nt\">&lt;frame</span> <span class=\"na\">name=</span><span class=\"s\">&#39;F1&#39;</span><span class=\"nt\">&gt;</span>  <span class=\"c\">&lt;!-- Frame name not transformed --&gt;</span>\n        <span class=\"nt\">&lt;pose&gt;</span>0 0 0 1.5708 -0 0<span class=\"nt\">&lt;/pose&gt;</span>  <span class=\"c\">&lt;!-- Pose not transformed --&gt;</span>\n      <span class=\"nt\">&lt;/frame&gt;</span>\n      <span class=\"nt\">&lt;frame</span> <span class=\"na\">name=</span><span class=\"s\">&#39;F2&#39;</span><span class=\"nt\">&gt;</span> <span class=\"c\">&lt;!-- Frame name not transformed --&gt;</span>\n        <span class=\"nt\">&lt;pose</span> <span class=\"na\">relative_to=</span><span class=\"s\">&#39;F1&#39;</span><span class=\"nt\">&gt;</span>0 0 0 0 0.785398 0<span class=\"nt\">&lt;/pose&gt;</span> <span class=\"c\">&lt;!-- Pose not transformed --&gt;</span>\n      <span class=\"nt\">&lt;/frame&gt;</span>\n      <span class=\"nt\">&lt;link</span> <span class=\"na\">name=</span><span class=\"s\">&#39;M1::L1&#39;</span><span class=\"nt\">&gt;</span>\n        <span class=\"nt\">&lt;pose</span> <span class=\"na\">relative_to=</span><span class=\"s\">&#39;F1&#39;</span><span class=\"nt\">&gt;</span>10 0 0 0 -0 1.5708<span class=\"nt\">&lt;/pose&gt;</span> <span class=\"c\">&lt;!-- Pose transformed but still relative to F1. Resolved pose is incorrect --&gt;</span>\n      <span class=\"nt\">&lt;/link&gt;</span>\n      <span class=\"nt\">&lt;link</span> <span class=\"na\">name=</span><span class=\"s\">&#39;M1::L2&#39;</span><span class=\"nt\">&gt;</span>\n        <span class=\"nt\">&lt;pose</span> <span class=\"na\">relative_to=</span><span class=\"s\">&#39;F1&#39;</span><span class=\"nt\">&gt;</span>10 1 0 0 -0 1.5708<span class=\"nt\">&lt;/pose&gt;</span> <span class=\"c\">&lt;!-- Pose transformed but still relative to F1. Resolved pose is incorrect --&gt;</span>\n      <span class=\"nt\">&lt;/link&gt;</span>\n      <span class=\"nt\">&lt;joint</span> <span class=\"na\">name=</span><span class=\"s\">&#39;M1::J1&#39;</span> <span class=\"na\">type=</span><span class=\"s\">&#39;revolute&#39;</span><span class=\"nt\">&gt;</span>\n        <span class=\"nt\">&lt;pose</span> <span class=\"na\">relative_to=</span><span class=\"s\">&#39;M1::L1&#39;</span><span class=\"nt\">&gt;</span>0 0 0 0 -0 0<span class=\"nt\">&lt;/pose&gt;</span>\n        <span class=\"nt\">&lt;parent&gt;</span>M1::L1<span class=\"nt\">&lt;/parent&gt;</span>\n        <span class=\"nt\">&lt;child&gt;</span>M1::L2<span class=\"nt\">&lt;/child&gt;</span>\n        <span class=\"nt\">&lt;axis&gt;</span>\n          <span class=\"nt\">&lt;xyz</span> <span class=\"na\">expressed_in=</span><span class=\"s\">&#39;F2&#39;</span><span class=\"nt\">&gt;</span>0 0 1<span class=\"nt\">&lt;/xyz&gt;</span>\n        <span class=\"nt\">&lt;/axis&gt;</span>\n      <span class=\"nt\">&lt;/joint&gt;</span>\n    <span class=\"nt\">&lt;/model&gt;</span>\n  <span class=\"nt\">&lt;/world&gt;</span>\n<span class=\"nt\">&lt;/sdf&gt;</span>\n</pre></div>\n\n\n<p>Edit: Update rotation angles of F1 and F2 and add more comments for clarity.</p>", "type": "rendered"}, "title": {"raw": "Support frame semantics in for models nested with <include>", "markup": "markdown", "html": "<p>Support frame semantics in for models nested with &lt;include&gt;</p>", "type": "rendered"}}, "type": "pullrequest", "description": "Nested models currently do not support frame semantics because frames from child models are added to the parent model without any transformation. This PR adds the necessary name and pose transformations to add support for models nested using the `<include>` tag. This PR also injects the frame `<model_name>::__model__`,  into the parent model so that the child model's frames, links, and joints are can reference this frame instead of transforming their poses. This is a precursor to full support for composition.\r\n\r\nEg. The following is the original child model\r\n```\r\n<?xml version=\"1.0\" ?>\r\n<sdf version=\"1.7\">\r\n  <model name=\"test_model_with_frames\">\r\n    <frame name=\"F1\">\r\n      <pose>0 0 0 1.570796 0 0</pose>\r\n    </frame>\r\n    <frame name=\"F2\">\r\n      <pose relative_to=\"F1\">0 0 0 0 0.785398 0</pose>\r\n    </frame>\r\n    <link name=\"L1\">\r\n      <pose relative_to=\"F1\"/>\r\n    </link>\r\n    <link name=\"L2\">\r\n      <pose relative_to=\"F1\">1 0 0 0 0 0</pose>\r\n    </link>\r\n    <joint name=\"J1\" type=\"revolute\">\r\n      <pose relative_to=\"L1\"/>\r\n      <parent>L1</parent>\r\n      <child>L2</child>\r\n      <axis>\r\n        <xyz expressed_in=\"F2\">0 0 1</xyz>\r\n      </axis>\r\n    </joint>\r\n  </model>\r\n</sdf>\r\n```\r\nand the parent model nesting `test_model_with_frames` as `M1`\r\n```\r\n<sdf version='1.7'>\r\n  <world name='default'>\r\n    <model name='ParentModel'>  \r\n      <include> \r\n        <uri>/path/to/test_model_with_frames/</uri>\r\n        <name>M1</name>\r\n        <pose>10 0 0 0 -0 1.5708</pose>\r\n      </include>\r\n    </model>\r\n  </world>\r\n</sdf>\r\n```\r\nThe parsed model (with some extra tags removed for clarity) will be\r\n```\r\n<?xml version='1.0'?>\r\n<sdf version='1.7'>\r\n  <world name='default'>\r\n    <model name='ParentModel'>\r\n      <frame name='M1::__model__' attached_to='M1::L1'>\r\n        <pose relative_to='__model__'>10 0 0 0 -0 1.5708</pose>\r\n      </frame>\r\n      <frame name='M1::F1' attached_to='M1::__model__'>\r\n        <pose>0 0 0 1.5708 -0 0</pose>\r\n      </frame>\r\n      <frame name='M1::F2' attached_to='M1::__model__'>\r\n        <pose relative_to='M1::F1'>0 0 0 0 0.785398 0</pose>\r\n      </frame>\r\n      <link name='M1::L1'>\r\n        <pose relative_to='M1::F1'>0 0 0 0 -0 0</pose>\r\n      </link>\r\n      <link name='M1::L2'>\r\n        <pose relative_to='M1::F1'>1 0 0 0 -0 0</pose>\r\n      </link>\r\n      <joint name='M1::J1' type='revolute'>\r\n        <pose relative_to='M1::L1'>0 0 0 0 -0 0</pose>\r\n        <parent>M1::L1</parent>\r\n        <child>M1::L2</child>\r\n        <axis>\r\n          <xyz expressed_in='M1::F2'>0 0 1</xyz>\r\n        </axis>\r\n      </joint>\r\n    </model>\r\n  </world>\r\n</sdf>\r\n```\r\nThe parsed model before this PR:\r\n```\r\n<?xml version='1.0'?>\r\n<sdf version='1.7'>\r\n  <world name='default'>\r\n    <model name='ParentModel'>\r\n      <frame name='F1'>  <!-- Frame name not transformed -->\r\n        <pose>0 0 0 1.5708 -0 0</pose>  <!-- Pose not transformed -->\r\n      </frame>\r\n      <frame name='F2'> <!-- Frame name not transformed -->\r\n        <pose relative_to='F1'>0 0 0 0 0.785398 0</pose> <!-- Pose not transformed -->\r\n      </frame>\r\n      <link name='M1::L1'>\r\n        <pose relative_to='F1'>10 0 0 0 -0 1.5708</pose> <!-- Pose transformed but still relative to F1. Resolved pose is incorrect -->\r\n      </link>\r\n      <link name='M1::L2'>\r\n        <pose relative_to='F1'>10 1 0 0 -0 1.5708</pose> <!-- Pose transformed but still relative to F1. Resolved pose is incorrect -->\r\n      </link>\r\n      <joint name='M1::J1' type='revolute'>\r\n        <pose relative_to='M1::L1'>0 0 0 0 -0 0</pose>\r\n        <parent>M1::L1</parent>\r\n        <child>M1::L2</child>\r\n        <axis>\r\n          <xyz expressed_in='F2'>0 0 1</xyz>\r\n        </axis>\r\n      </joint>\r\n    </model>\r\n  </world>\r\n</sdf>\r\n```\r\n\r\nEdit: Update rotation angles of F1 and F2 and add more comments for clarity.", "links": {"decline": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/sdformat/pullrequests/668/decline"}, "diffstat": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/sdformat/diffstat/osrf/sdformat:ea1ac25cc845%0Dc058c35d6532?from_pullrequest_id=668"}, "commits": {"href": "data/repositories/osrf/sdformat/pullrequests/668/commits.json"}, "self": {"href": "data/repositories/osrf/sdformat/pullrequests/668.json"}, "comments": {"href": "data/repositories/osrf/sdformat/pullrequests/668/comments_page=1.json"}, "merge": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/sdformat/pullrequests/668/merge"}, "html": {"href": "#!/osrf/sdformat/pull-requests/668"}, "activity": {"href": "data/repositories/osrf/sdformat/pullrequests/668/activity.json"}, "diff": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/sdformat/diff/osrf/sdformat:ea1ac25cc845%0Dc058c35d6532?from_pullrequest_id=668"}, "approve": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/sdformat/pullrequests/668/approve"}, "statuses": {"href": "data/repositories/osrf/sdformat/pullrequests/668/statuses_page=1.json"}}, "title": "Support frame semantics in for models nested with <include>", "close_source_branch": true, "reviewers": [{"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, {"display_name": "Eric Cousineau", "uuid": "{71c9fc05-02c8-45e1-adfa-13c8ac3399dc}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B71c9fc05-02c8-45e1-adfa-13c8ac3399dc%7D"}, "html": {"href": "https://bitbucket.org/%7B71c9fc05-02c8-45e1-adfa-13c8ac3399dc%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557057:f3a199b9-5784-4964-9644-6ef224bc7dc1/28a4d748-0fd4-4038-bf3d-55a77eb73ede/128"}}, "nickname": "eacousineau", "type": "user", "account_id": "557057:f3a199b9-5784-4964-9644-6ef224bc7dc1"}], "id": 668, "destination": {"commit": {"hash": "c058c35d6532", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/sdformat/commit/c058c35d6532.json"}, "html": {"href": "#!/osrf/sdformat/commits/c058c35d6532"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/sdformat.json"}, "html": {"href": "#!/osrf/sdformat"}, "avatar": {"href": "data/bytebucket.org/ravatar/{b6d52f9f-b070-41c0-807c-94af07ea375b}ts=1606789"}}, "type": "repository", "name": "sdformat", "full_name": "osrf/sdformat", "uuid": "{b6d52f9f-b070-41c0-807c-94af07ea375b}"}, "branch": {"name": "sdf9"}}, "created_on": "2020-02-26T19:58:41.518660+00:00", "summary": {"raw": "Nested models currently do not support frame semantics because frames from child models are added to the parent model without any transformation. This PR adds the necessary name and pose transformations to add support for models nested using the `<include>` tag. This PR also injects the frame `<model_name>::__model__`,  into the parent model so that the child model's frames, links, and joints are can reference this frame instead of transforming their poses. This is a precursor to full support for composition.\r\n\r\nEg. The following is the original child model\r\n```\r\n<?xml version=\"1.0\" ?>\r\n<sdf version=\"1.7\">\r\n  <model name=\"test_model_with_frames\">\r\n    <frame name=\"F1\">\r\n      <pose>0 0 0 1.570796 0 0</pose>\r\n    </frame>\r\n    <frame name=\"F2\">\r\n      <pose relative_to=\"F1\">0 0 0 0 0.785398 0</pose>\r\n    </frame>\r\n    <link name=\"L1\">\r\n      <pose relative_to=\"F1\"/>\r\n    </link>\r\n    <link name=\"L2\">\r\n      <pose relative_to=\"F1\">1 0 0 0 0 0</pose>\r\n    </link>\r\n    <joint name=\"J1\" type=\"revolute\">\r\n      <pose relative_to=\"L1\"/>\r\n      <parent>L1</parent>\r\n      <child>L2</child>\r\n      <axis>\r\n        <xyz expressed_in=\"F2\">0 0 1</xyz>\r\n      </axis>\r\n    </joint>\r\n  </model>\r\n</sdf>\r\n```\r\nand the parent model nesting `test_model_with_frames` as `M1`\r\n```\r\n<sdf version='1.7'>\r\n  <world name='default'>\r\n    <model name='ParentModel'>  \r\n      <include> \r\n        <uri>/path/to/test_model_with_frames/</uri>\r\n        <name>M1</name>\r\n        <pose>10 0 0 0 -0 1.5708</pose>\r\n      </include>\r\n    </model>\r\n  </world>\r\n</sdf>\r\n```\r\nThe parsed model (with some extra tags removed for clarity) will be\r\n```\r\n<?xml version='1.0'?>\r\n<sdf version='1.7'>\r\n  <world name='default'>\r\n    <model name='ParentModel'>\r\n      <frame name='M1::__model__' attached_to='M1::L1'>\r\n        <pose relative_to='__model__'>10 0 0 0 -0 1.5708</pose>\r\n      </frame>\r\n      <frame name='M1::F1' attached_to='M1::__model__'>\r\n        <pose>0 0 0 1.5708 -0 0</pose>\r\n      </frame>\r\n      <frame name='M1::F2' attached_to='M1::__model__'>\r\n        <pose relative_to='M1::F1'>0 0 0 0 0.785398 0</pose>\r\n      </frame>\r\n      <link name='M1::L1'>\r\n        <pose relative_to='M1::F1'>0 0 0 0 -0 0</pose>\r\n      </link>\r\n      <link name='M1::L2'>\r\n        <pose relative_to='M1::F1'>1 0 0 0 -0 0</pose>\r\n      </link>\r\n      <joint name='M1::J1' type='revolute'>\r\n        <pose relative_to='M1::L1'>0 0 0 0 -0 0</pose>\r\n        <parent>M1::L1</parent>\r\n        <child>M1::L2</child>\r\n        <axis>\r\n          <xyz expressed_in='M1::F2'>0 0 1</xyz>\r\n        </axis>\r\n      </joint>\r\n    </model>\r\n  </world>\r\n</sdf>\r\n```\r\nThe parsed model before this PR:\r\n```\r\n<?xml version='1.0'?>\r\n<sdf version='1.7'>\r\n  <world name='default'>\r\n    <model name='ParentModel'>\r\n      <frame name='F1'>  <!-- Frame name not transformed -->\r\n        <pose>0 0 0 1.5708 -0 0</pose>  <!-- Pose not transformed -->\r\n      </frame>\r\n      <frame name='F2'> <!-- Frame name not transformed -->\r\n        <pose relative_to='F1'>0 0 0 0 0.785398 0</pose> <!-- Pose not transformed -->\r\n      </frame>\r\n      <link name='M1::L1'>\r\n        <pose relative_to='F1'>10 0 0 0 -0 1.5708</pose> <!-- Pose transformed but still relative to F1. Resolved pose is incorrect -->\r\n      </link>\r\n      <link name='M1::L2'>\r\n        <pose relative_to='F1'>10 1 0 0 -0 1.5708</pose> <!-- Pose transformed but still relative to F1. Resolved pose is incorrect -->\r\n      </link>\r\n      <joint name='M1::J1' type='revolute'>\r\n        <pose relative_to='M1::L1'>0 0 0 0 -0 0</pose>\r\n        <parent>M1::L1</parent>\r\n        <child>M1::L2</child>\r\n        <axis>\r\n          <xyz expressed_in='F2'>0 0 1</xyz>\r\n        </axis>\r\n      </joint>\r\n    </model>\r\n  </world>\r\n</sdf>\r\n```\r\n\r\nEdit: Update rotation angles of F1 and F2 and add more comments for clarity.", "markup": "markdown", "html": "<p>Nested models currently do not support frame semantics because frames from child models are added to the parent model without any transformation. This PR adds the necessary name and pose transformations to add support for models nested using the <code>&lt;include&gt;</code> tag. This PR also injects the frame <code>&lt;model_name&gt;::__model__</code>,  into the parent model so that the child model's frames, links, and joints are can reference this frame instead of transforming their poses. This is a precursor to full support for composition.</p>\n<p>Eg. The following is the original child model</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"cp\">&lt;?xml version=&quot;1.0&quot; ?&gt;</span>\n<span class=\"nt\">&lt;sdf</span> <span class=\"na\">version=</span><span class=\"s\">&quot;1.7&quot;</span><span class=\"nt\">&gt;</span>\n  <span class=\"nt\">&lt;model</span> <span class=\"na\">name=</span><span class=\"s\">&quot;test_model_with_frames&quot;</span><span class=\"nt\">&gt;</span>\n    <span class=\"nt\">&lt;frame</span> <span class=\"na\">name=</span><span class=\"s\">&quot;F1&quot;</span><span class=\"nt\">&gt;</span>\n      <span class=\"nt\">&lt;pose&gt;</span>0 0 0 1.570796 0 0<span class=\"nt\">&lt;/pose&gt;</span>\n    <span class=\"nt\">&lt;/frame&gt;</span>\n    <span class=\"nt\">&lt;frame</span> <span class=\"na\">name=</span><span class=\"s\">&quot;F2&quot;</span><span class=\"nt\">&gt;</span>\n      <span class=\"nt\">&lt;pose</span> <span class=\"na\">relative_to=</span><span class=\"s\">&quot;F1&quot;</span><span class=\"nt\">&gt;</span>0 0 0 0 0.785398 0<span class=\"nt\">&lt;/pose&gt;</span>\n    <span class=\"nt\">&lt;/frame&gt;</span>\n    <span class=\"nt\">&lt;link</span> <span class=\"na\">name=</span><span class=\"s\">&quot;L1&quot;</span><span class=\"nt\">&gt;</span>\n      <span class=\"nt\">&lt;pose</span> <span class=\"na\">relative_to=</span><span class=\"s\">&quot;F1&quot;</span><span class=\"nt\">/&gt;</span>\n    <span class=\"nt\">&lt;/link&gt;</span>\n    <span class=\"nt\">&lt;link</span> <span class=\"na\">name=</span><span class=\"s\">&quot;L2&quot;</span><span class=\"nt\">&gt;</span>\n      <span class=\"nt\">&lt;pose</span> <span class=\"na\">relative_to=</span><span class=\"s\">&quot;F1&quot;</span><span class=\"nt\">&gt;</span>1 0 0 0 0 0<span class=\"nt\">&lt;/pose&gt;</span>\n    <span class=\"nt\">&lt;/link&gt;</span>\n    <span class=\"nt\">&lt;joint</span> <span class=\"na\">name=</span><span class=\"s\">&quot;J1&quot;</span> <span class=\"na\">type=</span><span class=\"s\">&quot;revolute&quot;</span><span class=\"nt\">&gt;</span>\n      <span class=\"nt\">&lt;pose</span> <span class=\"na\">relative_to=</span><span class=\"s\">&quot;L1&quot;</span><span class=\"nt\">/&gt;</span>\n      <span class=\"nt\">&lt;parent&gt;</span>L1<span class=\"nt\">&lt;/parent&gt;</span>\n      <span class=\"nt\">&lt;child&gt;</span>L2<span class=\"nt\">&lt;/child&gt;</span>\n      <span class=\"nt\">&lt;axis&gt;</span>\n        <span class=\"nt\">&lt;xyz</span> <span class=\"na\">expressed_in=</span><span class=\"s\">&quot;F2&quot;</span><span class=\"nt\">&gt;</span>0 0 1<span class=\"nt\">&lt;/xyz&gt;</span>\n      <span class=\"nt\">&lt;/axis&gt;</span>\n    <span class=\"nt\">&lt;/joint&gt;</span>\n  <span class=\"nt\">&lt;/model&gt;</span>\n<span class=\"nt\">&lt;/sdf&gt;</span>\n</pre></div>\n\n\n<p>and the parent model nesting <code>test_model_with_frames</code> as <code>M1</code></p>\n<div class=\"codehilite\"><pre><span></span><span class=\"nt\">&lt;sdf</span> <span class=\"na\">version=</span><span class=\"s\">&#39;1.7&#39;</span><span class=\"nt\">&gt;</span>\n  <span class=\"nt\">&lt;world</span> <span class=\"na\">name=</span><span class=\"s\">&#39;default&#39;</span><span class=\"nt\">&gt;</span>\n    <span class=\"nt\">&lt;model</span> <span class=\"na\">name=</span><span class=\"s\">&#39;ParentModel&#39;</span><span class=\"nt\">&gt;</span>  \n      <span class=\"nt\">&lt;include&gt;</span> \n        <span class=\"nt\">&lt;uri&gt;</span>/path/to/test_model_with_frames/<span class=\"nt\">&lt;/uri&gt;</span>\n        <span class=\"nt\">&lt;name&gt;</span>M1<span class=\"nt\">&lt;/name&gt;</span>\n        <span class=\"nt\">&lt;pose&gt;</span>10 0 0 0 -0 1.5708<span class=\"nt\">&lt;/pose&gt;</span>\n      <span class=\"nt\">&lt;/include&gt;</span>\n    <span class=\"nt\">&lt;/model&gt;</span>\n  <span class=\"nt\">&lt;/world&gt;</span>\n<span class=\"nt\">&lt;/sdf&gt;</span>\n</pre></div>\n\n\n<p>The parsed model (with some extra tags removed for clarity) will be</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"cp\">&lt;?xml version=&#39;1.0&#39;?&gt;</span>\n<span class=\"nt\">&lt;sdf</span> <span class=\"na\">version=</span><span class=\"s\">&#39;1.7&#39;</span><span class=\"nt\">&gt;</span>\n  <span class=\"nt\">&lt;world</span> <span class=\"na\">name=</span><span class=\"s\">&#39;default&#39;</span><span class=\"nt\">&gt;</span>\n    <span class=\"nt\">&lt;model</span> <span class=\"na\">name=</span><span class=\"s\">&#39;ParentModel&#39;</span><span class=\"nt\">&gt;</span>\n      <span class=\"nt\">&lt;frame</span> <span class=\"na\">name=</span><span class=\"s\">&#39;M1::__model__&#39;</span> <span class=\"na\">attached_to=</span><span class=\"s\">&#39;M1::L1&#39;</span><span class=\"nt\">&gt;</span>\n        <span class=\"nt\">&lt;pose</span> <span class=\"na\">relative_to=</span><span class=\"s\">&#39;__model__&#39;</span><span class=\"nt\">&gt;</span>10 0 0 0 -0 1.5708<span class=\"nt\">&lt;/pose&gt;</span>\n      <span class=\"nt\">&lt;/frame&gt;</span>\n      <span class=\"nt\">&lt;frame</span> <span class=\"na\">name=</span><span class=\"s\">&#39;M1::F1&#39;</span> <span class=\"na\">attached_to=</span><span class=\"s\">&#39;M1::__model__&#39;</span><span class=\"nt\">&gt;</span>\n        <span class=\"nt\">&lt;pose&gt;</span>0 0 0 1.5708 -0 0<span class=\"nt\">&lt;/pose&gt;</span>\n      <span class=\"nt\">&lt;/frame&gt;</span>\n      <span class=\"nt\">&lt;frame</span> <span class=\"na\">name=</span><span class=\"s\">&#39;M1::F2&#39;</span> <span class=\"na\">attached_to=</span><span class=\"s\">&#39;M1::__model__&#39;</span><span class=\"nt\">&gt;</span>\n        <span class=\"nt\">&lt;pose</span> <span class=\"na\">relative_to=</span><span class=\"s\">&#39;M1::F1&#39;</span><span class=\"nt\">&gt;</span>0 0 0 0 0.785398 0<span class=\"nt\">&lt;/pose&gt;</span>\n      <span class=\"nt\">&lt;/frame&gt;</span>\n      <span class=\"nt\">&lt;link</span> <span class=\"na\">name=</span><span class=\"s\">&#39;M1::L1&#39;</span><span class=\"nt\">&gt;</span>\n        <span class=\"nt\">&lt;pose</span> <span class=\"na\">relative_to=</span><span class=\"s\">&#39;M1::F1&#39;</span><span class=\"nt\">&gt;</span>0 0 0 0 -0 0<span class=\"nt\">&lt;/pose&gt;</span>\n      <span class=\"nt\">&lt;/link&gt;</span>\n      <span class=\"nt\">&lt;link</span> <span class=\"na\">name=</span><span class=\"s\">&#39;M1::L2&#39;</span><span class=\"nt\">&gt;</span>\n        <span class=\"nt\">&lt;pose</span> <span class=\"na\">relative_to=</span><span class=\"s\">&#39;M1::F1&#39;</span><span class=\"nt\">&gt;</span>1 0 0 0 -0 0<span class=\"nt\">&lt;/pose&gt;</span>\n      <span class=\"nt\">&lt;/link&gt;</span>\n      <span class=\"nt\">&lt;joint</span> <span class=\"na\">name=</span><span class=\"s\">&#39;M1::J1&#39;</span> <span class=\"na\">type=</span><span class=\"s\">&#39;revolute&#39;</span><span class=\"nt\">&gt;</span>\n        <span class=\"nt\">&lt;pose</span> <span class=\"na\">relative_to=</span><span class=\"s\">&#39;M1::L1&#39;</span><span class=\"nt\">&gt;</span>0 0 0 0 -0 0<span class=\"nt\">&lt;/pose&gt;</span>\n        <span class=\"nt\">&lt;parent&gt;</span>M1::L1<span class=\"nt\">&lt;/parent&gt;</span>\n        <span class=\"nt\">&lt;child&gt;</span>M1::L2<span class=\"nt\">&lt;/child&gt;</span>\n        <span class=\"nt\">&lt;axis&gt;</span>\n          <span class=\"nt\">&lt;xyz</span> <span class=\"na\">expressed_in=</span><span class=\"s\">&#39;M1::F2&#39;</span><span class=\"nt\">&gt;</span>0 0 1<span class=\"nt\">&lt;/xyz&gt;</span>\n        <span class=\"nt\">&lt;/axis&gt;</span>\n      <span class=\"nt\">&lt;/joint&gt;</span>\n    <span class=\"nt\">&lt;/model&gt;</span>\n  <span class=\"nt\">&lt;/world&gt;</span>\n<span class=\"nt\">&lt;/sdf&gt;</span>\n</pre></div>\n\n\n<p>The parsed model before this PR:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"cp\">&lt;?xml version=&#39;1.0&#39;?&gt;</span>\n<span class=\"nt\">&lt;sdf</span> <span class=\"na\">version=</span><span class=\"s\">&#39;1.7&#39;</span><span class=\"nt\">&gt;</span>\n  <span class=\"nt\">&lt;world</span> <span class=\"na\">name=</span><span class=\"s\">&#39;default&#39;</span><span class=\"nt\">&gt;</span>\n    <span class=\"nt\">&lt;model</span> <span class=\"na\">name=</span><span class=\"s\">&#39;ParentModel&#39;</span><span class=\"nt\">&gt;</span>\n      <span class=\"nt\">&lt;frame</span> <span class=\"na\">name=</span><span class=\"s\">&#39;F1&#39;</span><span class=\"nt\">&gt;</span>  <span class=\"c\">&lt;!-- Frame name not transformed --&gt;</span>\n        <span class=\"nt\">&lt;pose&gt;</span>0 0 0 1.5708 -0 0<span class=\"nt\">&lt;/pose&gt;</span>  <span class=\"c\">&lt;!-- Pose not transformed --&gt;</span>\n      <span class=\"nt\">&lt;/frame&gt;</span>\n      <span class=\"nt\">&lt;frame</span> <span class=\"na\">name=</span><span class=\"s\">&#39;F2&#39;</span><span class=\"nt\">&gt;</span> <span class=\"c\">&lt;!-- Frame name not transformed --&gt;</span>\n        <span class=\"nt\">&lt;pose</span> <span class=\"na\">relative_to=</span><span class=\"s\">&#39;F1&#39;</span><span class=\"nt\">&gt;</span>0 0 0 0 0.785398 0<span class=\"nt\">&lt;/pose&gt;</span> <span class=\"c\">&lt;!-- Pose not transformed --&gt;</span>\n      <span class=\"nt\">&lt;/frame&gt;</span>\n      <span class=\"nt\">&lt;link</span> <span class=\"na\">name=</span><span class=\"s\">&#39;M1::L1&#39;</span><span class=\"nt\">&gt;</span>\n        <span class=\"nt\">&lt;pose</span> <span class=\"na\">relative_to=</span><span class=\"s\">&#39;F1&#39;</span><span class=\"nt\">&gt;</span>10 0 0 0 -0 1.5708<span class=\"nt\">&lt;/pose&gt;</span> <span class=\"c\">&lt;!-- Pose transformed but still relative to F1. Resolved pose is incorrect --&gt;</span>\n      <span class=\"nt\">&lt;/link&gt;</span>\n      <span class=\"nt\">&lt;link</span> <span class=\"na\">name=</span><span class=\"s\">&#39;M1::L2&#39;</span><span class=\"nt\">&gt;</span>\n        <span class=\"nt\">&lt;pose</span> <span class=\"na\">relative_to=</span><span class=\"s\">&#39;F1&#39;</span><span class=\"nt\">&gt;</span>10 1 0 0 -0 1.5708<span class=\"nt\">&lt;/pose&gt;</span> <span class=\"c\">&lt;!-- Pose transformed but still relative to F1. Resolved pose is incorrect --&gt;</span>\n      <span class=\"nt\">&lt;/link&gt;</span>\n      <span class=\"nt\">&lt;joint</span> <span class=\"na\">name=</span><span class=\"s\">&#39;M1::J1&#39;</span> <span class=\"na\">type=</span><span class=\"s\">&#39;revolute&#39;</span><span class=\"nt\">&gt;</span>\n        <span class=\"nt\">&lt;pose</span> <span class=\"na\">relative_to=</span><span class=\"s\">&#39;M1::L1&#39;</span><span class=\"nt\">&gt;</span>0 0 0 0 -0 0<span class=\"nt\">&lt;/pose&gt;</span>\n        <span class=\"nt\">&lt;parent&gt;</span>M1::L1<span class=\"nt\">&lt;/parent&gt;</span>\n        <span class=\"nt\">&lt;child&gt;</span>M1::L2<span class=\"nt\">&lt;/child&gt;</span>\n        <span class=\"nt\">&lt;axis&gt;</span>\n          <span class=\"nt\">&lt;xyz</span> <span class=\"na\">expressed_in=</span><span class=\"s\">&#39;F2&#39;</span><span class=\"nt\">&gt;</span>0 0 1<span class=\"nt\">&lt;/xyz&gt;</span>\n        <span class=\"nt\">&lt;/axis&gt;</span>\n      <span class=\"nt\">&lt;/joint&gt;</span>\n    <span class=\"nt\">&lt;/model&gt;</span>\n  <span class=\"nt\">&lt;/world&gt;</span>\n<span class=\"nt\">&lt;/sdf&gt;</span>\n</pre></div>\n\n\n<p>Edit: Update rotation angles of F1 and F2 and add more comments for clarity.</p>", "type": "rendered"}, "source": {"commit": {"hash": "ea1ac25cc845", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/sdformat/commit/ea1ac25cc845.json"}, "html": {"href": "#!/osrf/sdformat/commits/ea1ac25cc845"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/sdformat.json"}, "html": {"href": "#!/osrf/sdformat"}, "avatar": {"href": "data/bytebucket.org/ravatar/{b6d52f9f-b070-41c0-807c-94af07ea375b}ts=1606789"}}, "type": "repository", "name": "sdformat", "full_name": "osrf/sdformat", "uuid": "{b6d52f9f-b070-41c0-807c-94af07ea375b}"}, "branch": {"name": "nested_models_with_frames"}}, "comment_count": 22, "state": "OPEN", "task_count": 0, "participants": [{"role": "REVIEWER", "participated_on": "2020-02-27T19:19:27.679181+00:00", "type": "participant", "approved": false, "user": {"display_name": "Eric Cousineau", "uuid": "{71c9fc05-02c8-45e1-adfa-13c8ac3399dc}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B71c9fc05-02c8-45e1-adfa-13c8ac3399dc%7D"}, "html": {"href": "https://bitbucket.org/%7B71c9fc05-02c8-45e1-adfa-13c8ac3399dc%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557057:f3a199b9-5784-4964-9644-6ef224bc7dc1/28a4d748-0fd4-4038-bf3d-55a77eb73ede/128"}}, "nickname": "eacousineau", "type": "user", "account_id": "557057:f3a199b9-5784-4964-9644-6ef224bc7dc1"}}, {"role": "REVIEWER", "participated_on": "2020-03-18T00:30:20.442992+00:00", "type": "participant", "approved": true, "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}}, {"role": "PARTICIPANT", "participated_on": "2020-03-17T16:34:19.654215+00:00", "type": "participant", "approved": false, "user": {"display_name": "Addisu Z. Taddese", "uuid": "{9d7fdc68-d270-4080-bf03-4df0d0dbf635}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B9d7fdc68-d270-4080-bf03-4df0d0dbf635%7D"}, "html": {"href": "https://bitbucket.org/%7B9d7fdc68-d270-4080-bf03-4df0d0dbf635%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:90bc87b0-2886-4377-a17c-3a6629a697ff/afbf9be5-1e4c-4810-89d4-e58831f34b11/128"}}, "nickname": "azeey", "type": "user", "account_id": "557058:90bc87b0-2886-4377-a17c-3a6629a697ff"}}], "reason": "", "updated_on": "2020-03-18T00:30:20.442992+00:00", "author": {"display_name": "Addisu Z. Taddese", "uuid": "{9d7fdc68-d270-4080-bf03-4df0d0dbf635}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B9d7fdc68-d270-4080-bf03-4df0d0dbf635%7D"}, "html": {"href": "https://bitbucket.org/%7B9d7fdc68-d270-4080-bf03-4df0d0dbf635%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:90bc87b0-2886-4377-a17c-3a6629a697ff/afbf9be5-1e4c-4810-89d4-e58831f34b11/128"}}, "nickname": "azeey", "type": "user", "account_id": "557058:90bc87b0-2886-4377-a17c-3a6629a697ff"}, "merge_commit": null, "closed_by": null}