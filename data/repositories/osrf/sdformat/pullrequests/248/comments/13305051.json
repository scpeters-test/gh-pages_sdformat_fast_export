{"links": {"self": {"href": "data/repositories/osrf/sdformat/pullrequests/248/comments/13305051.json"}, "code": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/sdformat/diff/carlosmccosta/sdformat:None..None?path=sdf%2F1.6%2Fcamera.sdf"}, "html": {"href": "#!/osrf/sdformat/pull-requests/248/_/diff#comment-13305051"}}, "parent": {"id": 13257357, "links": {"self": {"href": "data/repositories/osrf/sdformat/pullrequests/248/comments/13257357.json"}, "html": {"href": "#!/osrf/sdformat/pull-requests/248/_/diff#comment-13257357"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 248, "links": {"self": {"href": "data/repositories/osrf/sdformat/pullrequests/248.json"}, "html": {"href": "#!/osrf/sdformat/pull-requests/248"}}, "title": "Added camera intrinsics (fx, fy, cx, cy, s)."}, "content": {"raw": "After reviewing the code related with the [<lens>](http://gazebosim.org/tutorials?tut=wide_angle_camera&branch=wideanglecamera) sdf ([pr gazebo](https://bitbucket.org/osrf/gazebo/pull-requests/1866/wideangle-camera/diff), [pr sdf](#!/osrf/sdformat/pull-requests/215/camera-lens-description-replaces-213/diff)), it seems that the [WideAngleCamera.cc](https://bitbucket.org/osrf/gazebo/src/872c960b330ed6723e36531984eb7895cc83ee4f/gazebo/rendering/WideAngleCamera.cc?at=default&fileviewer=file-view-default#WideAngleCamera.cc-566) creates 6 new cameras using [ogre function OgreSceneManager()->createCamera](http://www.ogre3d.org/docs/api/1.9/class_ogre_1_1_scene_manager.html#a62ca781b4c6d23dc3aab1f3a45d61843) and as such the calls to [setCustomProjectionMatrix](http://www.ogre3d.org/docs/api/1.9/class_ogre_1_1_frustum.html#a0413e366f2b5ecaac7e8a1e27e634def) in the new [Camera.cc](https://bitbucket.org/carlosmccosta/gazebo/src/63c2e15e39b62492ce7f8d661e9186142c9daf61/gazebo/rendering/Camera.cc?at=default&fileviewer=file-view-default) will be ignored.\n\nAs such, with the current state of the WideAngleCamera.cc, it seems that the new intrinsics sdf parameters have no visual effect.\n\nBut for simulating \"normal\" cameras, the intrinsics cx,cy,fx,fy,s and deformation parameters k1,k2,k3,p1,p2 might be enough depending on the intended application and lens used.\n", "markup": "markdown", "html": "<p>After reviewing the code related with the <a data-is-external-link=\"true\" href=\"http://gazebosim.org/tutorials?tut=wide_angle_camera&amp;branch=wideanglecamera\" rel=\"nofollow\">&lt;lens&gt;</a> sdf (<a data-is-external-link=\"true\" href=\"https://bitbucket.org/osrf/gazebo/pull-requests/1866/wideangle-camera/diff\" rel=\"nofollow\">pr gazebo</a>, <a data-is-external-link=\"true\" href=\"#!/osrf/sdformat/pull-requests/215/camera-lens-description-replaces-213/diff\" rel=\"nofollow\">pr sdf</a>), it seems that the <a data-is-external-link=\"true\" href=\"https://bitbucket.org/osrf/gazebo/src/872c960b330ed6723e36531984eb7895cc83ee4f/gazebo/rendering/WideAngleCamera.cc?at=default&amp;fileviewer=file-view-default#WideAngleCamera.cc-566\" rel=\"nofollow\">WideAngleCamera.cc</a> creates 6 new cameras using <a data-is-external-link=\"true\" href=\"http://www.ogre3d.org/docs/api/1.9/class_ogre_1_1_scene_manager.html#a62ca781b4c6d23dc3aab1f3a45d61843\" rel=\"nofollow\">ogre function OgreSceneManager()-&gt;createCamera</a> and as such the calls to <a data-is-external-link=\"true\" href=\"http://www.ogre3d.org/docs/api/1.9/class_ogre_1_1_frustum.html#a0413e366f2b5ecaac7e8a1e27e634def\" rel=\"nofollow\">setCustomProjectionMatrix</a> in the new <a data-is-external-link=\"true\" href=\"https://bitbucket.org/carlosmccosta/gazebo/src/63c2e15e39b62492ce7f8d661e9186142c9daf61/gazebo/rendering/Camera.cc?at=default&amp;fileviewer=file-view-default\" rel=\"nofollow\">Camera.cc</a> will be ignored.</p>\n<p>As such, with the current state of the WideAngleCamera.cc, it seems that the new intrinsics sdf parameters have no visual effect.</p>\n<p>But for simulating \"normal\" cameras, the intrinsics cx,cy,fx,fy,s and deformation parameters k1,k2,k3,p1,p2 might be enough depending on the intended application and lens used.</p>", "type": "rendered"}, "created_on": "2016-01-08T16:51:58.409528+00:00", "user": {"display_name": "Carlos Miguel Correia da Costa", "uuid": "{8f4eaa49-0391-4770-bde5-edb5358b51a8}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B8f4eaa49-0391-4770-bde5-edb5358b51a8%7D"}, "html": {"href": "https://bitbucket.org/%7B8f4eaa49-0391-4770-bde5-edb5358b51a8%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/323d40c3bb4988fad287b6879453b67dd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsCC-6.png"}}, "nickname": "carlosmccosta", "type": "user", "account_id": "557058:1675d077-a0e4-4cbc-bcf3-3dcc212ee41c"}, "inline": {"to": null, "from": null, "outdated": false, "path": "sdf/1.6/camera.sdf"}, "updated_on": "2016-01-08T16:51:58.505153+00:00", "type": "pullrequest_comment", "id": 13305051}