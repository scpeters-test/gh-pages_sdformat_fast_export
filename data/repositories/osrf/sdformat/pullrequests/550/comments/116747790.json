{"links": {"self": {"href": "data/repositories/osrf/sdformat/pullrequests/550/comments/116747790.json"}, "code": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/sdformat/diff/osrf/sdformat:4588e9bc7dc2..49c13a708e7b?path=sdf%2F1.6%2Fimu.sdf"}, "html": {"href": "#!/osrf/sdformat/pull-requests/550/_/diff#comment-116747790"}}, "parent": {"id": 116205948, "links": {"self": {"href": "data/repositories/osrf/sdformat/pullrequests/550/comments/116205948.json"}, "html": {"href": "#!/osrf/sdformat/pull-requests/550/_/diff#comment-116205948"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 550, "links": {"self": {"href": "data/repositories/osrf/sdformat/pullrequests/550.json"}, "html": {"href": "#!/osrf/sdformat/pull-requests/550"}}, "title": "Backport from sdf8 -> sdf7: cmake and sdf spec changes"}, "content": {"raw": "normally, I would say that the change made in pull request #532 shouldn't have been made like; it should have been changed in the next version of the sdformat spec\n\nhowever, the way it was implemented was a bit strange, in that it uses [mixed content](https://www.w3schools.com/xml/schema_complex_mixed.asp):\n\nexample from [test/sdf/sensors.sdf](#!/osrf/sdformat/src/sdf8/test/sdf/sensors.sdf)\n\n~~~\n<!-- sdf8: custom_rpy and grav_dir_x have attribute and value -->\n<orientation_reference_frame>\n  <localization>ENU</localization>\n  <custom_rpy parent_frame=\"linka\">0 1 0</custom_rpy>\n  <grav_dir_x parent_frame=\"linkb\">0 0 1</grav_dir_x>\n</orientation_reference_frame>\n~~~\n\n~~~\n<!-- sdf6: custom_rpy and grav_dir_x have mixed content value -->\n<orientation_reference_frame>\n  <localization>ENU</localization>\n  <custom_rpy><parent_frame>linka</parent_frame>0 1 0</custom_rpy>\n  <grav_dir_x><parent_frame>linkb<parent_frame>0 0 1</grav_dir_x>\n</orientation_reference_frame>\n~~~\n\nmixed content can be valid xml, but it requires an extra attribute to be set in the schema, and it's a bit weird since we don't use it anywhere else. since this code hasn't been used in gazebo, I would propose backporting the attribute change both here and to `sdf6` if we want things to be consistent", "markup": "markdown", "html": "<p>normally, I would say that the change made in <a href=\"#!/osrf/sdformat/pull-requests/532/blueprint-imu-sensor\" rel=\"nofollow\" class=\"ap-connect-link\">pull request #532</a> shouldn't have been made like; it should have been changed in the next version of the sdformat spec</p>\n<p>however, the way it was implemented was a bit strange, in that it uses <a data-is-external-link=\"true\" href=\"https://www.w3schools.com/xml/schema_complex_mixed.asp\" rel=\"nofollow\">mixed content</a>:</p>\n<p>example from <a data-is-external-link=\"true\" href=\"#!/osrf/sdformat/src/sdf8/test/sdf/sensors.sdf\" rel=\"nofollow\">test/sdf/sensors.sdf</a></p>\n<div class=\"codehilite\"><pre><span></span><span class=\"c\">&lt;!-- sdf8: custom_rpy and grav_dir_x have attribute and value --&gt;</span>\n<span class=\"nt\">&lt;orientation_reference_frame&gt;</span>\n  <span class=\"nt\">&lt;localization&gt;</span>ENU<span class=\"nt\">&lt;/localization&gt;</span>\n  <span class=\"nt\">&lt;custom_rpy</span> <span class=\"na\">parent_frame=</span><span class=\"s\">&quot;linka&quot;</span><span class=\"nt\">&gt;</span>0 1 0<span class=\"nt\">&lt;/custom_rpy&gt;</span>\n  <span class=\"nt\">&lt;grav_dir_x</span> <span class=\"na\">parent_frame=</span><span class=\"s\">&quot;linkb&quot;</span><span class=\"nt\">&gt;</span>0 0 1<span class=\"nt\">&lt;/grav_dir_x&gt;</span>\n<span class=\"nt\">&lt;/orientation_reference_frame&gt;</span>\n</pre></div>\n\n\n<div class=\"codehilite\"><pre><span></span><span class=\"c\">&lt;!-- sdf6: custom_rpy and grav_dir_x have mixed content value --&gt;</span>\n<span class=\"nt\">&lt;orientation_reference_frame&gt;</span>\n  <span class=\"nt\">&lt;localization&gt;</span>ENU<span class=\"nt\">&lt;/localization&gt;</span>\n  <span class=\"nt\">&lt;custom_rpy&gt;&lt;parent_frame&gt;</span>linka<span class=\"nt\">&lt;/parent_frame&gt;</span>0 1 0<span class=\"nt\">&lt;/custom_rpy&gt;</span>\n  <span class=\"nt\">&lt;grav_dir_x&gt;&lt;parent_frame&gt;</span>linkb<span class=\"nt\">&lt;parent_frame&gt;</span>0 0 1<span class=\"nt\">&lt;/grav_dir_x&gt;</span>\n<span class=\"nt\">&lt;/orientation_reference_frame&gt;</span>\n</pre></div>\n\n\n<p>mixed content can be valid xml, but it requires an extra attribute to be set in the schema, and it's a bit weird since we don't use it anywhere else. since this code hasn't been used in gazebo, I would propose backporting the attribute change both here and to <code>sdf6</code> if we want things to be consistent</p>", "type": "rendered"}, "created_on": "2019-09-12T23:58:44.702415+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "inline": {"to": 58, "from": null, "outdated": false, "path": "sdf/1.6/imu.sdf"}, "updated_on": "2019-09-12T23:58:44.712634+00:00", "type": "pullrequest_comment", "id": 116747790}