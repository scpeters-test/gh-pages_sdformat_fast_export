{"pagelen": 50, "values": [{"update": {"description": "The strictness of the DOM parser has been causing some issues with gazebo11. It currently drops any DOM objects that have any errors, or whose children have errors. This can quickly wipe out an entire world or model if there is one problematic tag. This PR relaxes the templated `loadRepeated` and `loadUniqueRepeated` functions in `src/Utils.hh` so that objects are kept even if they generated errors.\r\n\r\nFor example, see the `InertialInvalid` test in link_dom.cc: the invalid inertial was preventing the entire link from being loaded, causing `MODEL_WITHOUT_LINK` errors. Those errors are gone now.\r\n\r\nNote that this can also generate more errors, since building the `FrameAttachedToGraph` and `PoseRelativeToGraph` can generate multiple error messages that derive from the same problem. For an example, see the `LoadInvalidJointChildWorld` test case in joint_dom.cc (console output pasted below):\r\n\r\n~~~\r\n[ RUN      ] DOMJoint.LoadInvalidJointChildWorld\r\nError Code 18 Msg: Joint with name[joint] specified invalid child link [world].\r\nError Code 18 Msg: Child link with name[world] specified by joint with name[joint] not found in model with name[joint_child_world].\r\nError Code 23 Msg: FrameAttachedToGraph error, Non-LINK vertex with name [joint] is disconnected; it should have 1 outgoing edge in MODEL attached_to graph.\r\nError Code 23 Msg: Graph has __model__ scope but sink vertex named [joint] does not have FrameType LINK when starting from vertex with name [joint].\r\nError Code 18 Msg: Child link with name[world] specified by joint with name[joint] not found in model with name[joint_child_world].\r\nError Code 26 Msg: PoseRelativeToGraph error, Non-MODEL vertex with name [joint] is disconnected; it should have 1 incoming edge in MODEL relative_to graph.\r\nError Code 26 Msg: PoseRelativeToGraph frame with name [joint] is disconnected; its source vertex has name [joint], but its source name should be __model__.\r\n[       OK ] DOMJoint.LoadInvalidJointChildWorld (34 ms)\r\n~~~", "title": "Keep DOM objects even if they were loaded with errors", "destination": {"commit": {"hash": "da77b3187cd9", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/sdformat/commit/da77b3187cd9.json"}, "html": {"href": "#!/osrf/sdformat/commits/da77b3187cd9"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/sdformat.json"}, "html": {"href": "#!/osrf/sdformat"}, "avatar": {"href": "data/bytebucket.org/ravatar/{b6d52f9f-b070-41c0-807c-94af07ea375b}ts=1606789"}}, "type": "repository", "name": "sdformat", "full_name": "osrf/sdformat", "uuid": "{b6d52f9f-b070-41c0-807c-94af07ea375b}"}, "branch": {"name": "sdf9"}}, "reason": "", "source": {"commit": {"hash": "22d3d627cad4", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/sdformat/commit/22d3d627cad4.json"}, "html": {"href": "#!/osrf/sdformat/commits/22d3d627cad4"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/sdformat.json"}, "html": {"href": "#!/osrf/sdformat"}, "avatar": {"href": "data/bytebucket.org/ravatar/{b6d52f9f-b070-41c0-807c-94af07ea375b}ts=1606789"}}, "type": "repository", "name": "sdformat", "full_name": "osrf/sdformat", "uuid": "{b6d52f9f-b070-41c0-807c-94af07ea375b}"}, "branch": {"name": "load_dom_even_with_errors"}}, "state": "MERGED", "author": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "date": "2020-01-30T04:51:22.471701+00:00"}, "pull_request": {"type": "pullrequest", "id": 655, "links": {"self": {"href": "data/repositories/osrf/sdformat/pullrequests/655.json"}, "html": {"href": "#!/osrf/sdformat/pull-requests/655"}}, "title": "Keep DOM objects even if they were loaded with errors"}}, {"approval": {"date": "2020-01-30T04:24:52.866847+00:00", "pullrequest": {"type": "pullrequest", "id": 655, "links": {"self": {"href": "data/repositories/osrf/sdformat/pullrequests/655.json"}, "html": {"href": "#!/osrf/sdformat/pull-requests/655"}}, "title": "Keep DOM objects even if they were loaded with errors"}, "user": {"display_name": "Addisu Z. Taddese", "uuid": "{9d7fdc68-d270-4080-bf03-4df0d0dbf635}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B9d7fdc68-d270-4080-bf03-4df0d0dbf635%7D"}, "html": {"href": "https://bitbucket.org/%7B9d7fdc68-d270-4080-bf03-4df0d0dbf635%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:90bc87b0-2886-4377-a17c-3a6629a697ff/afbf9be5-1e4c-4810-89d4-e58831f34b11/128"}}, "nickname": "azeey", "type": "user", "account_id": "557058:90bc87b0-2886-4377-a17c-3a6629a697ff"}}, "pull_request": {"type": "pullrequest", "id": 655, "links": {"self": {"href": "data/repositories/osrf/sdformat/pullrequests/655.json"}, "html": {"href": "#!/osrf/sdformat/pull-requests/655"}}, "title": "Keep DOM objects even if they were loaded with errors"}}, {"approval": {"date": "2020-01-30T02:56:52.803339+00:00", "pullrequest": {"type": "pullrequest", "id": 655, "links": {"self": {"href": "data/repositories/osrf/sdformat/pullrequests/655.json"}, "html": {"href": "#!/osrf/sdformat/pull-requests/655"}}, "title": "Keep DOM objects even if they were loaded with errors"}, "user": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}}, "pull_request": {"type": "pullrequest", "id": 655, "links": {"self": {"href": "data/repositories/osrf/sdformat/pullrequests/655.json"}, "html": {"href": "#!/osrf/sdformat/pull-requests/655"}}, "title": "Keep DOM objects even if they were loaded with errors"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/sdformat/pullrequests/655/comments/133734861.json"}, "html": {"href": "#!/osrf/sdformat/pull-requests/655/_/diff#comment-133734861"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 655, "links": {"self": {"href": "data/repositories/osrf/sdformat/pullrequests/655.json"}, "html": {"href": "#!/osrf/sdformat/pull-requests/655"}}, "title": "Keep DOM objects even if they were loaded with errors"}, "content": {"raw": "Nice! This fixes the log playback issue for me! Accompanying Gazebo PR: https://bitbucket.org/osrf/gazebo/pull-requests/3189/load-sdf-17-even-if-there-are-errors/diff", "markup": "markdown", "html": "<p>Nice! This fixes the log playback issue for me! Accompanying Gazebo PR: <a href=\"https://bitbucket.org/osrf/gazebo/pull-requests/3189/load-sdf-17-even-if-there-are-errors/diff\" rel=\"nofollow\" class=\"ap-connect-link\">https://bitbucket.org/osrf/gazebo/pull-requests/3189/load-sdf-17-even-if-there-are-errors/diff</a></p>", "type": "rendered"}, "created_on": "2020-01-30T02:56:47.426116+00:00", "user": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "updated_on": "2020-01-30T02:56:47.431589+00:00", "type": "pullrequest_comment", "id": 133734861}, "pull_request": {"type": "pullrequest", "id": 655, "links": {"self": {"href": "data/repositories/osrf/sdformat/pullrequests/655.json"}, "html": {"href": "#!/osrf/sdformat/pull-requests/655"}}, "title": "Keep DOM objects even if they were loaded with errors"}}, {"update": {"description": "The strictness of the DOM parser has been causing some issues with gazebo11. It currently drops any DOM objects that have any errors, or whose children have errors. This can quickly wipe out an entire world or model if there is one problematic tag. This PR relaxes the templated `loadRepeated` and `loadUniqueRepeated` functions in `src/Utils.hh` so that objects are kept even if they generated errors.\r\n\r\nFor example, see the `InertialInvalid` test in link_dom.cc: the invalid inertial was preventing the entire link from being loaded, causing `MODEL_WITHOUT_LINK` errors. Those errors are gone now.\r\n\r\nNote that this can also generate more errors, since building the `FrameAttachedToGraph` and `PoseRelativeToGraph` can generate multiple error messages that derive from the same problem. For an example, see the `LoadInvalidJointChildWorld` test case in joint_dom.cc (console output pasted below):\r\n\r\n~~~\r\n[ RUN      ] DOMJoint.LoadInvalidJointChildWorld\r\nError Code 18 Msg: Joint with name[joint] specified invalid child link [world].\r\nError Code 18 Msg: Child link with name[world] specified by joint with name[joint] not found in model with name[joint_child_world].\r\nError Code 23 Msg: FrameAttachedToGraph error, Non-LINK vertex with name [joint] is disconnected; it should have 1 outgoing edge in MODEL attached_to graph.\r\nError Code 23 Msg: Graph has __model__ scope but sink vertex named [joint] does not have FrameType LINK when starting from vertex with name [joint].\r\nError Code 18 Msg: Child link with name[world] specified by joint with name[joint] not found in model with name[joint_child_world].\r\nError Code 26 Msg: PoseRelativeToGraph error, Non-MODEL vertex with name [joint] is disconnected; it should have 1 incoming edge in MODEL relative_to graph.\r\nError Code 26 Msg: PoseRelativeToGraph frame with name [joint] is disconnected; its source vertex has name [joint], but its source name should be __model__.\r\n[       OK ] DOMJoint.LoadInvalidJointChildWorld (34 ms)\r\n~~~", "title": "Keep DOM objects even if they were loaded with errors", "destination": {"commit": {"hash": "da77b3187cd9", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/sdformat/commit/da77b3187cd9.json"}, "html": {"href": "#!/osrf/sdformat/commits/da77b3187cd9"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/sdformat.json"}, "html": {"href": "#!/osrf/sdformat"}, "avatar": {"href": "data/bytebucket.org/ravatar/{b6d52f9f-b070-41c0-807c-94af07ea375b}ts=1606789"}}, "type": "repository", "name": "sdformat", "full_name": "osrf/sdformat", "uuid": "{b6d52f9f-b070-41c0-807c-94af07ea375b}"}, "branch": {"name": "sdf9"}}, "reason": "", "source": {"commit": {"hash": "22d3d627cad4", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/sdformat/commit/22d3d627cad4.json"}, "html": {"href": "#!/osrf/sdformat/commits/22d3d627cad4"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/sdformat.json"}, "html": {"href": "#!/osrf/sdformat"}, "avatar": {"href": "data/bytebucket.org/ravatar/{b6d52f9f-b070-41c0-807c-94af07ea375b}ts=1606789"}}, "type": "repository", "name": "sdformat", "full_name": "osrf/sdformat", "uuid": "{b6d52f9f-b070-41c0-807c-94af07ea375b}"}, "branch": {"name": "load_dom_even_with_errors"}}, "state": "OPEN", "author": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "date": "2020-01-30T01:21:06.014125+00:00"}, "pull_request": {"type": "pullrequest", "id": 655, "links": {"self": {"href": "data/repositories/osrf/sdformat/pullrequests/655.json"}, "html": {"href": "#!/osrf/sdformat/pull-requests/655"}}, "title": "Keep DOM objects even if they were loaded with errors"}}, {"update": {"description": "The strictness of the DOM parser has been causing some issues with gazebo11. It currently drops any DOM objects that have any errors, or whose children have errors. This can quickly wipe out an entire world or model if there is one problematic tag. This PR relaxes the templated `loadRepeated` and `loadUniqueRepeated` functions in `src/Utils.hh` so that objects are kept even if they generated errors.\r\n\r\nFor example, see the `InertialInvalid` test in link_dom.cc: the invalid inertial was preventing the entire link from being loaded, causing `MODEL_WITHOUT_LINK` errors. Those errors are gone now.\r\n\r\nNote that this can also generate more errors, since building the `FrameAttachedToGraph` and `PoseRelativeToGraph` can generate multiple error messages that derive from the same problem. For an example, see the `LoadInvalidJointChildWorld` test case in joint_dom.cc (console output pasted below):\r\n\r\n~~~\r\n[ RUN      ] DOMJoint.LoadInvalidJointChildWorld\r\nError Code 18 Msg: Joint with name[joint] specified invalid child link [world].\r\nError Code 18 Msg: Child link with name[world] specified by joint with name[joint] not found in model with name[joint_child_world].\r\nError Code 23 Msg: FrameAttachedToGraph error, Non-LINK vertex with name [joint] is disconnected; it should have 1 outgoing edge in MODEL attached_to graph.\r\nError Code 23 Msg: Graph has __model__ scope but sink vertex named [joint] does not have FrameType LINK when starting from vertex with name [joint].\r\nError Code 18 Msg: Child link with name[world] specified by joint with name[joint] not found in model with name[joint_child_world].\r\nError Code 26 Msg: PoseRelativeToGraph error, Non-MODEL vertex with name [joint] is disconnected; it should have 1 incoming edge in MODEL relative_to graph.\r\nError Code 26 Msg: PoseRelativeToGraph frame with name [joint] is disconnected; its source vertex has name [joint], but its source name should be __model__.\r\n[       OK ] DOMJoint.LoadInvalidJointChildWorld (34 ms)\r\n~~~", "title": "Keep DOM objects even if they were loaded with errors", "destination": {"commit": {"hash": "da77b3187cd9", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/sdformat/commit/da77b3187cd9.json"}, "html": {"href": "#!/osrf/sdformat/commits/da77b3187cd9"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/sdformat.json"}, "html": {"href": "#!/osrf/sdformat"}, "avatar": {"href": "data/bytebucket.org/ravatar/{b6d52f9f-b070-41c0-807c-94af07ea375b}ts=1606789"}}, "type": "repository", "name": "sdformat", "full_name": "osrf/sdformat", "uuid": "{b6d52f9f-b070-41c0-807c-94af07ea375b}"}, "branch": {"name": "sdf9"}}, "reason": "", "source": {"commit": {"hash": "22d3d627cad4", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/sdformat/commit/22d3d627cad4.json"}, "html": {"href": "#!/osrf/sdformat/commits/22d3d627cad4"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/sdformat.json"}, "html": {"href": "#!/osrf/sdformat"}, "avatar": {"href": "data/bytebucket.org/ravatar/{b6d52f9f-b070-41c0-807c-94af07ea375b}ts=1606789"}}, "type": "repository", "name": "sdformat", "full_name": "osrf/sdformat", "uuid": "{b6d52f9f-b070-41c0-807c-94af07ea375b}"}, "branch": {"name": "load_dom_even_with_errors"}}, "state": "OPEN", "author": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "date": "2020-01-30T01:21:05.951382+00:00"}, "pull_request": {"type": "pullrequest", "id": 655, "links": {"self": {"href": "data/repositories/osrf/sdformat/pullrequests/655.json"}, "html": {"href": "#!/osrf/sdformat/pull-requests/655"}}, "title": "Keep DOM objects even if they were loaded with errors"}}]}