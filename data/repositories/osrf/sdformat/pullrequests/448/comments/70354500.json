{"links": {"self": {"href": "data/repositories/osrf/sdformat/pullrequests/448/comments/70354500.json"}, "html": {"href": "#!/osrf/sdformat/pull-requests/448/_/diff#comment-70354500"}}, "parent": {"id": 69956525, "links": {"self": {"href": "data/repositories/osrf/sdformat/pullrequests/448/comments/69956525.json"}, "html": {"href": "#!/osrf/sdformat/pull-requests/448/_/diff#comment-69956525"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 448, "links": {"self": {"href": "data/repositories/osrf/sdformat/pullrequests/448.json"}, "html": {"href": "#!/osrf/sdformat/pull-requests/448"}}, "title": "Parse ERB files automatically."}, "content": {"raw": "If I'm not wrong, the FindRuby module shipped with the latests cmake versions it is unable to find the `RUBY_LIBRARY` out of the box with ruby installed from [https://rubyinstaller.org/](https://rubyinstaller.org) or using chocolately \\(versions 2.4.4 or 2.5.1, installed with devkit or not\\). The reasons are that the cmake module is trying to find .dll or .lib files inside `lib/`which only host a `*dll.a` dedicated to mingw32. Inside `bin/`there is a dll but the name \\(it uses a suffix `MAJOR.MINOR.0`\\) does not match with the names looked by the cmake Module \\(suffix `MAJOR.MINOR.PATCH`\\). The workaround seems to pass the `RUBY_LIBRARY` path directly in the cmake call: [#!/osrf/sdformat/commits/6eda30604dc9ebc4ebfc552b2f703d9cdd224db2](#!/osrf/sdformat/commits/6eda30604dc9ebc4ebfc552b2f703d9cdd224db2) . Some other errors appear related to the headers, I\u2019m still inspecting them.", "markup": "markdown", "html": "<p>If I'm not wrong, the FindRuby module shipped with the latests cmake versions it is unable to find the <code>RUBY_LIBRARY</code> out of the box with ruby installed from <a data-is-external-link=\"true\" href=\"https://rubyinstaller.org\" rel=\"nofollow\">https://rubyinstaller.org/</a> or using chocolately (versions 2.4.4 or 2.5.1, installed with devkit or not). The reasons are that the cmake module is trying to find .dll or .lib files inside <code>lib/</code>which only host a <code>*dll.a</code> dedicated to mingw32. Inside <code>bin/</code>there is a dll but the name (it uses a suffix <code>MAJOR.MINOR.0</code>) does not match with the names looked by the cmake Module (suffix <code>MAJOR.MINOR.PATCH</code>). The workaround seems to pass the <code>RUBY_LIBRARY</code> path directly in the cmake call: <a data-is-external-link=\"true\" href=\"#!/osrf/sdformat/commits/6eda30604dc9ebc4ebfc552b2f703d9cdd224db2\" rel=\"nofollow\">#!/osrf/sdformat/commits/6eda30604dc9ebc4ebfc552b2f703d9cdd224db2</a> . Some other errors appear related to the headers, I\u2019m still inspecting them.</p>", "type": "rendered"}, "created_on": "2018-07-18T17:25:57.823160+00:00", "user": {"display_name": "Jose Luis Rivero", "uuid": "{d12309b2-f745-42ee-b119-aec4fcdf81fe}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bd12309b2-f745-42ee-b119-aec4fcdf81fe%7D"}, "html": {"href": "https://bitbucket.org/%7Bd12309b2-f745-42ee-b119-aec4fcdf81fe%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/109284c8b83411dbc7492138f6167e9ed=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsJR-5.png"}}, "nickname": "Jose Luis Rivero", "type": "user", "account_id": "557058:155a32e2-420c-4d50-98e0-0e722f63f906"}, "updated_on": "2018-07-18T17:26:39.027772+00:00", "type": "pullrequest_comment", "id": 70354500}