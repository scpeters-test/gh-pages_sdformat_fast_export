{"links": {"self": {"href": "data/repositories/osrf/sdformat/pullrequests/570/comments/117806878.json"}, "code": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/sdformat/diff/eacousineau/sdformat:ff9a275d7272..e76f526e7e2e?path=include%2Fsdf%2FVisual.hh"}, "html": {"href": "#!/osrf/sdformat/pull-requests/570/_/diff#comment-117806878"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 570, "links": {"self": {"href": "data/repositories/osrf/sdformat/pullrequests/570.json"}, "html": {"href": "#!/osrf/sdformat/pull-requests/570"}}, "title": "Support //joint/axis/xyz[@expressed_in]"}, "content": {"raw": "the `ResolvePose(string, Pose3d&)` functions let you get the pose relative to whatever frame you pass in\n\nthe `ResolvePose(Pose3d&)` functions currently resolve the pose relative to what the parent would have been with an sdf 1.6 pose tree\n\n~~~\n<model name=\"M\">\n  <frame name=\"collision\">\n    <pose>1 2 3 0 0 0</pose>\n  </frame>\n  <link name=\"L\">\n    <pose>4 5 6 0 0 0</pose>\n    <collision name=\"C\">\n      <pose relative_to=\"collision\">1 1 1 0 0 0</pose>\n      <geometry>...</geometry>\n    </collision>\n  </link>\n</model>\n~~~\n\nin this model:\n\n* the collision pose in the model frame is `2 3 4 0 0 0`\n* `Collision::Pose()` returns the literal value in the xml element: `1 1 1 0 0 0`\n* `Collision::ResolvePose(Pose3d& _pose)` calls `Collision::ResolvePose(\"L\", _pose)`, which resolves to `-2 -2 -2 0 0 0`", "markup": "markdown", "html": "<p>the <code>ResolvePose(string, Pose3d&amp;)</code> functions let you get the pose relative to whatever frame you pass in</p>\n<p>the <code>ResolvePose(Pose3d&amp;)</code> functions currently resolve the pose relative to what the parent would have been with an sdf 1.6 pose tree</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"nt\">&lt;model</span> <span class=\"na\">name=</span><span class=\"s\">&quot;M&quot;</span><span class=\"nt\">&gt;</span>\n  <span class=\"nt\">&lt;frame</span> <span class=\"na\">name=</span><span class=\"s\">&quot;collision&quot;</span><span class=\"nt\">&gt;</span>\n    <span class=\"nt\">&lt;pose&gt;</span>1 2 3 0 0 0<span class=\"nt\">&lt;/pose&gt;</span>\n  <span class=\"nt\">&lt;/frame&gt;</span>\n  <span class=\"nt\">&lt;link</span> <span class=\"na\">name=</span><span class=\"s\">&quot;L&quot;</span><span class=\"nt\">&gt;</span>\n    <span class=\"nt\">&lt;pose&gt;</span>4 5 6 0 0 0<span class=\"nt\">&lt;/pose&gt;</span>\n    <span class=\"nt\">&lt;collision</span> <span class=\"na\">name=</span><span class=\"s\">&quot;C&quot;</span><span class=\"nt\">&gt;</span>\n      <span class=\"nt\">&lt;pose</span> <span class=\"na\">relative_to=</span><span class=\"s\">&quot;collision&quot;</span><span class=\"nt\">&gt;</span>1 1 1 0 0 0<span class=\"nt\">&lt;/pose&gt;</span>\n      <span class=\"nt\">&lt;geometry&gt;</span>...<span class=\"nt\">&lt;/geometry&gt;</span>\n    <span class=\"nt\">&lt;/collision&gt;</span>\n  <span class=\"nt\">&lt;/link&gt;</span>\n<span class=\"nt\">&lt;/model&gt;</span>\n</pre></div>\n\n\n<p>in this model:</p>\n<ul>\n<li>the collision pose in the model frame is <code>2 3 4 0 0 0</code></li>\n<li><code>Collision::Pose()</code> returns the literal value in the xml element: <code>1 1 1 0 0 0</code></li>\n<li><code>Collision::ResolvePose(Pose3d&amp; _pose)</code> calls <code>Collision::ResolvePose(\"L\", _pose)</code>, which resolves to <code>-2 -2 -2 0 0 0</code></li>\n</ul>", "type": "rendered"}, "created_on": "2019-09-20T22:14:30.003761+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "inline": {"to": 113, "from": null, "outdated": false, "path": "include/sdf/Visual.hh"}, "updated_on": "2019-09-20T22:14:30.014165+00:00", "type": "pullrequest_comment", "id": 117806878}