{"links": {"self": {"href": "data/repositories/osrf/sdformat/pullrequests/143/comments/5218048.json"}, "code": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/sdformat/diff/osrf/sdformat:9a994b40ea07..e7064f75b6ed?path=cmake%2Fsdf_config.cmake.in"}, "html": {"href": "#!/osrf/sdformat/pull-requests/143/_/diff#comment-5218048"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 143, "links": {"self": {"href": "data/repositories/osrf/sdformat/pullrequests/143.json"}, "html": {"href": "#!/osrf/sdformat/pull-requests/143"}}, "title": "Add ERB parsing"}, "content": {"raw": "I think we need to `include (FindPkgConfig)`. Otherwise the [gazebo REGRESSION_config-cmake test fails](http://build.osrfoundation.org/job/gazebo-any-sdformat-any-devel-trusty-amd64/22/testReport/%28root%29/Cmake/Config/).\n~~~\n329: [ RUN      ] Cmake.Config\n329: -- The C compiler identification is GNU 4.8.2\n329: -- The CXX compiler identification is GNU 4.8.2\n329: -- Check for working C compiler: /usr/bin/cc\n329: -- Check for working C compiler: /usr/bin/cc -- works\n329: -- Detecting C compiler ABI info\n329: -- Detecting C compiler ABI info - done\n329: -- Check for working CXX compiler: /usr/bin/c++\n329: -- Check for working CXX compiler: /usr/bin/c++ -- works\n329: -- Detecting CXX compiler ABI info\n329: -- Detecting CXX compiler ABI info - done\n329: -- Boost version: 1.54.0\n329: -- Found the following Boost libraries:\n329: --   system\n329: -- Looking for include file pthread.h\n329: -- Looking for include file pthread.h - found\n329: -- Looking for pthread_create\n329: -- Looking for pthread_create - not found\n329: -- Looking for pthread_create in pthreads\n329: -- Looking for pthread_create in pthreads - not found\n329: -- Looking for pthread_create in pthread\n329: -- Looking for pthread_create in pthread - found\n329: -- Found Threads: TRUE  \n329: -- Found PROTOBUF: /usr/lib/x86_64-linux-gnu/libprotobuf.so  \n329: CMake Error at /usr/lib/x86_64-linux-gnu/cmake/sdformat/SDFormatConfig.cmake:42 (pkg_check_modules):\n329:   Unknown CMake command \"pkg_check_modules\".\n329: Call Stack (most recent call first):\n329:   /usr/lib/x86_64-linux-gnu/cmake/gazebo/gazebo-config.cmake:46 (find_package)\n329:   CMakeLists.txt:9 (find_package)\n329: \n329: \n329: -- Configuring incomplete, errors occurred!\n329: See also \"/var/lib/jenkins/workspace/gazebo-any-sdformat-any-devel-trusty-amd64/gazebo/build/test/cmake/CMakeFiles/CMakeOutput.log\".\n329: See also \"/var/lib/jenkins/workspace/gazebo-any-sdformat-any-devel-trusty-amd64/gazebo/build/test/cmake/CMakeFiles/CMakeError.log\".\n329: /var/lib/jenkins/workspace/gazebo-any-sdformat-any-devel-trusty-amd64/gazebo/test/cmake/config-cmake.cc:26: Failure\n329: Value of: 0\n329: Expected: system(cmd)\n329: Which is: 256\n329: [  FAILED  ] Cmake.Config (686 ms)\n~~~", "markup": "markdown", "html": "<p>I think we need to <code>include (FindPkgConfig)</code>. Otherwise the <a data-is-external-link=\"true\" href=\"http://build.osrfoundation.org/job/gazebo-any-sdformat-any-devel-trusty-amd64/22/testReport/%28root%29/Cmake/Config/\" rel=\"nofollow\">gazebo REGRESSION_config-cmake test fails</a>.</p>\n<div class=\"codehilite\"><pre><span></span>329: [ RUN      ] Cmake.Config\n329: -- The C compiler identification is GNU 4.8.2\n329: -- The CXX compiler identification is GNU 4.8.2\n329: -- Check for working C compiler: /usr/bin/cc\n329: -- Check for working C compiler: /usr/bin/cc -- works\n329: -- Detecting C compiler ABI info\n329: -- Detecting C compiler ABI info - done\n329: -- Check for working CXX compiler: /usr/bin/c++\n329: -- Check for working CXX compiler: /usr/bin/c++ -- works\n329: -- Detecting CXX compiler ABI info\n329: -- Detecting CXX compiler ABI info - done\n329: -- Boost version: 1.54.0\n329: -- Found the following Boost libraries:\n329: --   system\n329: -- Looking for include file pthread.h\n329: -- Looking for include file pthread.h - found\n329: -- Looking for pthread_create\n329: -- Looking for pthread_create - not found\n329: -- Looking for pthread_create in pthreads\n329: -- Looking for pthread_create in pthreads - not found\n329: -- Looking for pthread_create in pthread\n329: -- Looking for pthread_create in pthread - found\n329: -- Found Threads: TRUE  \n329: -- Found PROTOBUF: /usr/lib/x86_64-linux-gnu/libprotobuf.so  \n329: CMake Error at /usr/lib/x86_64-linux-gnu/cmake/sdformat/SDFormatConfig.cmake:42 (pkg_check_modules):\n329:   Unknown CMake command &quot;pkg_check_modules&quot;.\n329: Call Stack (most recent call first):\n329:   /usr/lib/x86_64-linux-gnu/cmake/gazebo/gazebo-config.cmake:46 (find_package)\n329:   CMakeLists.txt:9 (find_package)\n329: \n329: \n329: -- Configuring incomplete, errors occurred!\n329: See also &quot;/var/lib/jenkins/workspace/gazebo-any-sdformat-any-devel-trusty-amd64/gazebo/build/test/cmake/CMakeFiles/CMakeOutput.log&quot;.\n329: See also &quot;/var/lib/jenkins/workspace/gazebo-any-sdformat-any-devel-trusty-amd64/gazebo/build/test/cmake/CMakeFiles/CMakeError.log&quot;.\n329: /var/lib/jenkins/workspace/gazebo-any-sdformat-any-devel-trusty-amd64/gazebo/test/cmake/config-cmake.cc:26: Failure\n329: Value of: 0\n329: Expected: system(cmd)\n329: Which is: 256\n329: [  FAILED  ] Cmake.Config (686 ms)\n</pre></div>", "type": "rendered"}, "created_on": "2015-02-18T22:27:24.233831+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "inline": {"to": 42, "from": null, "outdated": true, "path": "cmake/sdf_config.cmake.in"}, "updated_on": "2015-02-18T22:27:24.242334+00:00", "type": "pullrequest_comment", "id": 5218048}