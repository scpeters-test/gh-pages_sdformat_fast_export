{"rendered": {"description": {"raw": "* Add SDFORMAT_RUN_VALGRIND_TESTS CMake option to run tests with Valgrind\r\n* Fix memory leak in Console class\r\n* Fix memory leak in URDF parser\r\n\r\nI was trying to debug a non-determinist bug in https://bitbucket.org/osrf/gazebo/pull-requests/1721/cache-joint-force-torque-for-ode-and-dart/diff , and I wanted to make sure there was no use of not initialized memory in the tests using Valgrind. Unfortunately the Valgrind output was not clean, mainly for some errors in the libraries used by Gazebo. This PR cleans the `sdformat` related Valgrind errors. \r\n\r\nTo facilitate debug of memory issues, a `SDFORMAT_RUN_VALGRIND_TESTS` CMake option was added (default value set to OFF) to automatically run all the tests under Valgrind, and to reported a failed test if Valgrind detects some memory-related errors. This can be removed from the PR, but I found it quite useful in the debug and so I guess it could be also useful in the future. ", "markup": "markdown", "html": "<ul>\n<li>Add SDFORMAT_RUN_VALGRIND_TESTS CMake option to run tests with Valgrind</li>\n<li>Fix memory leak in Console class</li>\n<li>Fix memory leak in URDF parser</li>\n</ul>\n<p>I was trying to debug a non-determinist bug in <a href=\"https://bitbucket.org/osrf/gazebo/pull-requests/1721/cache-joint-force-torque-for-ode-and-dart/diff\" rel=\"nofollow\" class=\"ap-connect-link\">https://bitbucket.org/osrf/gazebo/pull-requests/1721/cache-joint-force-torque-for-ode-and-dart/diff</a> , and I wanted to make sure there was no use of not initialized memory in the tests using Valgrind. Unfortunately the Valgrind output was not clean, mainly for some errors in the libraries used by Gazebo. This PR cleans the <code>sdformat</code> related Valgrind errors. </p>\n<p>To facilitate debug of memory issues, a <code>SDFORMAT_RUN_VALGRIND_TESTS</code> CMake option was added (default value set to OFF) to automatically run all the tests under Valgrind, and to reported a failed test if Valgrind detects some memory-related errors. This can be removed from the PR, but I found it quite useful in the debug and so I guess it could be also useful in the future. </p>", "type": "rendered"}, "title": {"raw": "Fix memory leaks", "markup": "markdown", "html": "<p>Fix memory leaks</p>", "type": "rendered"}}, "type": "pullrequest", "description": "* Add SDFORMAT_RUN_VALGRIND_TESTS CMake option to run tests with Valgrind\r\n* Fix memory leak in Console class\r\n* Fix memory leak in URDF parser\r\n\r\nI was trying to debug a non-determinist bug in https://bitbucket.org/osrf/gazebo/pull-requests/1721/cache-joint-force-torque-for-ode-and-dart/diff , and I wanted to make sure there was no use of not initialized memory in the tests using Valgrind. Unfortunately the Valgrind output was not clean, mainly for some errors in the libraries used by Gazebo. This PR cleans the `sdformat` related Valgrind errors. \r\n\r\nTo facilitate debug of memory issues, a `SDFORMAT_RUN_VALGRIND_TESTS` CMake option was added (default value set to OFF) to automatically run all the tests under Valgrind, and to reported a failed test if Valgrind detects some memory-related errors. This can be removed from the PR, but I found it quite useful in the debug and so I guess it could be also useful in the future. ", "links": {"decline": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/sdformat/pullrequests/249/decline"}, "diffstat": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/sdformat/diffstat/osrf/sdformat:36af4fa60fe0%0De720a29dc3df?from_pullrequest_id=249"}, "commits": {"href": "data/repositories/osrf/sdformat/pullrequests/249/commits.json"}, "self": {"href": "data/repositories/osrf/sdformat/pullrequests/249.json"}, "comments": {"href": "data/repositories/osrf/sdformat/pullrequests/249/comments_page=1.json"}, "merge": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/sdformat/pullrequests/249/merge"}, "html": {"href": "#!/osrf/sdformat/pull-requests/249"}, "activity": {"href": "data/repositories/osrf/sdformat/pullrequests/249/activity.json"}, "diff": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/sdformat/diff/osrf/sdformat:36af4fa60fe0%0De720a29dc3df?from_pullrequest_id=249"}, "approve": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/sdformat/pullrequests/249/approve"}, "statuses": {"href": "data/repositories/osrf/sdformat/pullrequests/249/statuses_page=1.json"}}, "title": "Fix memory leaks", "close_source_branch": true, "reviewers": [], "id": 249, "destination": {"commit": {"hash": "e720a29dc3df", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/sdformat/commit/e720a29dc3df.json"}, "html": {"href": "#!/osrf/sdformat/commits/e720a29dc3df"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/sdformat.json"}, "html": {"href": "#!/osrf/sdformat"}, "avatar": {"href": "data/bytebucket.org/ravatar/{b6d52f9f-b070-41c0-807c-94af07ea375b}ts=1606789"}}, "type": "repository", "name": "sdformat", "full_name": "osrf/sdformat", "uuid": "{b6d52f9f-b070-41c0-807c-94af07ea375b}"}, "branch": {"name": "default"}}, "created_on": "2015-12-28T19:16:58.480441+00:00", "summary": {"raw": "* Add SDFORMAT_RUN_VALGRIND_TESTS CMake option to run tests with Valgrind\r\n* Fix memory leak in Console class\r\n* Fix memory leak in URDF parser\r\n\r\nI was trying to debug a non-determinist bug in https://bitbucket.org/osrf/gazebo/pull-requests/1721/cache-joint-force-torque-for-ode-and-dart/diff , and I wanted to make sure there was no use of not initialized memory in the tests using Valgrind. Unfortunately the Valgrind output was not clean, mainly for some errors in the libraries used by Gazebo. This PR cleans the `sdformat` related Valgrind errors. \r\n\r\nTo facilitate debug of memory issues, a `SDFORMAT_RUN_VALGRIND_TESTS` CMake option was added (default value set to OFF) to automatically run all the tests under Valgrind, and to reported a failed test if Valgrind detects some memory-related errors. This can be removed from the PR, but I found it quite useful in the debug and so I guess it could be also useful in the future. ", "markup": "markdown", "html": "<ul>\n<li>Add SDFORMAT_RUN_VALGRIND_TESTS CMake option to run tests with Valgrind</li>\n<li>Fix memory leak in Console class</li>\n<li>Fix memory leak in URDF parser</li>\n</ul>\n<p>I was trying to debug a non-determinist bug in <a href=\"https://bitbucket.org/osrf/gazebo/pull-requests/1721/cache-joint-force-torque-for-ode-and-dart/diff\" rel=\"nofollow\" class=\"ap-connect-link\">https://bitbucket.org/osrf/gazebo/pull-requests/1721/cache-joint-force-torque-for-ode-and-dart/diff</a> , and I wanted to make sure there was no use of not initialized memory in the tests using Valgrind. Unfortunately the Valgrind output was not clean, mainly for some errors in the libraries used by Gazebo. This PR cleans the <code>sdformat</code> related Valgrind errors. </p>\n<p>To facilitate debug of memory issues, a <code>SDFORMAT_RUN_VALGRIND_TESTS</code> CMake option was added (default value set to OFF) to automatically run all the tests under Valgrind, and to reported a failed test if Valgrind detects some memory-related errors. This can be removed from the PR, but I found it quite useful in the debug and so I guess it could be also useful in the future. </p>", "type": "rendered"}, "source": {"commit": {"hash": "171b143d7d27", "type": "commit", "links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/traversaro/sdformat/commit/171b143d7d27"}, "html": {"href": "https://bitbucket.org/traversaro/sdformat/commits/171b143d7d27"}}}, "repository": {"links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/traversaro/sdformat"}, "html": {"href": "https://bitbucket.org/traversaro/sdformat"}, "avatar": {"href": "data/bytebucket.org/ravatar/{e8677ce0-8f62-4623-a535-f4140583deb5}ts=c_plus_plus"}}, "type": "repository", "name": "sdformat", "full_name": "traversaro/sdformat", "uuid": "{e8677ce0-8f62-4623-a535-f4140583deb5}"}, "branch": {"name": "fix_memory_leaks"}}, "comment_count": 7, "state": "MERGED", "task_count": 0, "participants": [{"role": "PARTICIPANT", "participated_on": "2015-12-29T17:46:03.905961+00:00", "type": "participant", "approved": true, "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}}, {"role": "PARTICIPANT", "participated_on": "2016-01-05T22:54:52.389033+00:00", "type": "participant", "approved": true, "user": {"display_name": "Nate Koenig", "uuid": "{c862cdd9-fcc8-4419-9fc7-e20db14b8fcb}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc862cdd9-fcc8-4419-9fc7-e20db14b8fcb%7D"}, "html": {"href": "https://bitbucket.org/%7Bc862cdd9-fcc8-4419-9fc7-e20db14b8fcb%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:095b1e12-74ed-4e20-b44f-2f0745b616e0/ca24bb11-4787-4b14-a20d-d91835e9bde2/128"}}, "nickname": "Nathan Koenig", "type": "user", "account_id": "557058:095b1e12-74ed-4e20-b44f-2f0745b616e0"}}, {"role": "PARTICIPANT", "participated_on": "2015-12-29T09:03:07.589690+00:00", "type": "participant", "approved": false, "user": {"display_name": "Silvio Traversaro", "uuid": "{34f404cb-5642-4f27-a032-e04c7143d776}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B34f404cb-5642-4f27-a032-e04c7143d776%7D"}, "html": {"href": "https://bitbucket.org/%7B34f404cb-5642-4f27-a032-e04c7143d776%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:e1c3e6a0-9a64-4e5f-a668-feebc191c5b6/578caaa1-056c-45a2-8bf9-bee94c3bebef/128"}}, "nickname": "traversaro", "type": "user", "account_id": "557058:e1c3e6a0-9a64-4e5f-a668-feebc191c5b6"}}], "reason": "", "updated_on": "2016-01-05T22:54:56.853683+00:00", "author": {"display_name": "Silvio Traversaro", "uuid": "{34f404cb-5642-4f27-a032-e04c7143d776}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B34f404cb-5642-4f27-a032-e04c7143d776%7D"}, "html": {"href": "https://bitbucket.org/%7B34f404cb-5642-4f27-a032-e04c7143d776%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:e1c3e6a0-9a64-4e5f-a668-feebc191c5b6/578caaa1-056c-45a2-8bf9-bee94c3bebef/128"}}, "nickname": "traversaro", "type": "user", "account_id": "557058:e1c3e6a0-9a64-4e5f-a668-feebc191c5b6"}, "merge_commit": {"hash": "36af4fa60fe0", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/sdformat/commit/36af4fa60fe0.json"}, "html": {"href": "#!/osrf/sdformat/commits/36af4fa60fe0"}}}, "closed_by": {"display_name": "Nate Koenig", "uuid": "{c862cdd9-fcc8-4419-9fc7-e20db14b8fcb}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc862cdd9-fcc8-4419-9fc7-e20db14b8fcb%7D"}, "html": {"href": "https://bitbucket.org/%7Bc862cdd9-fcc8-4419-9fc7-e20db14b8fcb%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:095b1e12-74ed-4e20-b44f-2f0745b616e0/ca24bb11-4787-4b14-a20d-d91835e9bde2/128"}}, "nickname": "Nathan Koenig", "type": "user", "account_id": "557058:095b1e12-74ed-4e20-b44f-2f0745b616e0"}}