{"links": {"self": {"href": "data/repositories/osrf/sdformat/pullrequests/77/comments/917387.json"}, "html": {"href": "#!/osrf/sdformat/pull-requests/77/_/diff#comment-917387"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 77, "links": {"self": {"href": "data/repositories/osrf/sdformat/pullrequests/77.json"}, "html": {"href": "#!/osrf/sdformat/pull-requests/77"}}, "title": "Support to use external URDF"}, "content": {"raw": "I'm getting seg-faults of `INTEGRATION_fixed_joint_reduction` and `PERFORMANCE_parser_urdf` when I run `make test` with `USE_EXTERNAL_URDF=True`. In each case, I get a double free detected by glibc and a backtrace / memory map ([see here for INTEGRATION_fixed_joint_reduction](https://dl.dropboxusercontent.com/u/96660379/sdformat_pull_request_77_backtrace.txt)).\n\nThe gdb backtrace implicates the following lines:\n~~~\n#9  0x00007ffff7b2d0d6 in ReduceVisualToParent (_link=..., _groupName=..., _visual=...)\n    at /home/scpeters/ws/sdformat/src/sdformat/src/parser_urdf.cc:362\n#10 0x00007ffff7b313aa in ReduceVisualsToParent (_link=...) at /home/scpeters/ws/sdformat/src/sdformat/src/parser_urdf.cc:871\n#11 0x00007ffff7b2d5fd in ReduceFixedJoints (_root=0x872b90, _link=...)\n    at /home/scpeters/ws/sdformat/src/sdformat/src/parser_urdf.cc:389\n~~~\n[parser_urdf.cc:362](#!/osrf/sdformat/src/a5fb88dbc2ac106fa5c7ff2a57cfdf3f29d3106f/src/parser_urdf.cc?at=use_external_urdf_flag#cl-362)\n\nEDIT: I believe it is not related to #35 since the backtrace is different.", "markup": "markdown", "html": "<p>I'm getting seg-faults of <code>INTEGRATION_fixed_joint_reduction</code> and <code>PERFORMANCE_parser_urdf</code> when I run <code>make test</code> with <code>USE_EXTERNAL_URDF=True</code>. In each case, I get a double free detected by glibc and a backtrace / memory map (<a data-is-external-link=\"true\" href=\"https://dl.dropboxusercontent.com/u/96660379/sdformat_pull_request_77_backtrace.txt\" rel=\"nofollow\">see here for INTEGRATION_fixed_joint_reduction</a>).</p>\n<p>The gdb backtrace implicates the following lines:</p>\n<div class=\"codehilite\"><pre><span></span>#9  0x00007ffff7b2d0d6 in ReduceVisualToParent (_link=..., _groupName=..., _visual=...)\n    at /home/scpeters/ws/sdformat/src/sdformat/src/parser_urdf.cc:362\n#10 0x00007ffff7b313aa in ReduceVisualsToParent (_link=...) at /home/scpeters/ws/sdformat/src/sdformat/src/parser_urdf.cc:871\n#11 0x00007ffff7b2d5fd in ReduceFixedJoints (_root=0x872b90, _link=...)\n    at /home/scpeters/ws/sdformat/src/sdformat/src/parser_urdf.cc:389\n</pre></div>\n\n\n<p><a data-is-external-link=\"true\" href=\"#!/osrf/sdformat/src/a5fb88dbc2ac106fa5c7ff2a57cfdf3f29d3106f/src/parser_urdf.cc?at=use_external_urdf_flag#cl-362\" rel=\"nofollow\">parser_urdf.cc:362</a></p>\n<p>EDIT: I believe it is not related to <a href=\"#!/osrf/sdformat/issues/35/integration-tests-segfault-without-an\" rel=\"nofollow\" title=\"Integration tests segfault without an installed copy of sdformat\" class=\"ap-connect-link\"><s>#35</s></a> since the backtrace is different.</p>", "type": "rendered"}, "created_on": "2013-12-06T21:13:11.284780+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "updated_on": "2013-12-09T23:34:55.565334+00:00", "type": "pullrequest_comment", "id": 917387}